B·ªò GI√ÅO D·ª§C V√Ä ƒê√ÄO T·∫†O
TR∆Ø·ªúNG ƒê·∫†I H·ªåC S∆Ø PH·∫†M K·ª∏ THU·∫¨T TP.HCM 
KHOA ƒêI·ªÜN - ƒêI·ªÜN T·ª¨
ƒê·ªí √ÅN T·ªêT NGHI·ªÜP
NG√ÄNH C√îNG NGH·ªÜ K·ª∏ THU·∫¨T ƒêI·ªÜN T·ª¨ - TRUY·ªÄN TH√îNG
ƒêI·ªÄU KHI·ªÇN THI·∫æT B·ªä B·∫∞NG
C·ª¨ CH·ªà TAY TH√îNG QUA X·ª¨ L√ù ·∫¢NH
     
GVHD: TS. NGUY·ªÑN THANH H·∫¢I 
SVTH: NGUY·ªÑN H·ªÆU S√ÅNG
MSSV: 12141191
SVTH: T·ª™ TH·ªä KIM CHI
MSSV: 12141022
Tp. H·ªì Ch√≠ Minh, th√°ng 07/2016
SKL 0 0 4 5 1 7
B·ªò GI√ÅO D·ª§C & ƒê√ÄO T·∫†O 
TR∆Ø·ªúNG ƒê·∫†I H·ªåC S∆Ø PH·∫†M K·ª∏ THU·∫¨T TP. H·ªí CH√ç MINH 
KHOA ƒêI·ªÜN ‚Äì ƒêI·ªÜN T·ª¨ 
B·ªò M√îN ƒêI·ªÜN T·ª¨-C√îNG NGHI·ªÜP 
 
                                                      --------------------------------- 
 
 
 
 
 
 
 
 
 
  ƒê·ªí √ÅN T·ªêT NGHI·ªÜP 
 
NG√ÄNH C√îNG NGH·ªÜ K·ª∏ THU·∫¨T ƒêI·ªÜN T·ª¨ TRUY·ªÄN TH√îNG 
 
 ƒê·ªÄ T√ÄI: 
ƒêI·ªÄU KHI·ªÇN THI·∫æT B·ªä B·∫∞NG C·ª¨ CH·ªà 
TAY TH√îNG QUA X·ª¨ L√ù ·∫¢NH 
 
 
                       GVHD: TS. NGUY·ªÑN THANH H·∫¢I 
 
 
SVTH:  NGUY·ªÑN H·ªÆU S√ÅNG  12141191 
 
 
 
     T·ª™ TH·ªä KIM CHI          12141022 
 
 
 
Tp. H·ªì Ch√≠ Minh ‚Äì 7/2016 
B·ªò GI√ÅO D·ª§C & ƒê√ÄO T·∫†O 
TR∆Ø·ªúNG ƒê·∫†I H·ªåC S∆Ø PH·∫†M K·ª∏ THU·∫¨T TP. H·ªí CH√ç MINH 
KHOA ƒêI·ªÜN ‚Äì ƒêI·ªÜN T·ª¨ 
B·ªò M√îN ƒêI·ªÜN T·ª¨-C√îNG NGHI·ªÜP 
                                                    --------------------------------- 
 
     ƒê·ªí √ÅN T·ªêT NGHI·ªÜP 
NG√ÄNH C√îNG NGH·ªÜ K·ª∏ THU·∫¨T ƒêI·ªÜN T·ª¨ 
TRUY·ªÄN TH√îNG 
ƒê·ªÄ T√ÄI: 
ƒêI·ªÄU KHI·ªÇN THI·∫æT B·ªä B·∫∞NG C·ª¨ 
CH·ªà TAY TH√îNG QUA X·ª¨ L√ù ·∫¢NH 
 
 
  
            GVHD: TS. NGUY·ªÑN THANH H·∫¢I 
 
 
                      SVTH:  NGUY·ªÑN H·ªÆU S√ÅNG  12141191 
 
  
 
 
         T·ª™ TH·ªä KIM CHI          12141022 
 
  
 
   L·ªõp:      12141, h·ªá ch√≠nh quy 
 
  
 
 
 
  
 
Tp. H·ªì Ch√≠ Minh - 7/2016 
 
ii 
TR∆Ø·ªúNG ƒêH. S∆Ø PH·∫†M K·ª∏ THU·∫¨T           C·ªòNG H√íA X√É H·ªòI CH·ª¶ NGHƒ®A VI·ªÜT NAM 
              TP. H·ªí CH√ç MINH                                         ƒê·ªòC L·∫¨P - T·ª∞ DO - H·∫†NH PH√öC 
        KHOA ƒêI·ªÜN-ƒêI·ªÜN T·ª¨ 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP 
 
 
 
NHI·ªÜM V·ª§ ƒê·ªí √ÅN T·ªêT NGHI·ªÜP 
 
H·ªç t√™n sinh vi√™n: 
Nguy·ªÖn H·ªØu S√°ng  
 
MSSV: 12141191 
 
T·ª´ Th·ªã Kim Chi 
 
 
MSSV: 12141022 
Chuy√™n ng√†nh: 
ƒêi·ªán t·ª≠ c√¥ng nghi·ªáp 
M√£ ng√†nh: 
D510302 
H·ªá ƒë√†o t·∫°o: 
ƒê·∫°i h·ªçc ch√≠nh quy 
M√£ h·ªá: 
1 
Kh√≥a: 
2012 
L·ªõp: 
12141DT 
 
I. T√äN ƒê·ªÄ T√ÄI:  ƒêI·ªÄU KHI·ªÇN THI·∫æT B·ªä B·∫∞NG C·ª¨ CH·ªà TAY 
 
 
 
TH√îNG QUA X·ª¨ L√ù ·∫¢NH 
II. NHI·ªÜM V·ª§  
1. C√°c s·ªë li·ªáu ban ƒë·∫ßu: 
ÔÄ≠ Ph·∫°m Ng·ªçc H∆∞∆°ng Tr√†, ƒê·ªì √°n t·ªët nghi·ªáp ‚Äú·ª®ng d·ª•ng k·ªπ thu·∫≠t nh·∫≠n d·∫°ng ·∫£nh ƒë·ªÉ 
ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã‚Äù, tr∆∞·ªùng ƒêH S∆∞ Ph·∫°m K·ªπ Thu·∫≠t TpHCM, 2012. 
ÔÄ≠ Tr·∫ßn Ng·ªçc ThƒÉng, Tr·∫ßn Th√†nh Trung, ƒê·ªì √°n t·ªët nghi·ªáp ‚ÄúHandGesture‚Äù, tr∆∞·ªùng 
ƒêH S∆∞ Ph·∫°m K·ªπ Thu·∫≠t TpHCM, 2013. 
ÔÄ≠ Nguy·ªÖn Quang Hoa, Gi√°o Tr√¨nh ‚ÄúX·ª≠ L√Ω ·∫¢nh‚Äù, H·ªçc Vi·ªán C√¥ng Ngh·ªá B∆∞u Ch√≠nh 
Vi·ªÖn Th√¥ng, 2006. 
2. N·ªôi dung th·ª±c hi·ªán: 
ÔÄ≠ Thu ·∫£nh t·ª´ webcam. 
ÔÄ≠ Tr√≠ch xu·∫•t m√†u da c·ªßa con ng∆∞·ªùi d·ª±a v√†o ƒë·∫∑c tr∆∞ng m√†u da trong kh√¥ng gian m√†u 
YCbCr. 
ÔÄ≠ X·ª≠ l√Ω ·∫£nh d√πng b·ªô l·ªçc trung v·ªã v√† thu·∫≠t to√°n t√¨m tr·ªçng t√¢m c·ªßa ·∫£nh. 
ÔÄ≠ K·∫øt n·ªëi v√† giao ti·∫øp thi·∫øt b·ªã ngo·∫°i vi. 
ÔÄ≠ Thi·∫øt k·∫ø m·∫°ch ƒëi·ªÅu khi·ªÉn th√¥ng qua chu·∫©n giao ti·∫øp UART. 
ÔÄ≠ Ch·∫°y th·ª≠ v√† ch·ªânh s·ª≠a. 
ÔÄ≠ Vi·∫øt b√°o c√°o. 
III. NG√ÄY GIAO NHI·ªÜM V·ª§: 
10/04/2016 
IV. NG√ÄY HO√ÄN TH√ÄNH NHI·ªÜM V·ª§: 01/07/2016 
V.  H·ªå V√Ä T√äN C√ÅN B·ªò H∆Ø·ªöNG D·∫™N: 
TS. Nguy·ªÖn Thanh H·∫£i 
 
 
 
     Tp. HCM, ng√†y 5 th√°ng 7 nƒÉm 2016 
C√ÅN B·ªò H∆Ø·ªöNG D·∫™N 
    BM. ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP 
 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP 
 
iv 
 
L·ªúI CAM ƒêOAN 
ƒê·ªÅ t√†i n√†y l√† do t√¥i t·ª± th·ª±c hi·ªán d·ª±a v√†o m·ªôt s·ªë t√†i li·ªáu tr∆∞·ªõc ƒë√≥ v√† kh√¥ng sao ch√©p t·ª´ 
t√†i li·ªáu hay c√¥ng tr√¨nh ƒë√£ c√≥ tr∆∞·ªõc ƒë√≥. 
 
 
 
 
 
 
TP.HCM, ng√†y‚Ä¶th√°ng‚Ä¶nƒÉm 2016 
 
 
 
 
 
 
    Nh√≥m th·ª±c hi·ªán 
 
 
 
 
 
 
  Nguy·ªÖn H·ªØu S√°ng 
 
 
 
 
 
 
  T·ª´ Th·ªã Kim Chi 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP 
v 
 
L·ªúI C·∫¢M ∆†N 
ƒê·ªÉ ho√†n th√†nh kh√≥a lu·∫≠n n√†y, ch√∫ng em xin g·ªüi l·ªùi c·∫£m ∆°n s√¢u s·∫Øc ƒë·∫øn Th·∫ßy 
Nguy·ªÖn Thanh H·∫£i_Tr∆∞·ªüng b·ªô m√¥n ƒêi·ªán T·ª≠ C√¥ng Nghi·ªáp ƒë√£ t·∫≠n t√¨nh ch·ªâ b·∫£o, h∆∞·ªõng 
d·∫´n ch√∫ng em trong su·ªët qu√° tr√¨nh th·ª±c hi·ªán ƒë·ªÅ t√†i. 
Ch√∫ng em c≈©ng ch√¢n th√†nh c·∫£m ∆°n ƒë·∫øn qu√Ω th·∫ßy c√¥ trong khoa ƒêi·ªán ‚Äì ƒêi·ªán T·ª≠ 
ƒë√£ t·∫≠n t√¨nh gi·∫£ng d·∫°y, truy·ªÅn ƒë·∫°t cho ch√∫ng em nh·ªØng ki·∫øn th·ª©c, g√≥p √Ω v√† chia s·∫ª 
nhi·ªÅu kinh nghi·ªám qu√Ω b√°u cho ch√∫ng em ho√†n th√†nh t·ªët ƒë·ªÅ t√†i. 
Ch√∫ng em c≈©ng xin g·ª≠i l·ªùi c·∫£m ∆°n ƒë·∫øn nh·ªØng anh ch·ªã, b·∫°n b√® ƒë√£ t·∫≠n t√¨nh gi√∫p 
ƒë·ª° trong th·ªùi gian h·ªçc t·∫≠p t·∫°i tr∆∞·ªùng v√† su·ªët qu√° tr√¨nh th·ª±c hi·ªán ƒë·ªì √°n n√†y. 
Cu·ªëi c√πng, ch√∫ng con c≈©ng tr√¢n tr·ªçng g·ª≠i l·ªùi c·∫£m ∆°n ƒë·∫øn gia ƒë√¨nh v√† cha m·∫π 
lu√¥n l√† ng∆∞·ªùi lo l·∫Øng, ƒë·ªông vi√™n, quan t√¢m, hy sinh t·∫•t c·∫£ v√¨ ch√∫ng con, lu√¥n l√† ch·ªó 
d·ª±a v·ªØng ch·∫Øc v√† l√† ƒë·ªông l·ª±c ƒë·ªÉ ch√∫ng con c·ªë g·∫Øng ph·∫•n ƒë·∫•u tr√™n con ƒë∆∞·ªùng h·ªçc t·∫≠p 
c·ªßa m√¨nh. 
Xin ch√¢n th√†nh c·∫£m ∆°n! 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
TP.HCM, ng√†y ‚Ä¶ th√°ng ‚Ä¶ nƒÉm 2016 
   Nh√≥m th·ª±c hi·ªán ƒë·ªÅ t√†i 
          
 
 
 
 
 
       Nguy·ªÖn H·ªØu S√°ng 
  
 
 
 
 
 
       T·ª´ Th·ªã Kim Chi 
 
 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                              ix 
 
LI·ªÜT K√ä H√åNH V·∫º 
H√¨nh                                                                                                          
Trang 
H√¨nh 2.1. Bi·ªÉu di·ªÖn h√¨nh h·ªçc kh√¥ng gian m√†u RGB .................................................... 
4 
H√¨nh 2.2. V√≠ d·ª• v·ªÅ ·∫£nh m√†u .......................................................................................... 
6 
H√¨nh 2.3. V√≠ d·ª• v·ªÅ ·∫£nh x√°m .......................................................................................... 
6 
H√¨nh 2.4. V√≠ d·ª• v·ªÅ ·∫£nh nh·ªã ph√¢n ................................................................................... 
7 
H√¨nh 2.5. ƒê·∫∑t m·∫∑t n·∫° v√†o ·∫£nh v√† t√≠nh gi√° tr·ªã ƒëi·ªÉm ·∫£nh ng√µ ra ...................................... 
8 
H√¨nh 2.6. T√≠nh gi√° tr·ªã ƒëi·ªÉm ·∫£nh ng√µ ra 
.......................................................................... 
8 
H√¨nh 2.7. C√°ch s·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠ trung v·ªã ................................................................ 
9 
H√¨nh 2.8. ·∫¢nh b·ªã nhi·ªÖu mu·ªëi ti√™u tr∆∞·ªõc v√† sau khi l·ªçc trung v·ªã ................................... 
10 
H√¨nh 2.9. B·ªô l·ªçc 3x3 th∆∞·ªùng d√πng 
................................................................................ 
10 
H√¨nh 2.10. X√°c ƒë·ªãnh t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c 
.............................................................. 
11 
H√¨nh 2.11. ƒê·∫∑t ph·∫ßn t·ª≠ c·∫•u tr√∫c v√†o t√¢m ·∫£nh c·∫ßn x·ª≠ l√Ω 
................................................ 
11 
H√¨nh 2.12. V√≠ d·ª• v·ªÅ t√≠nh to√°n co ·∫£nh ............................................................................ 
12 
H√¨nh 2.13. K·∫øt qu·∫£ sau khi co ·∫£nh ................................................................................ 
12 
H√¨nh 2.14. X√°c ƒë·ªãnh t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c 
.............................................................. 
13 
H√¨nh 2.15. V√≠ d·ª• v·ªÅ t√≠nh to√°n gi√£n ·∫£nh ......................................................................... 
13 
H√¨nh 2.16. K·∫øt qu·∫£ sau khi gi√£n ·∫£nh ............................................................................. 
14 
H√¨nh 2.17. S∆° ƒë·ªì kh·ªëi h·ªá th·ªëng nh·∫≠n d·∫°ng ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã 
..................................... 
15 
H√¨nh 2.18. K·∫øt n·ªëi webcam v·ªõi m√°y t√≠nh ..................................................................... 
16 
H√¨nh 2.19. ·∫¢nh ƒë∆∞·ª£c lo·∫°i b·ªè khu√¥n m·∫∑t 
....................................................................... 
17 
H√¨nh 2.20. K·∫øt qu·∫£ l·ªçc m√†u da 
...................................................................................... 
17 
H√¨nh 2.21. K·∫øt qu·∫£ c·∫Øt l·∫•y b√†n tay ................................................................................ 
18 
H√¨nh 2.22. T√≠nh kho·∫£ng c√°ch t·ª´ tr·ªçng t√¢m ƒë·∫øn bi√™n b√†n tay 
........................................ 
18 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                            x 
 
H√¨nh 2.23. Th·ª±c hi·ªán ph√©p gi√£n ·∫£nh v√† k·∫øt qu·∫£ ........................................................... 
19 
H√¨nh 2.24. K·∫øt qu·∫£ sau c√πng c·ªßa x·ª≠ l√Ω ·∫£nh .................................................................. 
20 
H√¨nh 2.25. Giao di·ªán hi·ªÉn th·ªã ·∫£nh v√† giao ti·∫øp v·ªõi ng∆∞·ªùi d√πng 
.................................... 
20 
H√¨nh 2.26: C·ªïng COM DB-09 ...................................................................................... 
21 
H√¨nh 3.1. S∆° ƒë·ªì kh·ªëi m·∫°ch giao ti·∫øp ƒëi·ªÅu khi·ªÉn led ..................................................... 
22 
H√¨nh 3.2. S∆° ƒë·ªì ch√¢n c·ªïng COM DB-09 ...................................................................... 
24 
H√¨nh 3.3. D·∫°ng s√≥ng truy·ªÅn d·ªØ li·ªáu theo chu·∫©n RS232 
................................................ 
25 
H√¨nh 3.4. IC Max232 .................................................................................................... 
27 
H√¨nh 3.5. S∆° ƒë·ªì k·∫øt n·ªëi gi·ªØa c·ªïng COM v√† IC Max232 .............................................. 
27 
H√¨nh 3.6. S∆° ƒë·ªì ch√¢n vi ƒëi·ªÅu khi·ªÉn PIC16F887 ........................................................... 
28 
H√¨nh 3.7. Thanh ghi Port A 
........................................................................................... 
29 
H√¨nh 3.8. Thanh ghi Tris A ........................................................................................... 
29 
H√¨nh 3.9. S∆° ƒë·ªì k·∫øt n·ªëi vi ƒëi·ªÅu khi·ªÉn v·ªõi led ƒë∆°n ........................................................ 
29 
H√¨nh 3.10. IC ·ªïn √°p 7805 .............................................................................................. 
30 
H√¨nh 3.11. S∆° ƒë·ªì nguy√™n l√Ω m·∫°ch ngu·ªìn 
...................................................................... 
31 
H√¨nh 3.12. S∆° ƒë·ªì n√∫t nh·∫•t Reset giao ti·∫øp v·ªõi PIC16F887 
........................................... 
31 
H√¨nh 3.13. S∆° ƒë·ªì nguy√™n l√Ω to√†n m·∫°ch ƒëi·ªÅu khi·ªÉn ....................................................... 
32 
H√¨nh 4.1. M·∫°ch in l·ªõp d∆∞·ªõi ........................................................................................... 
34 
H√¨nh 4.2. S∆° ƒë·ªì b·ªë tr√≠ linh ki·ªán 
..................................................................................... 
34 
H√¨nh 4.3. M√¥ h√¨nh trong kh√¥ng gian 3 chi·ªÅu c·ªßa m·∫°ch ƒëi·ªÅu khi·ªÉn .............................. 
35 
H√¨nh 4.4. M·∫°ch thi c√¥ng th·ª±c t·∫ø 
.................................................................................... 
35 
H√¨nh 4.5. M·∫°ch ƒëi·ªÅu khi·ªÉn ƒë∆∞·ª£c ƒë√≥ng h·ªôp b·∫£o v·ªá ....................................................... 
36 
H√¨nh 4.6. H·ªá th·ªëng ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ ch·ªâ tay th√¥ng qua x·ª≠ l√Ω ·∫£nh ............... 
36 
H√¨nh 4.7. L∆∞u ƒë·ªì cho to√†n h·ªá th·ªëng.............................................................................. 
37 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                            xi 
 
H√¨nh 4.8. L∆∞u ƒë·ªì gi·∫£i thu·∫≠t kh·ªëi x·ª≠ l√Ω ·∫£nh 
................................................................... 
37 
H√¨nh 4.9. L∆∞u ƒë·ªì ch∆∞∆°ng tr√¨nh ch√≠nh m·∫°ch ƒëi·ªÅu khi·ªÉn ................................................ 
38 
H√¨nh 4.10. L∆∞u ƒë·ªì ng·∫Øt truy·ªÅn th√¥ng nh·∫≠n d·ªØ li·ªáu 
....................................................... 
38 
H√¨nh 4.11. Bi·ªÉu t∆∞·ª£ng Matlab tr√™n m√†n h√¨nh l√†m vi·ªác ................................................ 
39 
H√¨nh 4.12. C·ª≠a s·ªï l√†m vi·ªác c·ªßa Matlab ........................................................................ 
39 
H√¨nh 4.13. C·ª≠a s·ªï so·∫°n th·∫£o code 
................................................................................. 
40 
H√¨nh 4.14. Xu·∫•t hi·ªán th√¥ng b√°o l·ªói khi code b·ªã sai 
....................................................... 
41 
H√¨nh 4.15. Kh·ªüi ch·∫°y, li√™n k·∫øt c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng 
..................................... 
41 
H√¨nh 4.16. Ch·∫°y m√¥ ph·ªèng h·ªá th·ªëng v·ªõi ·∫£nh ch·ª©a 1 ng√≥n tay 
..................................... 
42 
H√¨nh 4.17. Ch·∫°y m√¥ ph·ªèng h·ªá th·ªëng v·ªõi ·∫£nh ch·ª©a 4 ng√≥n tay 
..................................... 
42 
H√¨nh 4.18. Ch·∫°y th·ª±c t·∫ø v·ªõi ·∫£nh tƒ©nh ............................................................................ 
43 
H√¨nh 4.19. Ch·∫°y th·ª±c t·∫ø v·ªõi ·∫£nh thu t·ª´ webcam 
........................................................... 
43 
H√¨nh 4.20. K·∫øt n·ªëi webcam v·ªõi m√°y t√≠nh qua c·ªïng USB 
............................................. 
44 
H√¨nh 4.21. K·∫øt n·ªëi m·∫°ch ƒëi·ªÅu khi·ªÉn v·ªõi m√°y t√≠nh ........................................................ 
44 
H√¨nh 4.22. C·ª≠a s·ªï ch·ªçn ·∫£nh c·∫ßn x·ª≠ l√Ω .......................................................................... 
46 
H√¨nh 4.23. ·∫¢nh ƒëang ch·ªù x·ª≠ l√Ω 
..................................................................................... 
46 
H√¨nh 4.24. K·∫øt qu·∫£ x·ª≠ l√Ω ·∫£nh ƒë√£ ch·ªçn........................................................................... 
46 
H√¨nh 4.25. Thu ·∫£nh t·ª´ webcam 
..................................................................................... 
47 
H√¨nh 4.26. L∆∞u ƒë·ªì v·∫≠n h√†nh h·ªá th·ªëng nh·∫≠n d·∫°ng c·ª≠ ch·ªâ tay, ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã ......... 
49 
H√¨nh 5.1. ·∫¢nh tr∆∞·ªõc v√† sau khi l·ªçc trung v·ªã 
.................................................................. 
57 
H√¨nh 5.2. H√¨nh ·∫£nh thu t·ª´ webcam ............................................................................... 
57 
H√¨nh 5.3. ·∫¢nh sau khi ƒë∆∞·ª£c lo·∫°i b·ªè khu√¥n m·∫∑t ............................................................ 
58 
H√¨nh 5.4. ·∫¢nh sau khi l·ªçc m√†u da 
................................................................................. 
58 
H√¨nh 5.5. ·∫¢nh ch·ªâ ch·ª©a v√πng da tay.............................................................................. 
58 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                            xii 
 
H√¨nh 5.6. K·∫øt qu·∫£ sau khi c·∫Øt l·∫•y b√†n tay ..................................................................... 
59 
H√¨nh 5.7. T√≠nh kho·∫£ng c√°ch t·ª´ tr·ªçng t√¢m ƒë·∫øn bi√™n b√†n tay .......................................... 
59 
H√¨nh 5.8. K·∫øt qu·∫£ thu ƒë·ª±c sau hai ph√©p gi√£n ·∫£nh v√† co ·∫£nh ......................................... 
60 
H√¨nh 5.9. K·∫øt qu·∫£ cu·ªëi c√πng sau khi nh·∫≠n d·∫°ng ........................................................... 
60 
H√¨nh 5.10. Minh h·ªça v·ªÅ kho·∫£ng c√°ch gi·ªØa tay v√† webcam .......................................... 
61 
H√¨nh 5.11. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·ªü kho·∫£ng c√°ch xa v√† g·∫ßn .............................................. 
61 
H√¨nh 5.12. Minh h·ªça v·ªÅ ƒëi·ªÅu ki·ªán chi·∫øu s√°ng kh√°c nhau ............................................. 
61 
H√¨nh 5.13. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh trong ƒëi·ªÅu ki·ªán chi·∫øu s√°ng kh√°c nhau ................... 
62 
H√¨nh 5.14. minh h·ªça v·ªÅ ƒë·ªô m·ªü gi·ªØa c√°c ng√≥n tay ........................................................ 
63 
H√¨nh 5.15. Minh h·ªça v·ªÅ g√≥c ch·ª•p c·ªßa b√†n tay 
.............................................................. 
63 
H√¨nh 5.16. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh v·ªÅ ƒë·ªô m·ªü gi·ªØa c√°c ng√≥n tay .................................. 
63 
H√¨nh 5.17. K·∫øt qu·∫£ nh·∫≠n d·∫°ng c√°c tr∆∞·ªùng h·ª£p g√≥c ch·ª•p kh√°c nhau ............................ 
64 
H√¨nh 5.18. Minh h·ªça v·ªÅ ·∫£nh m·ªù, ·∫£nh c√≥ b√†n tay b·ªã che khu·∫•t b·ªüi khu√¥n m·∫∑t ............. 
65 
H√¨nh 5.19. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi b√†n tay b·ªã nh√≤e v√† b√†n tay ch·∫°m khu√¥n m·∫∑t 
.......... 
65 
H√¨nh 5.20. Minh h·ªça v·ªÅ ƒë·ªô nh·∫•p nh√¥ c·ªßa c√°c ng√≥n tay khi co l·∫°i ................................ 
66 
H√¨nh 5.21. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi h·∫°n ch·∫ø nh·∫•p nh√¥ c·ªßa ng√≥n tay 
.............................. 
66 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                          xiii 
LI·ªÜT K√ä B·∫¢NG 
B·∫£ng                                                                                                                        Trang 
B·∫£ng 2.1. Th√¥ng s·ªë k·ªπ thu·∫≠t c·ªßa webcam .................................................................... 
16 
B·∫£ng 4.1. Danh s√°ch linh ki·ªán s·ª≠ d·ª•ng trong m·∫°ch ƒëi·ªÅu khi·ªÉn 
.................................... 
33 
B·∫£ng 4.2. M√¥ t·∫£ c√°c ph√≠m ch·ª©c nƒÉng trong giao di·ªán ƒëi·ªÅu khi·ªÉn 
................................. 
45 
B·∫£ng 4.3. B·∫£ng tra c·ª©u l·ªói nhanh c·ªßa h·ªá th·ªëng ............................................................ 
48 
B·∫£ng 5.1. K·∫øt qu·∫£ ch·∫°y ch∆∞∆°ng tr√¨nh trong nh·∫≠n d·∫°ng ·∫£nh 
.......................................... 
61 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP 
 xiv 
T√ìM T·∫ÆT 
ƒê·ªÅ t√†i n√†y s·∫Ω th·ª±c hi·ªán ƒëi·ªÅu khi·ªÉn s√°ng ho·∫∑c t·∫Øt 5 ƒë√®n LED ƒë∆°n (Light Emitting 
Diode, c√≥ nghƒ©a l√† ƒëi-·ªët ph√°t quang) th√¥ng qua 5 c·ª≠ ch·ªâ tay c·ªßa con ng∆∞·ªùi th√¥ng qua 
x·ª≠ l√Ω ·∫£nh. H·ªá th·ªëng g·ªìm c√≥ 1 webcam ƒë·ªÉ thu nh·∫≠n ·∫£nh m√†u c√≥ ch·ª©a tay c·ªßa ng∆∞·ªùi 
d√πng ƒë∆∞·ª£c k·∫øt n·ªëi v·ªõi m·ªôt m√°y t√≠nh ch·∫°y ch∆∞∆°ng tr√¨nh x·ª≠ l√Ω. Ch∆∞∆°ng tr√¨nh x·ª≠ l√Ω n√†y 
c√≥ nhi·ªám v·ª• t√¨m, x√°c ƒë·ªãnh n∆°i ch·ª©a b√†n tay c√≥ trong ·∫£nh b·∫±ng ph∆∞∆°ng ph√°p l·ªçc m√†u 
da v√† lo·∫°i tr·ª´ c√°c v√πng c√≥ di·ªán t√≠ch nh·ªè. Sau ƒë√≥ th·ª±c hi·ªán vi·ªác khoanh v√πng v√† c·∫Øt 
ch·ªçn v√πng th·ª±c s·ª± ch·ª©a b√†n tay. Ti·∫øp theo, th·ª±c hi·ªán l·∫ßn l∆∞·ª£t c√°c ph∆∞∆°ng ph√°p co ·∫£nh, 
gi√£n ·∫£nh, tr·ª´ ·∫£nh ƒë·ªÉ t√¨m v√† g·∫Øn nh√£n cho c√°c v√πng ng√≥n tay. Th√¥ng qua vi·ªác ƒë·∫øm s·ªë 
v√πng ƒë√£ g·∫Øn nh√£n ch∆∞∆°ng tr√¨nh s·∫Ω ƒë∆∞a ra k·∫øt lu·∫≠n s·ªë ng√≥n tay c√≥ trong ·∫£nh. K·∫øt qu·∫£ 
ƒë∆∞·ª£c hi·ªÉn th·ªã l√™n m√†n h√¨nh m√°y t√≠nh d·∫°ng h√¨nh ·∫£nh th√¥ng qua giao di·ªán ng∆∞·ªùi d√πng v√† 
xu·∫•t ra t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn ƒë·ªÉ b·∫≠t/t·∫Øt 5 ƒë√®n LED tr√™n ph·∫ßn c·ª©ng b√™n ngo√†i ƒë∆∞·ª£c k·∫øt n·ªëi 
v·ªõi ch∆∞∆°ng tr√¨nh. 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP  
vi 
M·ª§C L·ª§C 
Trang b√¨a ............................................................................................................ i 
Nhi·ªám v·ª• ƒë·ªì √°n ................................................................................................. ii 
L·ªãch tr√¨nh  ......................................................................................................... iii 
Cam ƒëoan  
......................................................................................................... iv 
L·ªùi c·∫£m ∆°n ........................................................................................................ v 
M·ª•c l·ª•c 
............................................................................................................. vi 
Li·ªát k√™ h√¨nh v·∫Ω 
.................................................................................................. ix 
Li·ªát k√™ b·∫£ng 
.................................................................................................... xiii 
T√≥m t·∫Øt  .......................................................................................................... xiv 
Ch∆∞∆°ng 1. T·ªîNG QUAN ............................................................................... 1 
1.1.  ƒê·∫∂T V·∫§N ƒê·ªÄ 
........................................................................................... 1 
1.2.  M·ª§C TI√äU 
................................................................................................ 1 
1.3.  N·ªòI DUNG NGHI√äN C·ª®U ..................................................................... 2 
1.4.  GI·ªöI H·∫†N 
................................................................................................. 2 
1.5.  B·ªê C·ª§C .................................................................................................... 2 
Ch∆∞∆°ng 2. C∆† S·ªû L√ù THUY·∫æT ................................................................... 4 
2.1. NH·ªÆNG V·∫§N ƒê·ªÄ C∆† B·∫¢N TRONG X·ª¨ L√ù ·∫¢NH 
.............................. 4 
2.1.1. Kh√¥ng gian m√†u RGB, YCbCr ........................................................... 4 
2.1.2. ·∫¢nh m√†u, ·∫£nh x√°m v√† ·∫£nh nh·ªã ph√¢n.................................................... 5 
2.1.3. M·∫∑t n·∫° ................................................................................................. 7 
2.1.4. B·ªô l·ªçc trung v·ªã .................................................................................... 9 
2.1.5. K·ªπ thu·∫≠t l√†m m·ªù, co v√† gi√£n ·∫£nh ...................................................... 10 
2.1.6. K·ªπ thu·∫≠t ph√¢n t√°ch m√†u da................................................................ 14 
2.2. THU·∫¨T TO√ÅN NH·∫¨N D·∫†NG C·ª¨ CH·ªà B√ÄN TAY ............................ 14 
2.3. S∆† ƒê·ªí KH·ªêI H·ªÜ TH·ªêNG NH·∫¨N D·∫†NG C·ª¨ CH·ªà B√ÄN TAY 
.......... 15 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP  
vii 
2.3.1.   Kh·ªëi thu ·∫£nh 
.................................................................................... 16 
2.3.2. Kh·ªëi x·ª≠ l√Ω ......................................................................................... 16 
2.3.3. Kh·ªëi hi·ªÉn th·ªã ·∫£nh 
............................................................................... 20 
2.3.4.  Giao ti·∫øp c·ªïng COM-DB9 ............................................................... 21 
Ch∆∞∆°ng 3. T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
.................................................... 22 
3.1. GI·ªöI THI·ªÜU ........................................................................................... 22 
3.2. T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ H·ªÜ TH·ªêNG 
............................................ 22 
3.3.1. Thi·∫øt k·∫ø s∆° ƒë·ªì kh·ªëi h·ªá th·ªëng 
............................................................. 22 
3.3.2. T√≠nh to√°n v√† thi·∫øt k·∫ø m·∫°ch giao ti·∫øp 
................................................. 22 
3.3.3. S∆° ƒë·ªì nguy√™n l√Ω c·ªßa to√†n m·∫°ch ........................................................ 32 
Ch∆∞∆°ng 4. THI C√îNG H·ªÜ TH·ªêNG 
........................................................... 33 
4.1. GI·ªöI THI·ªÜU. .......................................................................................... 33 
4.2. THI C√îNG H·ªÜ TH·ªêNG ........................................................................ 33 
4.2.1. Thi c√¥ng bo m·∫°ch. 
............................................................................. 33 
4.2.2. L·∫Øp r√°p v√† ki·ªÉm tra ........................................................................... 34 
4.3. ƒê√ìNG G√ìI V√Ä THI C√îNG M√î H√åNH 
................................................ 36 
4.3.1.  
ƒê√≥ng g√≥i b·ªô ƒëi·ªÅu khi·ªÉn 
..................................................................... 36 
4.3.2. K·∫øt n·ªëi c√°c th√†nh ph·∫ßn th√†nh m·ªôt h·ªá th·ªëng ho√†n ch·ªânh 
................... 36 
4.4. L·∫¨P TR√åNH H·ªÜ TH·ªêNG ...................................................................... 37 
4.4.1. L∆∞u ƒë·ªì gi·∫£i thu·∫≠t ............................................................................... 37 
4.4.2. Ph·∫ßn m·ªÅm l·∫≠p tr√¨nh cho m√°y t√≠nh ..................................................... 39 
4.5. L·∫¨P TR√åNH M√î PH·ªéNG 
...................................................................... 41 
4.5.1. M√¥ ph·ªèng h·ªá th·ªëng tr√™n m√°y t√≠nh 
..................................................... 41 
4.5.2. K·∫øt qu·∫£ ch·∫°y th·ª±c t·∫ø ......................................................................... 43 
4.6. VI·∫æT T√ÄI LI·ªÜU H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG, THAO T√ÅC ................... 43 
4.6.1. H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng 
........................................................................... 43 
4.6.2. Quy tr√¨nh v·∫≠n h√†nh h·ªá th·ªëng. 
............................................................ 48 
Ch∆∞∆°ng 5. K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
...................................... 51 
5.1. K·∫æT QU·∫¢ X·ª¨ L√ù ·∫¢NH ........................................................................ 51 
5.2. ƒê√ÅNH GI√Å H·ªÜ TH·ªêNG 
........................................................................ 54 
5.3. K·∫æT QU·∫¢ TH·ªêNG K√ä 
.......................................................................... 61 
Ch∆∞∆°ng 6. K·∫æT LU·∫¨N V√Ä H∆Ø·ªöNG PH√ÅT TRI·ªÇN 
................................ 63 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP  
viii 
6.1. K·∫æT LU·∫¨N 
............................................................................................. 63 
6.2. H∆Ø·ªöNG PH√ÅT TRI·ªÇN 
.......................................................................... 63 
T√ÄI LI·ªÜU THAM KH·∫¢O ............................................................................ 64 
PH·ª§ L·ª§C ....................................................................................................... 65 
CH∆Ø∆†NG 1: T·ªîNG QUAN 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             1 
Ch∆∞∆°ng 1. T·ªîNG QUAN 
1.1.  ƒê·∫∂T V·∫§N ƒê·ªÄ 
Trong th·ªùi ƒë·∫°i c√¥ng ngh·ªá th√¥ng tin hi·ªán nay, c√°c h·ªá th·ªëng m√°y m√≥c t·ª± ƒë·ªông ƒë√£ d·∫ßn 
thay th·∫ø con ng∆∞·ªùi trong nhi·ªÅu c√¥ng ƒëo·∫°n c·ªßa c√¥ng vi·ªác. M√°y m√≥c c√≥ kh·∫£ nƒÉng l√†m vi·ªác 
hi·ªáu qu·∫£, ƒë·ªô ch√≠nh x√°c cao v√† h·ªØu d·ª•ng trong m√¥i tr∆∞·ªùng nguy h·∫°i ƒë·ªëi v·ªõi con ng∆∞·ªùi, 
t·ªëc ƒë·ªô x·ª≠ l√Ω c·ªßa m√°y t√≠nh, thi·∫øt b·ªã ng√†y c√†ng nhanh. ƒê·∫øn nay, vi·ªác giao ti·∫øp gi·ªØa con 
ng∆∞·ªùi v√† m√°y m√≥c c√≤n kh√° th·ªß c√¥ng nh∆∞ th√¥ng qua b√†n ph√≠m v√† c√°c thi·∫øt b·ªã nh·∫≠p d·ªØ 
li·ªáu.  
Trong b√†i b√°o ‚ÄúHuman Computer Interaction using Hand Gesture‚Äù c·ªßa nh√≥m t√°c 
gi·∫£ Ram Pratap Sharma v√† Gyanendra K. Verme [1]. Con ng∆∞·ªùi mong mu·ªën m√°y m√≥c 
c√†ng th√¥ng minh h∆°n, t·ªëc ƒë·ªô x·ª≠ l√Ω nhanh h∆°n v√† c√≥ th·ªÉ t∆∞∆°ng t√°c v·ªõi ng∆∞·ªùi d√πng b·∫±ng 
gi·ªçng n√≥i l√† y√™u c·∫ßu c·ªßa c√°c thi·∫øt b·ªã trong t∆∞∆°ng lai. Hi·ªán nay tr√™n th·∫ø gi·ªõi c√°c c√¥ng 
ngh·ªá nh·∫≠n d·∫°ng c·ª≠ ch·ªâ ƒë√£ ph√°t tri·ªÉn, c√°c h·ªá th·ªëng ·ª©ng d·ª•ng nh·∫≠n d·∫°ng c·ª≠ ch·ªâ ƒë√£ ƒë∆∞·ª£c 
·ª©ng d·ª•ng ·ªü nhi·ªÅu n∆°i v√† ƒë·ªô ch√≠nh x√°c c·ªßa c√°c h·ªá th·ªëng ng√†y c√†ng ƒë∆∞·ª£c c·∫£i thi·ªán. 
Trong b√†i vi·∫øt ‚ÄúNovel Algorithm for Image Processing Based Hand Gesture 
Recognition and Its Application in Security‚Äù c·ªßa nh√≥m nghi√™n c·ª©u N. Dhruva, Sudhir 
Rao Rupanagudi, H. N. Neelkant Kashyap [2]. M·ª•c ƒë√≠ch c·ªßa b√†i vi·∫øt n√†y l√† nghi√™n v·ªÅ 
lƒ©nh v·ª±c th·ªã gi√°c m√°y t√≠nh, lƒ©nh v·ª±c hi·ªán ƒëang thu h√∫t r·∫•t nhi·ªÅu s·ª± quan t√¢m c·ªßa c√°c nh√† 
nghi√™n c·ª©u x·ª≠ l√Ω ·∫£nh v·ªõi m·ª•c ti√™u x√¢y d·ª±ng n√™n m·ªôt th·∫ø gi·ªõi trong ƒë√≥ h·ªá th·ªëng th·ªã gi√°c 
k·ª≥ di·ªáu c·ªßa con ng∆∞·ªùi c√≥ th·ªÉ ƒë∆∞·ª£c m√¥ ph·ªèng b·ªüi c√°c h·ªá th·ªëng m√°y t√≠nh, ƒëem l·∫°i kh·∫£ 
nƒÉng c·∫£m nh·∫≠n b·∫±ng th·ªã gi√°c cho c√°c h·ªá th·ªëng v·ªÅ m√¥i tr∆∞·ªùng xung quanh. M∆° ∆∞·ªõc v·ªÅ 
m·ªôt h·ªá th·ªëng m√°y t√≠nh c√≥ th·ªÉ ho√† nh·∫≠p v√†o th·∫ø gi·ªõi con ng∆∞·ªùi v·ªõi ƒë·∫ßy ƒë·ªß c√°c gi√°c quan 
trong ƒë√≥ th·ªã gi√°c ƒë√≥ng vai tr√≤ quan tr·ªçng ƒëang d·∫ßn d·∫ßn ƒë∆∞·ª£c hi·ªán th·ª±c ho√° v·ªõi nh·ªØng 
ƒë√≥ng g√≥p nghi√™n c·ª©u c·ªßa c√°c nh√† khoa h·ªçc tr√™n ph·∫°m vi to√†n th·∫ø gi·ªõi. 
H·ªá th·ªëng nh·∫≠n d·∫°ng c·ª≠ ch·ªâ s·∫Ω c√≥ nh·ªØng ·ª©ng d·ª•ng tuy·ªát v·ªùi trong t·∫•t c·∫£ c√°c lƒ©nh 
v·ª±c c·ªßa ƒë·ªùi s·ªëng. N·∫øu ƒë∆∞·ª£c √°p d·ª•ng th√†nh c√¥ng th√¨ n√≥ s·∫Ω tr·ªü th√†nh m·ªôt cu·ªôc c√°ch m·∫°ng 
trong giao ti·∫øp v·ªõi m√°y m√≥c, c√°c ·ª©ng d·ª•ng c·ªßa n√≥ s·∫Ω bao tr√πm l√™n nhi·ªÅu lƒ©nh v·ª±c nh∆∞ 
gi√∫p ƒë·ª° ng∆∞·ªùi khuy·∫øt t·∫≠t, c√¥ng nghi·ªáp, an ninh v√† gi·∫£i tr√≠. 
1.2.  M·ª§C TI√äU 
M·ª•c ti√™u c·ªßa ƒë·ªÅ t√†i l√† ho√†n th√†nh vi·ªác thi·∫øt k·∫ø v√† thi c√¥ng m·ªôt h·ªá th·ªëng c√≥ th·ªÉ ƒëi·ªÅu 
khi·ªÉn c√°c thi·∫øt b·ªã b·∫±ng c√°ch nh·∫≠n d·∫°ng c·ª≠ ch·ªâ c·ªßa nh·ªØng ng√≥n tay th√¥ng qua x·ª≠ l√Ω ·∫£nh. 
CH∆Ø∆†NG 1: T·ªîNG QUAN 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             2 
ƒê·ªÉ nh·∫≠n d·∫°ng ƒë∆∞·ª£c c·ª≠ ch·ªâ b√†n tay tr∆∞·ªõc h·∫øt ta ph·∫£i tr√≠ch l·ªçc m√†u da d·ª±a v√†o kh√¥ng gian 
m√†u YCbCr, sau ƒë√≥ ƒëem ƒëi x·ª≠ l√Ω v√† ƒë·∫øm nh·ªØng ng√≥n tay, r·ªìi ƒë∆∞a k·∫øt qu·∫£ sau khi ƒë·∫øm 
ng√≥n tay xu·ªëng ƒë·ªÉ ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã ngo·∫°i vi th√¥ng qua c·ªïng COM DB-09.  
1.3.  N·ªòI DUNG NGHI√äN C·ª®U 
ƒê·ªÅ t√†i ‚Äúƒêi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ ch·ªâ tay th√¥ng qua x·ª≠ l√Ω ·∫£nh‚Äù ƒë∆∞·ª£c th·ª±c hi·ªán v√† 
nghi√™n c·ª©u v·ªõi nh·ªØng n·ªôi dung sau:  
- Thu ·∫£nh m√†u t·ª´ webcam.  
- Tr√≠ch xu·∫•t m√†u da c·ªßa con ng∆∞·ªùi d·ª±a v√†o ƒë·∫∑c tr∆∞ng m√†u da trong kh√¥ng gian 
m√†u YCbCr. 
- X·ª≠ l√Ω ·∫£nh d√πng b·ªô l·ªçc trung v·ªã v√† thu·∫≠t to√°n t√¨m tr·ªçng t√¢m c·ªßa ·∫£nh. 
- K·∫øt n·ªëi v√† giao ti·∫øp thi·∫øt b·ªã ngo·∫°i vi. 
- Thi·∫øt k·∫ø m·∫°ch ƒëi·ªÅu khi·ªÉn th√¥ng qua chu·∫©n giao ti·∫øp UART. 
- Ch·∫°y th·ª≠ v√† ch·ªânh s·ª≠a. 
- Vi·∫øt b√°o c√°o. 
1.4.  GI·ªöI H·∫†N 
 
Nh√≥m th·ª±c hi·ªán nh·∫≠n d·∫°ng 5 c·ª≠ ch·ªâ b√†n tay tr√™n n·ªÅn m√†u nh·∫•t ƒë·ªãnh (m√†u xanh). 
Nh·∫≠n d·∫°ng th√¥ng qua ·∫£nh tƒ©nh v√† ·∫£nh thu v√†o t·ª´ video th√¥ng qua Webcam v·ªõi ƒë·ªô ph√¢n 
gi·∫£i 0.2M. ·∫¢nh x·ª≠ l√Ω ph·∫£i ƒë·∫£m b·∫£o c√°c y√™u c·∫ßu sau: ƒêi·ªÅu ki·ªán chi·∫øu s√°ng, kho·∫£ng c√°ch, 
g√≥c ch·ª•p v√† ƒë·ªô m·ªü c·ªßa c√°c ng√≥n tay ph·∫£i th√≠ch h·ª£p, n·∫øu c√≥ khu√¥n m·∫∑t th√¨ b√†n tay ph·∫£i 
ƒë∆∞·ª£c t√°ch r·ªùi khu√¥n m·∫∑t. 
Nh·∫≠n d·∫°ng 5 c·ª≠ ch·ªâ b√†n tay, xu·∫•t t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn ·ª©ng v·ªõi m·ªói c·ª≠ ch·ªâ tay v√† 
d√πng t√≠n hi·ªáu ƒë√≥ ƒë·ªÉ ƒëi·ªÅu khi·ªÉn s√°ng t·∫Øt ƒë√®n Led. 
1.5.  B·ªê C·ª§C 
Ch∆∞∆°ng 1: T·ªïng quan. 
Cung c·∫•p c√°i nh√¨n t·ªïng quan v·ªÅ ƒë·ªÅ t√†i ƒëang th·ª±c hi·ªán, nh·ªØng l√Ω do, t√≠nh ch·∫•t v√† 
hi·ªáu qu·∫£ m√† ƒë·ªÅ t√†i n√†y mang l·∫°i. ƒê·ªãnh h∆∞·ªõng ban ƒë·∫ßu cho qu√° tr√¨nh nghi√™n c·ª©u, th·ª±c 
hi·ªán ƒë∆∞·ª£c ch√≠nh x√°c, c√≥ hi·ªáu qu·∫£. 
Ch∆∞∆°ng 2: C∆° s·ªü l√Ω thuy·∫øt. 
Tr√¨nh b√†y c√°c l√Ω thuy·∫øt c√≥ li√™n quan ƒë·∫øn x·ª≠ l√Ω ·∫£nh: b·ªô l·ªçc th√¥ng th·∫•p, b·ªô l·ªçc trung 
v·ªã, ph∆∞∆°ng ph√°p co v√† gi√£n ·∫£nh, thu·∫≠t t√¨m tr·ªçng t√¢m c·ªßa v√πng ·∫£nh ƒë∆∞·ª£c ch·ªçn. 
CH∆Ø∆†NG 1: T·ªîNG QUAN 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             3 
Ch∆∞∆°ng 3: T√≠nh to√°n thi·∫øt k·∫ø. 
ƒê∆∞a ra s∆° ƒë·ªì kh·ªëi cho to√†n m·∫°ch, t√≠nh to√°n thi·∫øt k·∫ø v√† l·ª±a ch·ªçn linh ki·ªán ph√π h·ª£p 
cho t·ª´ng kh·ªëi, sau ƒë√≥ gh√©p c√°c kh·ªëi l·∫°i v√† thi·∫øt k·∫ø s∆° ƒë·ªì nguy√™n l√Ω, d∆° ƒë·ªì m·∫°ch in cho 
to√†n m·∫°ch. 
Ch∆∞∆°ng 4: Thi c√¥ng h·ªá th·ªëng. 
Thi c√¥ng bo m·∫°ch ƒëi·ªÅu khi·ªÉn, l·∫Øp r√°p v√† ki·ªÉm tra sau ƒë√≥ l·∫≠p tr√¨nh h·ªá th·ªëng, ƒë∆∞a 
ra k·∫øt qu·∫£ sau khi m√¥ ph·ªèng. 
Ch∆∞∆°ng 5: K·∫øt qu·∫£_Nh·∫≠n x√©t_ƒê√°nh gi√°. 
ƒê√°nh gi√° k·∫øt qu·∫£ t·ª´ng ph·∫ßn th·ª±c hi·ªán. ƒê∆∞a ra h√¨nh ·∫£nh k·∫øt qu·∫£ sau t·ª´ng ph·∫ßn x·ª≠ 
l√Ω, r√∫t ra nh·∫≠n x√©t ∆∞u v√† nh∆∞·ª£c ƒëi·ªÉm c·ªßa h·ªá th·ªëng. 
Ch∆∞∆°ng 6: K·∫øt lu·∫≠n v√† h∆∞·ªõng ph√°t tri·ªÉn. 
ƒê∆∞a ra ƒë√°nh gi√° kh√°ch quan v·ªÅ ƒë·ªÅ t√†i: nh·ªØng g√¨ ƒë√£ ƒë·∫°t ƒë∆∞·ª£c, nh·ªØng g√¨ c√≤n h·∫°n 
ch·∫ø. Song song v·ªõi ƒë√≥ ƒë·ªÅ xu·∫•t t√≠nh ·ª©ng d·ª•ng c·ªßa ƒë·ªÅ t√†i v√†o m·ªôt ·ª©ng d·ª•ng c√≥ t√≠nh kh·∫£ 
thi trong th·ª±c t·∫ø. 
 
 
 
 
 
 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             4 
Ch∆∞∆°ng 2. C∆† S·ªû L√ù THUY·∫æT 
2.1. NH·ªÆNG V·∫§N ƒê·ªÄ C∆† B·∫¢N TRONG X·ª¨ L√ù ·∫¢NH 
2.1.1. Kh√¥ng gian m√†u RGB, YCbCr 
Kh√¥ng gian m√†u l√† nh·ªØng ph∆∞∆°ng ph√°p ƒë·ªãnh l∆∞·ª£ng m√†u s·∫Øc ƒë∆∞·ª£c thi·∫øt l·∫≠p c√¥ng 
th·ª©c m·ªôt c√°ch khoa h·ªçc. H·ªá th·ªëng kh√¥ng gian m√†u cho ph√©p m·ªói m√†u ƒë∆∞·ª£c x√°c ƒë·ªãnh 
theo s·ªë h·ªçc, b·∫±ng c√°ch ƒë√≥ ta c√≥ th·ªÉ ch·ªçn v√† l·∫∑p l·∫°i nh·ªØng m√†u n√†o ƒë√≥ th·∫≠t ch√≠nh x√°c [3]. 
Tr√™n th·ª±c t·∫ø c√≥ r·∫•t ni·ªÅu kh√¥ng gian m√†u kh√°c nhau ƒë∆∞·ª£c m√¥ h√¨nh ƒë·ªÉ s·ª≠ d·ª•ng v√†o nh·ªØng 
m·ª•c ƒë√≠ch kh√°c nhau. Trong ph·∫°m vi c·ªßa ƒë·ªì √°n n√†y, ch·ªâ th·ª±c hi·ªán x·ª≠ l√Ω, chuy·ªÉn ƒë·ªïi ·∫£nh 
qua l·∫°i gi·ªØa 2 kh√¥ng gian m√†u RGB v√† YCbCr. Do ƒë√≥ c√°c kh√¥ng gian m√†u kh√°c s·∫Ω 
kh√¥ng ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p ƒë·∫øn trong ƒë·ªì √°n n√†y. 
a.  Kh√¥ng gian m√†u RGB (Red ‚Äì Green ‚Äì Blue). 
RGB l√† kh√¥ng gian m√†u r·∫•t ph·ªï bi·∫øn ƒë∆∞·ª£c d√πng trong ƒë·ªì h·ªça m√°y t√≠nh v√† nhi·ªÅu 
thi·∫øt b·ªã kƒ© thu·∫≠t s·ªë kh√°c. √ù t∆∞·ªüng ch√≠nh c·ªßa kh√¥ng gian m√†u n√†y l√† s·ª± k·∫øt h·ª£p c·ªßa 3 m√†u 
s·∫Øc c∆° b·∫£n: m√†u ƒë·ªè (R, Red), xanh l·ª•c (G, Green) v√† xanh l∆° (B, Blue) ƒë·ªÉ m√¥ t·∫£ t·∫•t c·∫£ 
c√°c m√†u s·∫Øc kh√°c. 
 
 
 
 
 
 
 
 
N·∫øu nh∆∞ m·ªôt ·∫£nh s·ªë ƒë∆∞·ª£c m√£ h√≥a b·∫±ng 24bit, nghƒ©a l√† 8bit cho k√™nh R, 8bit cho 
k√™nh G, 8bit cho k√™nh B, th√¨ m·ªó k√™nh n√†y m√†u n√†y s·∫Ω nh·∫≠n gi√° tr·ªã t·ª´ 0 - 255. V·ªõi m·ªói 
H√¨nh 2.1. Bi·ªÉu di·ªÖn h√¨nh h·ªçc kh√¥ng gian m√†u RGB 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             5 
gi√° tr·ªã kh√°c nhau c·ªßa c√°c k√™nh m√†u k·∫øt h·ª£p v·ªõi nhau ta s·∫Ω ƒë∆∞·ª£c m·ªôt m√†u kh√°c nhau, 
nh∆∞ v·∫≠y ta s·∫Ω c√≥ t·ªïng c·ªông 255x255x255 = 16.581.375 m√†u s·∫Øc. 
V√≠ d·ª•: m√†u ƒëen l√† s·ª± k·∫øt h·ª£p c·ªßa c√°c k√™nh m√†u (R, G, B) v·ªõi gi√° tr·ªã t∆∞∆°ng ·ª©ng 
(0, 0, 0) m√†u tr·∫Øng c√≥ gi√° tr·ªã (255, 255, 255), m√†u v√†ng c√≥ gi√° tr·ªã (255, 255, 0), m√†u t√≠m 
ƒë·∫≠m c√≥ gi√° tr·ªã (64, 0, 128). 
b. Kh√¥ng gian m√†u YCbCr 
Kh√¥ng gian m√†u YCbCr  ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a v√† th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng v√†o m·ª•c ƒë√≠ch 
n√©n ·∫£nh m√†u, x·ª≠ l√Ω video s·ªë. Kh√¥ng gian m√†u n√†y s·∫Ω ph√¢n t√°ch kh√¥ng gian m√†u RGB 
th√†nh c√°c th√†nh ph·∫ßn ƒë·ªô ch√≥i v√† th√†nh ph·∫ßn m√†u s·∫Øc theo c√¥ng th·ª©c chuy·ªÉn ƒë·ªïi: 
 
                                                                                                                  
                                                                                                                            
 
C√¥ng th·ª©c (2.1) l√† bi·ªÉu di·ªÖn ki·ªÉu ma tr·∫≠n ho·∫∑c c≈©ng c√≥ th·ªÉ bi·ªÉu di·ªÖn theo ki·ªÉu 
t∆∞·ªùng minh nh∆∞ c√¥ng th·ª©c (2.2) d∆∞·ªõi ƒë√¢y: 
 
 
 
2.1.2.  ·∫¢nh m√†u, ·∫£nh x√°m v√† ·∫£nh nh·ªã ph√¢n 
a.  ·∫¢nh m√†u  
 
·∫¢nh m√†u l√† ·∫£nh t·ªï h·ª£p 3 m√†u c∆° b·∫£n: ƒë·ªè, l·ª•c, l∆° nh∆∞ h√¨nh 2.2 v√† th∆∞·ªùng thu nh·∫≠n 
tr√™n c√°c d·∫£i bƒÉng t·∫ßn kh√°c nhau. V·ªõi ·∫£nh m√†u c√°ch bi·ªÉu di·ªÖn c≈©ng t∆∞∆°ng t·ª± nh∆∞ ·∫£nh ƒëen 
tr·∫Øng, ch·ªâ kh√°c l√† c√°c s·ªë t·∫°i m·ªói ph·∫ßn t·ª≠ c·ªßa ma tr·∫≠n bi·ªÉu di·ªÖn cho 3 m√†u ri√™ng r·∫Ω. ƒê·ªÉ 
bi·ªÉu di·ªÖn cho m·ªôt ·∫£nh m√†u c·∫ßn 24 bit, 24 bit n√†y ƒë∆∞·ª£c chia th√†nh ba kho·∫£ng 8 bit. M·ªói 
m√†u c≈©ng ph√¢n th√†nh L c·∫•p kh√°c nhau (th∆∞·ªùng L=256). M·ªói kho·∫£ng n√†y bi·ªÉu di·ªÖn cho 
c∆∞·ªùng ƒë·ªô s√°ng c·ªßa m·ªôt trong c√°c m√†u ch√≠nh. 
 
 
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
ÔÄ≠
ÔÄ≠
ÔÄ≠
ÔÄ≠
ÔÄΩ
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
B
G
R
Cr
Cb
Y
100
.
0
515
.
0
615
.
0
436
.
0
289
.
0
147
.
0
114
.
0
587
.
0
299
.
0
(2.1) 
Y  = 0.299*R + 0.587*G + 0.114*B 
Cb = - 0.147*R ‚Äì 0.289*G + 0.436*B 
Cr  = 0.615*R ‚Äì 0.515*G ‚Äì 0.100*B 
(2.2) 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             6 
M·ªói pixel ·∫£nh m√†u k√Ω hi·ªáu ùëÉ
ùë• :  
                      ùëÉ
ùë•=[ùëüùëíùëë, ùëîùëüùëíùëíùëõ, ùëèùëôùë¢ùëí]ùëá ,  T: chuy·ªÉn v·ªã                                      (2.3)                        
 
   
 
 
 
 
 
 
 
 
 
 
b.  ·∫¢nh x√°m 
 
Gi√° tr·ªã x√°m n·∫±m trong kho·∫£ng 0‚Ä¶255. Nh∆∞ v·∫≠y m·ªói ƒëi·ªÉm ·∫£nh trong ·∫£nh x√°m 
ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·ªüi 1 byte. 
 
 
 
 
  
 
 
 
 
 
c.  ·∫¢nh nh·ªã ph√¢n 
 
Gi√° tr·ªã x√°m c·ªßa t·∫•t c·∫£ c√°c ƒëi·ªÉm trong ·∫£nh ch·ªâ nh·∫≠n gi√° tr·ªã 1 ho·∫∑c 0. Nh∆∞ v·∫≠y m·ªói 
ƒëi·ªÉm ·∫£nh trong ·∫£nh nh·ªã ph√¢n ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·ªüi 1 bit, xem h√¨nh 2.4 b√™n d∆∞·ªõi. 
H√¨nh 2.2. V√≠ d·ª• v·ªÅ ·∫£nh m√†u 
H√¨nh 2.3. V√≠ d·ª• v·ªÅ ·∫£nh x√°m 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             7 
 
 
 
 
 
 
 
  
 
2.1.3.  M·∫∑t n·∫°  
a. Kh√°i ni·ªám 
M·ªôt v√†i to√°n t·ª≠ d√πng trong x·ª≠ l√Ω ·∫£nh ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n gi√° tr·ªã c·ªßa ƒëi·ªÉm ·∫£nh v√† 
c√°c ƒëi·ªÉm trong v√πng l√¢n c·∫≠n c·ªßa n√≥, c√πng v·ªõi m·ªôt v√πng ·∫£nh con c√πng k√≠ch th∆∞·ªõc v·ªõi 
v√πng l√¢n c·∫≠n.V√πng ·∫£nh con n√†y ƒë∆∞·ª£c g·ªçi l√† m·∫∑t n·∫°. C√°c gi√° tr·ªã c·ªßa m·∫∑t n·∫° ƒë∆∞·ª£c g·ªçi l√† 
h·ªá s·ªë. K√≠ch th∆∞·ªõc c·ªßa m·∫∑t n·∫° ƒë∆∞·ª£c ghi nh∆∞ sau (2*M-1, 2*N-1), v·ªõi c·∫∑p M, N l√† c√°c s·ªë 
nguy√™n d∆∞∆°ng b·∫•t k√¨ ta ƒë∆∞·ª£c m·ªôt k√≠ch th∆∞·ªõc c·ªßa m·∫∑t n·∫°. V√≠ d·ª•: 3x3, 5x5. 
b. C√°ch s·ª≠ d·ª•ng 
ƒê·∫∑t t√¢m c·ªßa m·∫∑t n·∫° l√™n tr√™n ƒëi·ªÉm ·∫£nh c·∫ßn x·ª≠ l√Ω, d·ªãch chuy·ªÉn m·∫∑t n·∫° t·ª´ tr√°i qua 
ph·∫£i, t·ª´ tr√™n xu·ªëng d∆∞·ªõi.Th√¥ng qua b·ªô l·ªçc, tr√≠ch r√∫t ra c√°c ƒëi·ªÉm l√¢n c·∫≠n v·ªõi ƒëi·ªÉm ·∫£nh 
c·∫ßn x·ª≠ l√Ω, √°p d·ª•ng h√†m c·ªßa m·∫∑t n·∫° l√™n gi√° tr·ªã c·ªßa c√°c ƒëi·ªÉm ·∫£nh trong v√πng l√¢n c·∫≠n. ƒê·∫∑t 
gi√° tr·ªã ƒëi·ªÉm ·∫£nh t∆∞∆°ng ·ª©ng tr√™n ·∫£nh ƒë·∫ßu ra b·∫±ng gi√° tr·ªã tr·∫£ v·ªÅ b·ªüi h√†m c·ªßa m·∫∑t n·∫°. L·∫∑p 
l·∫°i c√°c b∆∞·ªõc tr√™n l·∫ßn l∆∞·ª£t cho h·∫øt c√°c ƒëi·ªÉm ·∫£nh, nh·ªØng ƒëi·ªÉm n·∫±m tr√™n bi√™n th√¨ kh√¥ng √°p 
d·ª•ng. ƒê·ªëi v·ªõi l·ªçc tuy·∫øn t√≠nh, k·∫øt qu·∫£ ƒë∆∞·ª£c t√≠nh b·∫±ng t·ªïng t·∫•t c·∫£ c√°c ph√©p nh√¢n h·ªá s·ªë c·ªßa 
m·∫∑t n·∫° v·ªõi gi√° tr·ªã ƒëi·ªÉm ·∫£nh t∆∞∆°ng ·ª©ng trong v√πng t√°c ƒë·ªông b·ªüi m·∫∑t n·∫°: 
(2.4) 
V·ªõi: I(x, y) l√† ·∫£nh ƒë·∫ßu v√†o. 
 
G(x, y) l√† ·∫£nh ƒë·∫ßu ra. 
 
a(i, j) l√† m·∫∑t n·∫° l·ªçc. 
Size = m x n  l√† s·ªë ph·∫ßn t·ª≠ c·ªßa m·∫∑t n·∫°. 
H√¨nh 2.4. V√≠ d·ª• v·ªÅ ·∫£nh nh·ªã ph√¢n 
ÔÉ•ÔÉ•
ÔÉé
ÔÄ≠
ÔÄ≠
ÔÄΩ
Size
j
i
j
y
i
x
I
j
i
a
y
x
G
,
)
,
(
*
)
,
(
)
,
(
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             8 
 
Gi·∫£ s·ª≠ cho m·ªôt ·∫£nh ƒë·∫ßu v√†o ƒë∆∞·ª£c bi·ªÉu di·ªÖn b·ªüi ma tr·∫≠n I: 
 
M·∫∑t n·∫° l·ªçc c√≥ d·∫°ng a: 
 
ƒê·∫ßu ti√™n, ti·∫øn h√†nh x√°c ƒë·ªãnh k√≠ch th∆∞·ªõc m·∫∑t n·∫° ƒë√£ cho (·ªü ƒë√¢y s·ª≠ d·ª•ng m·∫∑t n·∫° 
3x3). Sau ƒë√≥ ƒë·∫∑t m·∫∑t n·∫° l√™n ·∫£nh c·∫ßn x·ª≠ l√Ω sao cho tr·ªçng t√¢m ‚Äì ƒëi·ªÉm ch√≠nh gi·ªØa c·ªßa m·∫∑t 
n·∫° tr√πng v·ªõi ƒëi·ªÉm ·∫£nh ƒëang x√©t.  
 
 
 
 
 
 
 
T√≠nh gi√° tr·ªã t·∫°i G(1,1) theo c√¥ng th·ª©c 2.4: 
(2.5) 
 
 
 
 
 
 
 
41 
71 
3 
7 
1 
51 
71 
1 
7 
1 
6 
6 
1 
8 
3 
5 
7 
5 
7 
1 
5 
7 
6 
1 
2 
41 
71 
31 
7 
1 
51 
71 
11 
7 
1 
6 
6 
1 
8 
3 
5 
7 
5 
7 
1 
5 
7 
6 
1 
2 
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
ÔÄΩ
2
1
6
7
5
1
7
5
7
5
3
8
1
6
6
1
7
1
7
5
1
7
3
7
4
I
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
ÔÄΩ
1
1
1
1
1
1
1
1
1
9
1
a
H√¨nh 2.6. T√≠nh gi√° tr·ªã ƒëi·ªÉm ·∫£nh ng√µ ra 
9
23
)
1
*
7
1
*
5
1
*
7
1
*
4
(
9
1
)
1
,
1
(
ÔÄΩ
ÔÄ´
ÔÄ´
ÔÄ´
ÔÄΩ
G
H√¨nh 2.5. ƒê·∫∑t m·∫∑t n·∫° v√†o ·∫£nh v√† t√≠nh gi√° tr·ªã ƒëi·ªÉm ·∫£nh ng√µ ra 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             9 
T√≠nh gi√° tr·ªã t·∫°i ƒëi·ªÉm G(1,2): 
(2.6) 
T∆∞∆°ng t·ª± nh∆∞ v·∫≠y ta t√≠nh l·∫ßn l∆∞·ª£t t·ª´ tr√°i qua ph·∫£i, t·ª´ tr√™n xu·ªëng d∆∞·ªõi. K·∫øt qu·∫£ 
thu ƒë∆∞·ª£c ·∫£nh G: 
 
 
 
2.1.4. B·ªô l·ªçc trung v·ªã 
a. Gi·ªõi thi·ªáu 
B·ªô l·ªçc trung v·ªã l√† b·ªô l·ªçc l√†m m∆∞·ª£t phi tuy·∫øn trong mi·ªÅn kh√¥ng gian, l·ªçc theo 
th·ªëng k√™ th·ª© t·ª±, n√≥ kh√° hi·ªáu qu·∫£ ƒë·ªëi v·ªõi hai lo·∫°i nhi·ªÖu: nhi·ªÖu mu·ªëi ti√™u v√† nhi·ªÖu ƒë·ªëm, 
k·ªπ thu·∫≠t n√†y l√† m·ªôt b∆∞·ªõc r·∫•t ph·ªï bi·∫øn trong x·ª≠ l√Ω ·∫£nh. 
√ù nghƒ©a c·ªßa thu·∫≠t to√°n l·ªçc trung v·ªã nh∆∞ sau: Ta s·ª≠ d·ª•ng m·ªôt c·ª≠a s·ªï l·ªçc (ma tr·∫≠n 
3x3) qu√©t qua l·∫ßn l∆∞·ª£t c√°c ƒëi·ªÉm ·∫£nh c·ªßa ·∫£nh ƒë·∫ßu v√†o. T·∫°i v·ªã tr√≠ m·ªói ƒëi·ªÉm ·∫£nh l·∫•y gi√° tr·ªã 
c·ªßa c√°c ƒëi·ªÉm ·∫£nh t∆∞∆°ng ·ª©ng trong v√πng 3x3 c·ªßa ·∫£nh g·ªëc l·∫•p v√†o ma tr·∫≠n l·ªçc. Sau ƒë√≥ 
s·∫Øp x·∫øp c√°c ƒëi·ªÉm ·∫£nh trong c·ªßa s·ªï n√†y theo th·ª© t·ª± (tƒÉng d·∫ßn ho·∫∑c gi·∫£m d·∫ßn t√πy √Ω). Cu·ªëi 
c√πng g√°n ƒëi·ªÉm ·∫£nh n·∫±m ch√≠nh gi·ªØa c·ªßa d√£y gi√° tr·ªã ƒëi·ªÉm ·∫£nh ƒë√£ ƒë∆∞·ª£c s·∫Øp x·∫øp ·ªü tr√™n cho 
gi√° tr·ªã ƒëang x√©t c·ªßa ·∫£nh ƒë·∫ßu ra. Trong h√¨nh 2.7 l√† m·ªôt v√≠ d·ª•, sau khi s·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠ 
ch·ªçn ph·∫ßn t·ª≠ ·ªü ch√≠nh gi·ªØa mang gi√° tr·ªã l√† 3 ƒë·ªÉ g√°n cho ·∫£nh ƒë·∫ßu ra. 
 
 
 
 
 
 
 
 
 
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉ∫
ÔÉª
ÔÉπ
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ™
ÔÉ´
ÔÉ©
ÔÄΩ
11
22
33
35
24
22
34
48
48
36
27
34
49
43
36
27
31
46
39
35
16
19
31
26
23
9
1
G
9
26
)
1
*
1
1
*
7
1
*
5
1
*
3
1
*
7
1
*
4
(
9
1
)
2
,
1
(
ÔÄΩ
ÔÄ´
ÔÄ´
ÔÄ´
ÔÄ´
ÔÄ´
ÔÄΩ
G
Ph·∫ßn t·ª≠ trung v·ªã 
tr∆∞·ªõc s·∫Øp x·∫øp 
Ph·∫ßn t·ª≠ trung v·ªã 
sau s·∫Øp x·∫øp 
H√¨nh 2.7. C√°ch s·∫Øp x·∫øp c√°c ph·∫ßn t·ª≠ trung v·ªã 
Ch·ªçn gi√° tr·ªã 3 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             10 
C√°c b∆∞·ªõc c·ªßa gi·∫£i thu·∫≠t: 
ÔÇß Qu√©t c·ªßa s·ªï l·ªçc l√™n c√°c th√†nh ph·∫ßn c·ªßa ·∫£nh g·ªëc, ƒëi·ªÅn c√°c gi√° tr·ªã ƒë∆∞·ª£c qu√©t v√†o 
c·ª≠a s·ªï l·ªçc. 
ÔÇß L·∫•y c√°c th√†nh ph·∫ßn trong c·ªßa s·ªï l·ªçc ƒë·ªÉ x·ª≠ l√Ω. 
ÔÇß S·∫Øp x·∫øp theo th·ª© t·ª± c√°c th√†nh ph·∫ßn trong c·ªßa s·ªï l·ªçc. 
ÔÇß L∆∞u l·∫°i th√†nh ph·∫ßn trung v·ªã, g√°n cho ·∫£nh ƒë·∫ßu ra. 
 
 
 
 
 
 
 
 
 
 
 
2.1.5.    K·ªπ thu·∫≠t l√†m m·ªù, co v√† gi√£n ·∫£nh 
a. K·ªπ thu·∫≠t l√†m m·ªù ·∫£nh. 
Lo·∫°i b·ªè nh·ªØng ƒëi·ªÉm ·∫£nh c√≥ gi√° tr·ªã m·ª©c x√°m cao. 
S·ª≠ d·ª•ng b·ªô l·ªçc v·ªõi c√°c h·ªá s·ªë ƒë·ªëi x·ª©ng nhau qua t√¢m c·ªßa b·ªô l·ªçc, c√°c h·ªá s·ªë ·ªü v·ªã tr√≠ 
c√≥ kho·∫£ng c√°ch g·∫ßn t√¢m c√≥ gi√° tr·ªã l·ªõn h∆°n ho·∫∑c b·∫±ng c√°c h·ªá s·ªë ·ªü v·ªã tr√≠ c√≥ kho·∫£ng c√°ch 
xa t√¢m. 
M·ªôt s·ªë b·ªô l·ªçc th∆∞·ªùng d√πng: 
 
 
 
 
 
H√¨nh 2.9. B·ªô l·ªçc 3x3 th∆∞·ªùng d√πng 
H√¨nh 2.8. ·∫¢nh b·ªã nhi·ªÖu mu·ªëi ti√™u tr∆∞·ªõc v√† sau khi l·ªçc trung v·ªã 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             11 
K√≠ch th∆∞·ªõc c·ªßa b·ªô l·ªçc (2N-1, 2M - 1), v√≠ d·ª• 3x3, 5x5... 
ƒê·∫∑t t√¢m c·ªßa b·ªô l·ªçc l√™n ƒëi·ªÉm ·∫£nh c·∫ßn x√©t, kh√¥ng x√©t nh·ªØng ƒëi·ªÉm n·∫±m tr√™n bi√™n 
v√πng ·∫£nh. 
T√≠nh to√°n ƒë√°p ·ª©ng ƒë·∫ßu ra c·ªßa b·ªô l·ªçc theo c√¥ng th·ª©c sau: 
g(x, y) = ÔÅì(wi*f(xi, yi)) / ÔÅì(wi) v·ªõi i=1..Size, Size = m x n l√† k√≠ch th∆∞·ªõc c·ªßa b·ªô l·ªçc. 
b. K·ªπ thu·∫≠t co ·∫£nh. 
M·ª•c ƒë√≠ch c·ªßa co ·∫£nh l√† ƒë·ªÉ thu nh·ªè ·∫£nh, lo·∫°i b·ªè c·∫ßu n·ªëi, lo·∫°i b·ªè ph·∫ßn nh√¥, ph·∫ßn 
th·ª´a ra. 
B∆∞·ªõc 1: X√°c ƒë·ªãnh ph·∫ßn t·ª≠ c·∫•u tr√∫c v√† t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c. 
 
 
 
Theo h√¨nh 2.10, ƒëi·ªÉm ch√≠nh gi·ªØa m√†u ƒë·ªè ch√≠nh l√† t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c. 
B∆∞·ªõc 2: ƒê·∫∑t t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c v√†o ƒëi·ªÉm ·∫£nh c·∫ßn x·ª≠ l√Ω, kh√¥ng x√©t c√°c 
ƒëi·ªÉm c√°o gi√° tr·ªã b·∫±ng 0.  
 
 
 
 
 
 
 
B∆∞·ªõc 3: N·∫øu t·∫•t c·∫£ c√°c ƒëi·ªÉm ·∫£nh c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c n·∫±m ho√†n to√†n trong c√°c 
ƒëi·ªÉm ·∫£nh c·ªßa ·∫£nh nh·ªã ph√¢n, th√¨ ƒëi·ªÉm t∆∞∆°ng ·ª©ng tr√™n ·∫£nh k·∫øt qu·∫£ s·∫Ω l√† ƒëi·ªÉm ·∫£nh (gi√° tr·ªã 
b·∫±ng 1). Ng∆∞·ª£c l·∫°i ƒëi·ªÉm t∆∞∆°ng ·ª©ng tr√™n ·∫£nh k·∫øt qu·∫£ s·∫Ω b·∫±ng 0. 
 
H√¨nh 2.11. ƒê·∫∑t ph·∫ßn t·ª≠ c·∫•u tr√∫c v√†o ·∫£nh c·∫ßn x·ª≠ l√Ω 
H√¨nh 2.10. X√°c ƒë·ªãnh t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             12 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 2.12 l√† hai v√≠ d·ª• khi ƒë·∫∑t t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c v√†o ·∫£nh c·∫ßn x·ª≠ l√Ω. 
 
 
 
 
 
 
 
H√¨nh 2.13 ·ªü tr√™n m√¥ t·∫£ k·∫øt qu·∫£ sau khi co ·∫£nh ta nh·∫≠n ƒë∆∞·ª£c m·ªôt ·∫£nh m·ªõi ƒë∆∞·ª£c 
thu nh·ªè k√≠ch c·ª° v√† 3 ph√†n nh√¥ ra ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè. 
 
H√¨nh 2.13. K·∫øt qu·∫£ sau khi co ·∫£nh 
H√¨nh 2.12. V√≠ d·ª• v·ªÅ t√≠nh to√°n co ·∫£nh 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             13 
c. K·ªπ thu·∫≠t gi√£n n·ªü ·∫£nh. 
B∆∞·ªõc 1: X√°c ƒë·ªãnh ph·∫ßn t·ª≠ c·∫•u tr√∫c v√† t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c. 
 
 
 
T∆∞∆°ng t·ª± nh∆∞ k·ªπ thu·∫≠t co ·∫£nh, t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c c≈©ng ƒë∆∞·ª£c x√°c ƒë·ªãnh 
nh∆∞ h√¨nh 2.14. 
B∆∞·ªõc 2: ƒê·∫∑t t√¢m v√†o ƒëi·ªÉm ·∫£nh c·∫ßn x·ª≠ l√Ω, kh√¥ng x√©t c√°c ƒëi·ªÉm ·∫£nh c√≥ gi√° tr·ªã 0. 
 
 
 
 
 
 
 
 
 
 
 
B∆∞·ªõc 3: Th·ª±c hi·ªán ph√©p c·ªông ph·∫ßn t·ª≠ c·∫•u tr√∫c v·ªõi ·∫£nh ƒë·ªÉ ƒë∆∞·ª£c k·∫øt qu·∫£ t·∫°i ƒëi·ªÉm 
t∆∞∆°ng ·ª©ng, d·ªãch chuy·ªÉn t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c l·∫ßn l∆∞·ª£t qua t·ª´ng ƒëi·ªÉm ·∫£nh tr√™n ·∫£nh 
v√† l·∫∑p l·∫°i c√°c b∆∞·ªõc tr√™n ta s·∫Ω ƒë∆∞·ª£c k·∫øt qu·∫£ nh∆∞ h√¨nh 2.16 b√™n d∆∞·ªõi, l√† m·ªôt ·∫£nh m·ªõi 
ƒë∆∞·ª£c m·ªü r·ªông h∆°n v·ªÅ k√≠ch c·ª° so v·ªõi ·∫£nh ban ƒë·∫ßu ƒë√¥ng th·ªùi kho·∫£ng tr·ªëng gi·ªØa c√°c 
v√πng ·∫£nh c≈©ng ƒë√£ ƒë∆∞·ª£c l·∫Øp ƒë·∫ßy. 
 
H√¨nh 2.14. X√°c ƒë·ªãnh t√¢m c·ªßa ph·∫ßn t·ª≠ c·∫•u tr√∫c 
H√¨nh 2.15. V√≠ d·ª• v·ªÅ t√≠nh to√°n gi√£n ·∫£nh 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             14 
 
 
 
 
 
 
2.1.6.  K·ªπ thu·∫≠t ph√¢n t√°ch m√†u da 
Da con ng∆∞·ªùi c√≥ m√†u r·∫•t ƒë·∫∑c tr∆∞ng, c√≥ th·ªÉ d·ªÖ d√†ng nh·∫≠n d·∫°ng v√† n√≥ c≈©ng kh√¥ng 
b·ªã ·∫£nh h∆∞·ªüng b·ªüi c√°c ph√©p bi·∫øn ƒë·ªïi h√¨nh h·ªçc ƒë·ªëi t∆∞·ª£ng. V√¨ v·∫≠y, ph√°t hi·ªán b√†n tay ng∆∞·ªùi 
d·ª±a tr√™n vi·ªác ph√°t hi·ªán m√†u da l√† m·ªôt ph∆∞∆°ng ph√°p ƒë∆°n gi·∫£n v√† c√≥ th·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c. 
V·ªõi ·∫£nh ƒë∆∞·ª£c ch·ª•p d∆∞·ªõi ƒëi·ªÅu ki·ªán √°nh s√°ng ph√π h·ª£p ‚Äì c√≥ th·ªÉ ph√¢n bi·ªát ƒë∆∞·ª£c m√†u 
s·∫Øc gi·ªØa c√°c v·∫≠t, m√†u da con ng∆∞·ªùi ph√¢n b·ªë th√†nh m·ªôt v√πng nh·ªè trong kh√¥ng gian m√†u. 
ƒê·ªÉ ph√°t hi·ªán ƒëi·ªÉm ·∫£nh c√≥ m√†u da, ta c·∫ßn ƒë·ªãnh nghƒ©a ng∆∞·ª°ng cho c√°c th√†nh ph·∫ßn kh√¥ng 
gian m√†u. M·ªói th√†nh ph·∫ßn c√≥ th·ªÉ c√≥ m·ªôt hay nhi·ªÅu gi√° tr·ªã ng∆∞·ª°ng, c√°c ƒëi·ªÉm ·∫£nh c√≥ gi√° 
tr·ªã n·∫±m trong ph·∫°m vi x√°c ƒë·ªãnh c·ªßa t·∫•t c·∫£ c√°c th√†nh ph·∫ßn ƒë∆∞·ª£c xem l√† c√°c ƒëi·ªÉm ·∫£nh c√≥ 
m√†u da. 
 
Trong kh√¥ng gian m√†u YCbCr, m·ªôt ƒëi·ªÉm ·∫£nh ƒë∆∞·ª£c xem l√† m√†u da khi c√°c gi√° tr·ªã 
Cb, Cr t·∫°i ƒëi·ªÉm ·∫£nh ƒë√≥ th·ªèa m√£n c√°c ƒëo·∫°n t∆∞∆°ng ·ª©ng [77; 127] v√† [133; 173] [4]. 
2.2. THU·∫¨T TO√ÅN NH·∫¨N D·∫†NG C·ª¨ CH·ªà B√ÄN TAY 
ƒê·ªÉ c√≥ th·ªÉ n·∫Øm r√µ h∆°n v·ªÅ b√†i to√°n nh·∫≠n d·∫°ng c·ª≠ ch·ªâ b√†n tay, tr∆∞·ªõc h·∫øt ta t√¨m hi·ªÉu 
ƒë·ªãnh nghƒ©a c·ª≠ ch·ªâ tay? Th·∫≠t kh√≥ ƒë·ªÉ gi·∫£i quy·∫øt v·ªõi m·ªôt ƒë·ªãnh nghƒ©a c·ª• th·ªÉ th·∫ø n√†o c·ªßa c·ª≠ 
ch·ªâ, do c√≥ nhi·ªÅu ·ª©ng d·ª•ng ƒë·ªÅ xu·∫•t v√† m·ªói ·ª©ng d·ª•ng ch·ªâ c√≥ th·ªÉ x√°c ƒë·ªãnh tr√™n m·ªôt mi·ªÅn 
c·ª• th·ªÉ c·ªßa c·ª≠ ch·ªâ. Trong lu·∫≠n vƒÉn n√†y, c·ª≠ ch·ªâ ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a nh∆∞ m·ªôt s·ª± chuy·ªÉn ƒë·ªông 
c·ªßa nh·ªØng ng√≥n tay nh∆∞ m·ªôt t√≠n hi·ªáu ƒë·∫∑c bi·ªát, ƒë·ªÉ li√™n l·∫°c ch√≠nh x√°c gi·ªØa ng∆∞·ªùi g·ª≠i v√† 
thi·∫øt b·ªã nh·∫≠n. 
Hi·ªán nay c√≥ nhi·ªÅu gi·∫£i thu·∫≠t h·ªó tr·ª£ vi·ªác ph√°t hi·ªán v√† tr√≠ch xu·∫•t c·ª≠ ch·ªâ b√†n tay 
trong m·ªôt ·∫£nh ch·ª•p. Sau khi ƒë√£ ph√¢n t√°ch m√†u da trong m·ªôt kh√¥ng gian m√†u nh·∫•t ƒë·ªãnh, 
qua m·ªôt s·ªë kh√¢u trung gian, ·∫£nh s·∫Ω ƒë∆∞·ª£c bi·∫øn ƒë·ªïi v·ªÅ ·∫£nh nh·ªã ph√¢n. L√∫c n√†y c√≥ th·ªÉ d√πng 
H√¨nh 2.16. K·∫øt qu·∫£ sau khi gi√£n ·∫£nh 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             15 
k·ªπ thu·∫≠t s·ª≠ d·ª•ng m·∫°ng n∆°-ron, k·ªπ thu·∫≠t SVM (Suport Vector Machine) ho·∫∑c k·ªπ thu·∫≠t 
Boosting v√† m√¥ h√¨nh Cascade ƒë·ªÉ nh·∫≠n d·∫°ng c·ª≠ ch·ªâ c·ªßa b√†n tay [5]. 
K·ªπ thu·∫≠t m·∫°ng n∆°-ron nh√¢n t·∫°o l√† k·ªπ thu·∫≠t m√¥ ph·ªèng tinh vi, c√≥ th·ªÉ m√¥ ph·ªèng 
c√°c h√†m c·ª±c k·ª≥ ph·ª©c t·∫°p v√† c√≥ t√≠nh h·ªçc theo c√°c v√≠ d·ª•. M·∫°ng ƒë∆∞·ª£c hu·∫•n luy·ªán t·ª´ c√°c s·ªë 
li·ªáu c√≥ s·∫µn v√† c√≥ kh·∫£ nƒÉng t·ª± ƒëi·ªÅu ch·ªânh khi s·ªë li·ªáu ƒë·∫ßu v√†o b·ªã m·∫•t, m·∫°ng c√≥ ƒë·ªô t√≠nh 
to√°n r·∫•t cao ph√π h·ª£p v·ªõi lƒ©nh v·ª±c nh·∫≠n d·∫°ng v√† ƒëi·ªÅu khi·ªÉn. 
SVM (Suport Vector Machine) l√† k·ªπ thu·∫≠t m·ªõi ƒë·ªëi v·ªõi vi·ªác ph√¢n l·ªõp d·ªØ li·ªáu, l√† 
ph∆∞∆°ng ph√°p h·ªçc s·ª≠ d·ª•ng kh√¥ng gian gi·∫£ thuy·∫øt c√°c h√†m tuy·∫øn t√≠nh tr√™n kh√¥ng gian ƒë·∫∑c 
tr∆∞ng nhi·ªÅu chi·ªÅu, d·ª±a tr√™n l√Ω thuy·∫øt t·ªëi ∆∞u v√† l√Ω thuy·∫øt th·ªëng k√™. L√† m·ªôt ph∆∞∆°ng ph√°p 
c√≥ t√≠nh t·ªïng qu√°t cao, c√≥ th·ªÉ √°p d·ª•ng cho nhi·ªÅu lo·∫°i b√†i to√°n nh·∫≠n d·∫°ng v√† ph√¢n lo·∫°i. 
K·ªπ thu·∫≠t Boosting v√† m√¥ h√¨nh Cascade, ƒë√¢y l√† ph∆∞∆°ng ph√°p ƒë·∫°t ƒë∆∞·ª£c hi·ªáu qu·∫£ 
cao c·∫£ v·ªÅ ƒë·ªô ch√≠nh x√°c v√† t·ªëc ƒë·ªô nh·∫≠n d·∫°ng. K·ªπ thu·∫≠t n√†y ph·∫£n √°nh t·ªët th√¥ng tin v·ªÅ ƒë·ªëi 
t∆∞·ª£ng, lo·∫°i b·ªè c√°c ƒë·ªëi t∆∞·ª£ng ƒë∆°n gi·∫£n ngay t·ª´ ƒë·∫ßu, x·ª≠ l√Ω nhanh gi√∫p n√¢ng cao t·ªâ l·ªá nh·∫≠n 
d·∫°ng. 
2.3. S∆† ƒê·ªí KH·ªêI H·ªÜ TH·ªêNG NH·∫¨N D·∫†NG C·ª¨ CH·ªà B√ÄN TAY 
 
 
 
 
 
 
 
 
 
 
Kh·ªëi thu ·∫£nh: L·∫•y ·∫£nh trong h·ªá th·ªëng v√† ·∫£nh t·ª´ m√¥i tr∆∞·ªùng ƒë·ªÉ ƒë∆∞a v√†o kh·ªëi x·ª≠ l√Ω. 
Kh·ªëi x·ª≠ l√Ω: X·ª≠ l√Ω, nh·∫≠n di·ªán b√†n tay. 
Kh·ªëi hi·ªÉn th·ªã: Hi·ªÉn th·ªã ·∫£nh sau khi nh·∫≠n d·∫°ng ra giao di·ªán. 
Giao ti·∫øp c·ªïng COM: Truy·ªÅn d·ªØ li·ªáu xu·ªëng vi ƒëi·ªÅu khi·ªÉn ƒë·ªÉ ƒëi·ªÅu khi·ªÉn ƒë√®n. 
 
WEBCAM 
M√ÅY T√çNH 
M√ÄN H√åNH 
M√ÅY T√çNH 
H√¨nh 2.17. S∆° ƒë·ªì kh·ªëi h·ªá th·ªëng nh·∫≠n d·∫°ng c·ª≠ ch·ªâ b√†n tay 
GIAO TI·∫æP 
C·ªîNG COM 
NGU·ªíN 
PIC16F887 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             16 
2.3.1.   Kh·ªëi thu ·∫£nh 
 
 
 
 
 
 
 
 
 
Kh·ªëi thu ·∫£nh c√≥ nhi·ªám v·ª• thu ·∫£nh t·ª´ m√¥i tr∆∞·ªùng ho·∫∑c l·∫•y ·∫£nh t·ª´ h·ªá th·ªëng ƒë·ªÉ ƒë∆∞a 
v√†o kh·ªëi x·ª≠ l√Ω. 
 
 
 
2.3.2.   Kh·ªëi x·ª≠ l√Ω 
·∫¢nh sau khi ƒë∆∞·ª£c thu v√†o s·∫Ω ƒë∆∞·ª£c thu nh·ªè c·ª° ·∫£nh xu·ªëng c√≤n m·ªôt n·ª≠a k√≠ch th∆∞·ªõc 
ban ƒë·∫ßu nh·∫±m m·ª•c ƒë√≠ch tƒÉng t·ªëc ƒë·ªô x·ª≠ l√Ω c·ªßa ch∆∞∆°ng tr√¨nh. Sau ƒë√≥ ·∫£nh ƒë∆∞·ª£c mang ƒëi 
nh·∫≠n di·ªán khu√¥n m·∫∑t nh·ªù v√†o c√¥ng c·ª• Computer Vision Toolbox c√≥ s·∫µn tr√™n ph·∫ßn m·ªÅm 
Matlab 2013. Vi·ªác nh·∫≠n di·ªán kh√¥ng m·∫∑t trong ·∫£nh ƒë·∫ßu v√†o nh·∫±m m·ª•c ƒë√≠ch x√≥a b·ªè khu√¥n 
m·∫∑t (n·∫øu c√≥), ƒë√¢y l√† m·ªôt ph·∫ßn c·ªßa gi·∫£i thu·∫≠t d√πng ƒë·ªÉ t√°ch b√†n tay ra kh·ªèi ·∫£nh ƒë∆∞·ª£c s·ª≠ 
d·ª•ng. C√≥ 2 tr∆∞·ªùng h·ª£p x·∫£y ra: 
ÔÄ≠ Tr∆∞·ªùng h·ª£p 1: Kh√¥ng t√¨m th·∫•y khu√¥n m·∫∑t ng∆∞·ªùi trong ·∫£nh. Ch∆∞∆°ng tr√¨nh s·∫Ω 
chuy·ªÉn ·∫£nh sang b∆∞·ªõc ti·∫øp theo ƒë·ªÉ x·ª≠ l√Ω ti·∫øp. 
ÔÄ≠ Tr∆∞·ªùng h·ª£p 2: Ph√°t hi·ªán c√≥ khu√¥n m·∫∑t ng∆∞·ªùi trong ·∫£nh. Kh√≠ ƒë√≥ ch∆∞∆°ng tr√¨nh s·∫Ω 
d·ª±a v√†o k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa v·ªã tr√≠ v√† ƒëi·ªán t√≠ch khu√¥n m·∫∑t ƒë·ªÉ t√¥ ƒëen ph·∫ßn di·ªán t√≠ch 
ƒê·ªô ph√¢n gi·∫£i ·∫£nh 
0.2MP 
ƒê·ªô ph√¢n gi·∫£i video 
640x480 
Giao ti·∫øp v·ªõi m√°y t√≠nh 
USB 2.0 
Ngu·ªìn cung c·∫•p 
USB 
H√¨nh 2.18. K·∫øt n·ªëi webcam v·ªõi m√°y t√≠nh 
B·∫£ng 2.1. Th√¥ng s·ªë k·ªπ thu·∫≠t c·ªßa webcam 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             17 
ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† khu√¥n m·∫∑t, √°p d·ª•ng cho t·∫•t c·∫£ c√°c khu√¥n m·∫∑t c√≥ th·ªÉ t√¨m th·∫•y 
trong ·∫£nh (h√¨nh 2.19). Sau ƒë√≥ chuy·ªÉn ·∫£nh sang b∆∞·ªõc ti·∫øp theo. 
 
 
 
 
 
 
 
Sau khi ƒë√£ ƒë∆∞·ª£c lo·∫°i b·ªè khu√¥n m·∫∑t c√≥ trong ·∫£nh, ·∫£nh s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi sang 
kh√¥ng gian m√†u YCbCr ƒë·ªÉ ph√¢n t√°ch m√†u da. K·∫øt qu·∫£ c·ªßa qu√° tr√¨nh n√†y ta s·∫Ω ƒë∆∞·ª£c m·ªôt 
·∫£nh nh·ªã ph√¢n ch·ªâ ch·ª©a nh·ªØng v√πng ƒë∆∞·ª£c xem l√† m√†u da ‚Äì nh·ªØng ƒëi·ªÉm ·∫£nh m√†u tr·∫Øng. 
Tuy nhi√™n trong ·∫£nh c√≥ th·ªÉ c√≥ nhi·ªÅu v√πng kh√¥ng ph·∫£i l√† m√†u da th·∫≠t s·ª± do m·ªôt s·ªë ƒë·ªì 
v·∫≠t c√≥ m√†u g·∫ßn gi·ªëng v·ªõi m√†u da ng∆∞·ªùi c≈©ng b·ªã gi·ªØ l·∫°i trong qu√° tr√¨nh tr√≠ch l·ªçc m√†u da. 
K·∫øt qu·∫£ l√† ·∫£nh c√≥ nhi·ªÅu ƒëi·ªÉm ho·∫∑c v√πng r·ªùi r·∫°c ƒë∆∞·ª£c gi·ªØ l·∫°i nh∆∞ h√¨nh 2.20.a. Ch√∫ √Ω: 
·∫¢nh hi·ªÉn th·ªã ·ªü h√¨nh 2.20 l√† ·∫£nh m√†u t·ª´ ·∫£nh g·ªëc ƒë√£ qua t√°ch l·∫•y m√†u da. 
 
 
 
 
 
 
 
Gi·∫£i ph√°p ƒë∆∞·ª£c ƒë∆∞a ra ƒë·ªÉ kh·∫Øc ph·ª•c v·∫•n ƒë·ªÅ lo·∫°i b·ªè c√°c v√πng kh√¥ng mong mu·ªën 
xu·∫•t hi·ªán trong ·∫£nh v√† thu ƒë∆∞·ª£c ch√≠nh x√°c v√πng ch·ª©a b√†n tay l√† t√≠nh t·ªïng di·ªán t√≠ch c√°c 
H√¨nh 2.19. ·∫¢nh ƒë∆∞·ª£c lo·∫°i b·ªè khu√¥n m·∫∑t 
a. ·∫¢nh sau khi l·ªçc m√†u da 
b. ·∫¢nh ch·ªâ ch·ª©a v√πng b√†n tay 
H√¨nh 2.20. K·∫øt qu·∫£ l·ªçc m√†u da 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             18 
ƒëi·ªÉm ·∫£nh l√† m√†u da trong ·∫£nh. T·ª´ k·∫øt qu·∫£ thu ƒë∆∞·ª£c ta ch·ªâ gi·ªØ l·∫°i v√πng n√†o ch·ª©a t·ªïng 
di·ªán t√≠ch ƒëi·ªÉm ·∫£nh l·ªõn nh·∫•t v√† xem ƒë√≥ l√† v√πng ch·ª©a b√†n tay (xem h√¨nh 2.20.b).  
 
 
 
 
 
 
 
C√¥ng vi·ªác ti·∫øp theo c·∫ßn th·ª±c hi·ªán l√† vi·ªác ph√°t hi·ªán v√† c·∫Øt v√πng ·∫£nh ch·ªâ ch·ª©a b√†n 
tay th·∫≠t s·ª± trong ·∫£nh ƒë√£ qua x·ª≠ l√Ω ·ªü tr√™n. V√¨ ·∫£nh khi thu v√†o c√≥ th·ªÉ c√≥ m·ªôt ph·∫ßn c√°nh 
tay c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng, do ƒë√≥ c·∫ßn lo·∫°i b·ªè ƒëi ph·∫ßn c√°nh tay n√†y ƒë·ªÉ vi·ªác nh·∫≠n d·∫°ng v·ªÅ sau 
ƒë∆∞·ª£c chu·∫©n x√°c. K·∫øt qu·∫£ ta ƒë∆∞·ª£c m·ªôt ·∫£nh ch·ª©a b√†n tay t√≠nh t·ª´ c·ªï tay ƒë·∫øn c√°c ng√≥n tay 
nh∆∞ h√¨nh 2.21. 
 
 
 
 
 
 
 
 
T·ª´ ·∫£nh tr√™n, ti·∫øn h√†nh t√¨m tr·ªçng t√¢m c·ªßa b√†n tay nh∆∞ h√¨nh 2.22. Khi ƒë√£ c√≥ ƒë∆∞·ª£c 
tr·ªçng t√¢m c·ªßa b√†n tay, ta ƒëi t√¨m kho·∫£ng c√°ch ng·∫Øn nh·∫•t t·ª´ tr·ªçng t√¢m ƒë√≥ ƒë·∫øn ƒë∆∞·ªùng bi√™n 
c·ªßa b√†n tay. Kho·∫£ng c√°ch ƒë∆∞·ª£c t√≠nh theo c√¥ng th·ª©c (2.7):  
(Cx, Cy) 
x 
y 
O 
(x,y) 
H√¨nh 2.22. T√≠nh kho·∫£ng c√°ch t·ª´ tr·ªçng t√¢m ƒë·∫øn bi√™n b√†n tay 
H√¨nh 2.21. K·∫øt qu·∫£ c·∫Øt l·∫•y b√†n tay 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             19 
 
                               (2.7) 
 
Trong ƒë√≥: 
D: kho·∫£ng c√°ch 
Cx: t·ªça ƒë·ªô theo ph∆∞∆°ng x c·ªßa ƒëi·ªÉm tr·ªçng t√¢m. 
Cy: t·ªça ƒë·ªô theo ph∆∞∆°ng y c·ªßa ƒëi·ªÉm tr·ªçng t√¢m. 
x, y: l·∫ßn l∆∞·ª£t l√† t·ªça ƒë·ªô t·∫°i ƒëi·ªÉm c·∫ßn t√≠nh kho·∫£ng c√°ch.  
 
Vi·ªác t√≠nh to√°n gi√° tr·ªã kho·∫£ng c√°ch ƒë·ªÉ d·ª±a v√†o ƒë√≥ t√¨m ra k√≠ch th∆∞·ªõc ph√π h·ª£p c·ªßa 
m·∫∑t n·∫° khi √°p d·ª•ng c√°c b·ªô l·ªçc tr√™n ·∫£nh. M·ªói ·∫£nh mang ƒëi x·ª≠ l√Ω c√≥ nh·ªØng ƒë·∫∑c ƒëi·ªÉm kh√°c 
nhau, kh√¥ng th·ªÉ √°p d·ª•ng duy nh·∫•t m·ªôt k√≠ch th∆∞·ªõc nh·∫•t ƒë·ªãnh cho m·∫∑t n·∫° l·ªçc m√† ph·∫£i linh 
ƒë·ªông thay ƒë·ªïi cho ph√π h·ª£p v·ªõi ·∫£nh ƒë·∫ßu v√†o. 
Sau ƒë√≥ ti·∫øn h√†nh ph√©p m·ªü ·∫£nh b·∫±ng c√°ch th·ª±c hi·ªán li√™n ti·∫øp 2 ph√©p co ·∫£nh v√† 
gi√£n ·∫£nh ƒë·ªÉ lo·∫°i b·ªè c√°c ph·∫ßn nh√¥ ra nh∆∞ng v·∫´n gi·ªØ ƒë∆∞·ª£c c·∫•u tr√∫c, k√≠ch th∆∞·ªõc v√πng ·∫£nh. 
H√¨nh 2.23 m√¥ t·∫£ ·∫£nh ƒë√£ ƒë∆∞·ª£c th·ª±c hi·ªán li√™n ti·∫øp 2 ph√©p co ·∫£nh v√† gi√£n ·∫£nh, c√≥ th·ªÉ th·∫•y 
c√°c ph·∫ßn nh√¥ ra (c√°c ng√≥n tay) ƒë√£ b·ªã lo·∫°i b·ªè ch·ªâ gi·ªØ l·∫°i v√πng l√≤ng b√†n tay. 
 
 
 
 
 
 
C√¥ng ƒëo·∫°n sau c√πng l√† l·∫•y ·∫£nh ch·ªâ ch·ª©a b√†n tay tr·ª´ ƒëi ·∫£nh ƒë√£ qua ph√©p m·ªü ·∫£nh 
ƒë·ªÉ t√¨m l·∫°i c√°c v√πng nh√¥ ra so v·ªõi ·∫£nh ƒë√£ co gi√£n, c√°c v√πng n√†y s·∫Ω ch·ª©a c√°c ng√≥n tay v√† 
c·∫£ nh·ªØng v√πng nh·∫•p nh√¥ do s·ª± sai kh√°c gi·ªØa 2 ·∫£nh trong qu√° tr√¨nh x·ª≠ l√Ω. 
 
H√¨nh 2.24.a cho th·∫•y ·∫£nh sau khi tr·ª´ nhau s·∫Ω c√≥ nhi·ªÅu nh·ªØng v√πng kh√¥ng ph·∫£i 
ng√≥n tay xu·∫•t hi·ªán trong ·∫£nh. C√≥ nhi·ªÅu c√°ch ƒë·ªÉ lo·∫°i b·ªè nh·ªØng v√πng th·ª´a n√†y v√† c√°ch 
l√†m ƒë∆∞·ª£c ch·ªçn trong ch∆∞∆°ng tr√¨nh l√† c√°ch ƒë√£ th·ª±c hi·ªán tr∆∞·ªõc ƒë√≥: T√≠nh t·ªïng ƒëi·ªán t√≠ch c√°c 
ƒëi·ªÉm ·∫£nh m√†u tr·∫Øng, ch·ªâ gi·ªØ l·∫°i nh·ªØng v√πng c√≥ t·ªïng di·ªán t√≠ch l·ªõn h∆°n 10% c·ªßa t·ªïng n√†y. 
2
2
)
(
)
(
y
Cy
x
Cx
D
ÔÄ≠
ÔÄ´
ÔÄ≠
ÔÄΩ
H√¨nh 2.23. Th·ª±c hi·ªán ph√©p gi√£n ·∫£nh v√† k·∫øt qu·∫£ 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             20 
Khi ƒë√≥ c√°c ƒëi·ªÉm ch·∫•m, v√πng tr·∫Øng nh·ªè s·∫Ω b·ªã x√≥a s·∫°ch kh·ªèi ·∫£nh v√† thu ƒë∆∞·ª£c m·ªôt ·∫£nh ch·ªâ 
ch·ª©a c√°c v√πng ng√≥n tay nh∆∞ h√¨nh 2.24.b. Vi·ªác t√¨m v√† ƒë·∫øm c√≥ bao nhi√™u v√πng ph√¢n bi·ªát 
trong ·∫£nh s·∫Ω gi√∫p ch√∫ng ta bi·∫øt ƒë∆∞·ª£c c√≥ bao nhi√™u ng√≥n tay. V√≠ d·ª• trong h√¨nh 2.24.b l√† 
5 ng√≥n tay. 
 
 
 
 
 
 
 
2.3.3.   Kh·ªëi hi·ªÉn th·ªã ·∫£nh 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
·∫¢nh l·∫•y t·ª´ ƒë·∫ßu v√†o v√† ·∫£nh sau khi qua x·ª≠ l√Ω s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n giao di·ªán nh∆∞ 
h√¨nh 2.25 ·ªü tr√™n, ƒë·ªÉ ng∆∞·ªùi d√πng d·ªÖ d√†ng quan s√°t v√† ƒëi·ªÅu khi·ªÉn. 
Giao di·ªán c√≥ 4 ph·∫ßn ch√≠nh: 
H√¨nh 2.24. K·∫øt qu·∫£ sau c√πng c·ªßa x·ª≠ l√Ω ·∫£nh 
a. ·∫¢nh sau khi tr·ª´ 
b. ·∫¢nh ch·ªâ ch·ª©a 
c√°c v√πng ng√≥n tay 
H√¨nh 2.25. Giao di·ªán hi·ªÉn th·ªã ·∫£nh v√† giao ti·∫øp v·ªõi ng∆∞·ªùi d√πng 
CH∆Ø∆†NG 2: C∆† S·ªû L√ù THUY·∫æT 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             21 
ÔÇß V√πng hi·ªÉn th·ªã h√¨nh ·∫£nh: Hi·ªÉn th·ªã ·∫£nh c·∫ßn x·ª≠ l√Ω, ·∫£nh ƒë√£ x·ª≠ l√Ω. 
ÔÇß V√πng hi·ªÉn th·ªã t√≠n hi·ªáu ng√µ ra: M·ªôt trong c√°c led s·∫Ω s√°ng ·ª©ng v·ªõi t√≠n hi·ªáu ·ªü ng√µ 
ra ƒë√≥ ƒë∆∞·ª£c k√≠ch ho·∫°t. 
ÔÇß V√πng x·ª≠ l√Ω: Ch·ª©a c√°c n√∫t b·∫•m cho ph√©p th·ª±c thi ch∆∞∆°ng tr√¨nh ·ª©ng v·ªõi c√°c ch·ª©c 
nƒÉng nh·∫•t ƒë·ªãnh. 
ÔÇß V√πng giao ti·∫øp: Cho bi·∫øt m·ªôt s·ªë th√¥ng tin v·ªÅ k·∫øt n·ªëi giao ti·∫øp. 
2.3.4.  Giao ti·∫øp c·ªïng COM-DB9 
 
 
 
 
 
C·ªïng n·ªëi ti·∫øp c√≥ ƒë·∫∑c t√≠nh ho·∫°t ƒë·ªông song c√¥ng (thu v√† ph√°t ƒë·ªìng th·ªùi), vi·ªác truy·ªÅn 
d·ªØ li·ªáu qua c·ªïng COM ƒë∆∞·ª£c ti·∫øn h√†nh theo hai c√°ch n·ªëi ti·∫øp, nghƒ©a l√† c√°c bit d·ªØ li·ªáu 
ƒë∆∞·ª£c truy·ªÅn ƒëi n·ªëi ti·∫øp nhau tr√™n m·ªôt ƒë∆∞·ªùng d·∫´n. Ph∆∞∆°ng th·ª©c truy·ªÅn truy·ªÅn d·ªØ li·ªáu n√†y 
c√≥ kh·∫£ nƒÉng d√πng cho nh·ªØng ·ª©ng d·ª•ng c√≥ y√™u c·∫ßu truy·ªÅn d·ªØ li·ªáu tr√™n kho·∫£ng c√°ch l·ªõn 
b·ªüi v√¨ c√°c kh·∫£ nƒÉng g√¢y nhi·ªÖu l√† nh·ªè h∆°n nhi·ªÅu so v·ªõi vi·ªác truy·ªÅn d·ªØ li·ªáu qua c·ªïng song 
c√¥ng. 
C·ªïng COM l√† m·ªôt h·ªá th·ªëng cho ph√©p d·ªÖ d√†ng t·∫°o li√™n k·∫øt d∆∞·ªõi h√¨nh th·ª©c ƒëi·ªÉm 
ƒëi·ªÉm gi·ªØa hai thi·∫øt b·ªã c·∫ßn trao ƒë·ªïi th√¥ng tin v·ªõi nhau, m·ªôt th√†nh vi√™n th·ª© ba kh√¥ng th·ªÉ 
tham gia v√†o vi·ªác trao ƒë·ªïi th√¥ng tin n√†y. Tr√™n th·ª±c t·∫ø c√≥ hai lo·∫°i c·ªïng COM: lo·∫°i 9 ch√¢n 
v√† 25 ch√¢n, trong ƒë·ªÅ t√†i n√†y ch·ªâ s·ª≠ d·ª•ng c·ªïng 9 ch√¢n, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c·ªïng COM 
n√†y ·ªü ch∆∞∆°ng 3.
H√¨nh 2.26. C·ªïng COM DB-09 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             22 
Ch∆∞∆°ng 3. T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
3.1. GI·ªöI THI·ªÜU 
 
H·ªá th·ªëng n√†y x√¢y d·ª±ng m√¥ h√¨nh ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng nh·ªØng c·ª≠ ch·ªâ tay ƒë∆°n 
gi·∫£n. M√¥ h√¨nh n√†y g·ªìm webcam k·∫øt n·ªëi v·ªõi m√°y t√≠nh ƒë·ªÉ thu ·∫£nh t·ª´ m√¥i tr∆∞·ªùng b√™n ngo√†i 
ho·∫∑c ch·ªçn ·∫£nh c√≥ s·∫µn t·ª´ th∆∞ vi·ªán c·ªßa m√°y t√≠nh, sau ƒë√≥ d√πng c√¥ng c·ª• Matlab ƒë·ªÉ x·ª≠ l√Ω 
·∫£nh v·ª´a thu ƒë∆∞·ª£c r·ªìi xu·∫•t k·∫øt qu·∫£ xu·ªëng m·∫°ch giao ti·∫øp ƒë·ªÉ ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã th√¥ng qua 
c·ªïng COM DB-09. 
3.2. T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ H·ªÜ TH·ªêNG 
3.3.1. Thi·∫øt k·∫ø s∆° ƒë·ªì kh·ªëi h·ªá th·ªëng 
 
H·ªá th·ªëng ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ ch·ªâ tay th√¥ng qua x·ª≠ l√Ω ·∫£nh, ƒë∆∞·ª£c thi·∫øt k·∫ø 
bao g·ªìm c√°c kh·ªëi sau: 
 
 
 
 
 
 
 
 
 
Kh·ªëi giao ti·∫øp: Giao ti·∫øp, l·∫•y t√≠n hi·ªáu t·ª´ ph·∫ßn m·ªÅm ch·∫°y tr√™n m√°y t√≠nh ƒë∆∞a v√†o vi 
ƒëi·ªÅu khi·ªÉn PIC16F887. 
 
PIC 16F887: Nh·∫≠n t√≠n hi·ªáu, x·ª≠ l√Ω v√† ƒëi·ªÅu khi·ªÉn b·∫≠t/t·∫Øt ƒë√®n LED. 
 
Kh·ªëi ƒë√®n LED: S√°ng/t·∫Øt theo t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn, cho bi·∫øt ng√µ ra n√†o ƒëang ho·∫°t 
ƒë·ªông. 
 
Kh·ªëi ngu·ªìn: C·∫•p ngu·ªìn cho to√†n b·ªô h·ªá th·ªëng ho·∫°t ƒë·ªông. 
3.3.2. T√≠nh to√°n v√† thi·∫øt k·∫ø m·∫°ch giao ti·∫øp 
a. Kh·ªëi giao ti·∫øp 
ÔÅ∂ Chu·∫©n giao ti·∫øp RS232 
ÔÇß ƒê·∫∑t v·∫•n ƒë·ªÅ 
 
V·∫•n ƒë·ªÅ giao ti·∫øp gi·ªØa m√°y t√≠nh v√† vi ƒëi·ªÅu khi·ªÉn r·∫•t quan tr·ªçng trong c√°c ·ª©ng d·ª•ng 
ƒëi·ªÅu khi·ªÉn, ƒëo l∆∞·ªùng,‚Ä¶Gh√©p n·ªëi qua c·ªïng n·ªëi ti·∫øp RS232 l√† m·ªôt trong nh·ªØng k·ªπ thu·∫≠t 
KH·ªêI  
GIAO TI·∫æP 
PIC 16F887 
ƒê√àN LED  
KH·ªêI NGU·ªíN 
H√¨nh 3.1. S∆° ƒë·ªì kh·ªëi m·∫°ch giao ti·∫øp ƒëi·ªÅu khi·ªÉn led 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             23 
ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i ƒë·ªÉ gh√©p n·ªëi c√°c thi·∫øt b·ªã ngo·∫°i vi v·ªõi m√°y t√≠nh. N√≥ l√† m·ªôt chu·∫©n 
giao ti·∫øp n·ªëi ti·∫øp d√πng ƒë·ªãnh d·∫°ng kh√¥ng ƒë·ªìng b·ªô, k·∫øt n·ªëi nhi·ªÅu nh·∫•t l√† 2 thi·∫øt b·ªã, chi·ªÅu 
d√†i k·∫øt n·ªëi l·ªõn nh·∫•t cho ph√©p ƒë·ªÉ ƒë·∫£m b·∫£o d·ªØ li·ªáu l√† 12.5 ƒë·∫øn 25.4m, t·ªëc ƒë·ªô 20kbit/s ƒë√¥i 
khi 115kbit/s v·ªõi m·ªôt s·ªë thi·∫øt b·ªã ƒë·∫∑c bi·ªát. √Ω nghƒ©a c·ªßa chu·∫©n truy·ªÅn th√¥ng n·ªëi ti·∫øp nghƒ©a 
l√† trong m·ªôt th·ªùi ƒëi·ªÉm ch·ªâ c√≥ m·ªôt bit ƒë∆∞·ª£c g·ª≠i ƒëi d·ªçc theo ƒë∆∞·ªùng truy·ªÅn. 
 
C√≥ hai phi√™n b·∫£n RS232 ƒë∆∞·ª£c l∆∞u h√†nh trong th·ªùi gian t∆∞∆°ng ƒë·ªëi d√†i l√† RS232B 
v√† RS232C. Nh∆∞ng cho ƒë·∫øn nay th√¨ phi√™n b·∫£n RS232B c≈© th√¨ √≠t ƒë∆∞·ª£c d√πng c√≤n RS232C 
hi·ªán v·∫´n ƒë∆∞·ª£c d√πng v√† t·ªìn ta·ªã th∆∞·ªùng ƒë∆∞·ª£c g·ªçi ng·∫Øn g·ªçn lag RS232. C√°c m√°y t√≠nh 
th∆∞·ªùng c√≥ m·ªôt ho·∫∑c hai c·ªïng n·ªëi ti·∫øp theo chu·∫©n RS232 ƒë∆∞·ª£c g·ªçi l√† c·ªïng COM. Tr√™n 
m√°y t√≠nh c√≥ lo·∫°i 9 ch√¢n ho·∫∑c 25 ch√¢n t√πy v√†o ƒë·ªùi m√°y v√† c·ªßa m√°y t√≠nh. Vi·ªác thi·∫øt k·∫ø 
giao ti·∫øp v·ªõi c·ªïng RS232 c≈©ng t∆∞∆°ng ƒë·ªëi d·ªÖ d√†ng, ƒë·∫∑c bi·ªát khi ch·ªçn ch·∫ø ƒë·ªô ho·∫°t ƒë·ªông 
l√† kh√¥ng ƒë·ªìng b·ªô v√† t·ªëc ƒë·ªô truy·ªÅn d·ªØ li·ªáu th·∫•p.  
ÔÇß ∆Øu ƒëi·ªÉm c·ªßa giao di·ªán n·ªëi ti·∫øp RS232 
ÔÄ´ Kh·∫£ nƒÉng ch·ªëng nhi·ªÖu c·ªßa c√°c c·ªïng n·ªëi ti·∫øp cao. 
ÔÄ´ Thi·∫øt b·ªã ngo·∫°i vi c√≥ th·ªÉ th√°o l·∫Øp ngay khi m√°y t√≠nh ƒëang ƒë∆∞·ª£c c·∫•p ƒëi·ªán. 
ÔÄ´ C√°c m·∫°ch ƒëi·ªán ƒë∆°n gi·∫£n c√≥ th·ªÉ nh·∫≠n ƒë∆∞·ª£c ƒëi·ªán √°p ngu·ªìn nu√¥i qua c·ªïng n·ªëi 
ti·∫øp. 
ÔÇß Nh·ªØng ƒë·∫∑c ƒëi·ªÉm l∆∞u √Ω trong chu·∫©n RS232 
ÔÄ´ Trong chu·∫©n RS232 c√≥ m·ª©c gi·ªõi h·∫°n tr√™n v√† d∆∞·ªõi (logic 0 v√† 1) l√† ¬±12V. 
Hi·ªán nay ƒëang ƒë∆∞·ª£c c·ªë ƒë·ªãnh tr·ªü kh√°ng t·∫£i trong ph·∫°m vi t·ª´ 3000 ohm-7000 
ohm. 
ÔÄ´ M·ª©c logic 1 c√≥ ƒëi·ªán √°p n·∫±m trong kho·∫£ng -3V ƒë·∫øn -12V, m·ª©c logic 0 t·ª´ +3V 
ƒë·∫øn +12V. 
ÔÄ´ T·ªëc ƒë·ªô truy·ªÅn nh·∫≠n d·ªØ li·ªáu c·ª±c ƒë·∫°i l√† 100kbps. 
ÔÄ´ C√°c l·ªëi v√†o ph·∫£i c√≥ ƒëi·ªán tr·ªü l·ªõn h∆°n 3000 ohm nh∆∞ng ph·∫£i nh·ªè h∆°n 7000 ohm. 
ÔÄ´ ƒê·ªô d√†i c·ªßa c√°p n·ªëi gi·ªØa m√°y t√≠nh v√† thi·∫øt b·ªã ngo·∫°i vi gh√©p n·ªëi qua c·ªïng n·ªëi 
ti·∫øp RS232 kh√¥ng v∆∞·ª£t qu√° 15m. 
ÔÄ´ C√°c gi√° tr·ªã t·ªëc ƒë·ªô truy·ªÅn d·ªØ li·ªáu chu·∫©n: 50, 75,‚Ä¶, 1200, 2400,‚Ä¶, 115200 bps. 
ÔÇß C√°c m·ª©c ƒëi·ªán √°p ƒë∆∞·ªùng truy·ªÅn 
 
 RS232 s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c truy·ªÅn th√¥ng kh√¥ng ƒë·ªëi x·ª©ng, t·ª©c l√† s·ª≠ d·ª•ng t√≠n 
hi·ªáu ƒëi·ªán √°p ch√™nh l·ªách gi·ªØa m·ªôt d√¢y d·∫´n v√† ƒë·∫•t. Do ƒë√≥ ngay t·ª´ ƒë·∫ßu ti√™n ra ƒë·ªùi n√≥ ƒë√£ 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             24 
mang v·∫ª l·ªói th·ªùi c·ªßa chu·∫©n TTL (Transistor- transistor logic), n√≥ v·∫´n s·ª≠ d·ª•ng c√°c m·ª©c 
t∆∞∆°ng th√≠ch TTL ƒë·ªÉ m√¥ t·∫£ c√°c m·ª©c logic 0 v√† 1.  
 
C√°c m·ª©c ƒëi·ªán √°p trong ph·∫°m vi t·ª´ -3V ƒë·∫øn 3V l√† tr·∫°ng th√°i chuy·ªÉn tuy·∫øn. Ch√≠nh 
v√¨ t·ª´ -3V ƒë·∫øn 3V l√† ph·∫°m vi kh√¥ng ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a, trong tr∆∞·ªùng h·ª£p thay ƒë·ªïi gi√° tr·ªã 
logic t·ª´ th·∫•p l√™n cao ho·∫∑c t·ª´ cao xu·ªëng th·∫•p, m·ªôt t√≠n hi·ªáu ph·∫£i v∆∞·ª£t qua qu√£ng qu√° ƒë·ªô 
trong m·ªôt th·ªùi gian ng·∫Øn h·ª£p l√Ω. ƒêi·ªÅu n√†y d·∫´n ƒë·∫øn vi·ªác ph·∫£i han ch·∫ø v·ªÅ ƒëi·ªán dung c·ªßa 
c√°c thi·∫øt b·ªã tham gia v√† c·ªßa c·∫£ ƒë∆∞·ªùng truy·ªÅn. T·ªëc ƒë·ªô truy·ªÅn d·∫´n t·ªëi ƒëa ph·ª• thu·ªôc v√†o 
chi·ªÅu d√†i c·ªßa d√¢y d·∫´n. ƒêa s·ªë c√°c h·ªá th·ªëng hi·ªán nay ch·ªâ h·ªó tr·ª£ v·ªõi t·ªëc ƒë·ªô 19,2Kbps. 
ÔÇß C·ªïng RS232 tr√™n m√°y  t√≠nh 
 
H·∫ßu h·∫øt c√°c m√°y t√≠nh c√° nh√¢n hi·ªán nay ƒë·ªÅu ƒë∆∞·ª£c trang b·ªã √≠t nh·∫•t 1 c·ªïng Com hay 
c·ªïng n·ªëi ti·∫øp RS232. S·ªë l∆∞·ª£ng c·ªïng Com c√≥ th·ªÉ l√™n t·ªõi 4 t√πy t·ª´ng l·∫°o main m√°y t√≠nh. 
Khi ƒë√≥ c√°c c·ªïng Com ƒë√≥ ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† Com 1, Com 2, Com 3,‚Ä¶Tr√™n ƒë√≥ c√≥ 2 lo·∫°i 
ƒë·∫ßu n·ªëi ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c·ªïng n·ªëi ti·∫øp RS232 lo·∫°i 9 ch√¢n (DB09) ho·∫∑c 25 ch√¢n (DB25). 
Tuy hai lo·∫°i ƒë·∫ßu n·ªëi n√†y c√≥ c√πng song song nh∆∞ng hai lo·∫°i n√†y ƒë∆∞·ª£c ph√¢n bi·ªát b·ªüi c·ªïng 
ƒë·ª±c (DB09) v√† c·ªïng c√°i (DB25). 
 
X√©t s∆° ƒë·ªì ch√¢n c·ªïng Com 9 ch√¢n: 
 
 
 
 
 
 
 
 
 
Trong h√¨nh 3.2 ·ªü tr√™n m√¥ t·∫£ k√Ω hi·ªáu ch√¢n c·ªßa c·ªïng Com DB-09, ch·ª©c nƒÉng c√°c 
ch√¢n nh∆∞ sau: 
ÔÄ´ Ch√¢n 1: Data Carrier Detect (DCD) : Ph√°t t√≠n hi·ªáu mang d·ªØ li·ªáu 
ÔÄ´ Ch√¢n 2: Receive Data (RxD): Nh·∫≠n d·ªØ li·ªáu 
ÔÄ´ Ch√¢n 3: Transmit Data (TxD): Truy·ªÅn d·ªØ li·ªáu 
H√¨nh 3.2. S∆° ƒë·ªì ch√¢n c·ªïng COM-DB9  
Data carrier detect 
Data set ready 
Receive data 
Request to send 
Transmit data 
Clear to send 
Data terminal ready 
Ring indicator 
Signal ground 
 
Protective ground 
 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             25 
ÔÄ´ Ch√¢n 4: Data Terminal Ready (DTR): ƒê·∫ßu cu·ªëi d·ªØ li·ªáu s·∫µn s√†ng ƒë∆∞·ª£c k√≠ch ho·∫°t 
b·ªüi b·ªô ph·∫≠n khi mu·ªën truy·ªÅn d·ªØ li·ªáu 
ÔÄ´ Ch√¢n 5: Singal Ground (SG): Mass c·ªßa t√≠n hi·ªáu 
ÔÄ´ Ch√¢n 6: Data Set Ready (DSR): D·ªØ li·ªáu s·∫µn s√†ng, ƒë∆∞·ª£c k√≠ch b·ªüi b·ªô truy·ªÅn khi n√≥ 
s·∫µn s√†ng nh·∫≠n d·ªØ li·ªáu 
ÔÄ´ Ch√¢n 7: Request to Send : Y√™u c·∫ßu g·ª≠i, b·ªô truy·ªÅn ƒë·∫∑t ƒë∆∞·ªùng n√†y l√™n m·ª©c ho·∫°t 
ƒë·ªông khi s·∫Øn s√†ng truy·ªÅn d·ªØ li·ªáu 
ÔÄ´ Ch√¢n 8: Clear To Send (CTS): X√≥a ƒë·ªÉ g·ª≠i, b·ªô ph·∫≠n ƒë·∫∑t ƒë∆∞·ªùng n√†y l√™n m·ª©c k√≠ch 
ho·∫°t ƒë·ªông ƒë·ªÉ th√¥ng b√°o cho b·ªô truy·ªÅn l√† n√≥ s·∫µn s√†ng nh·∫≠n t√≠n hi·ªáu 
ÔÄ´ Ch√¢n 9: Ring Indicate (RI): B√°o chu√¥ng cho bi·∫øt l√† b·ªô nh·∫≠n d·∫°ng ƒëang nh·∫≠n t√≠n 
hi·ªáu rung chu√¥ng 
ÔÇß Qu√° tr√¨nh truy·ªÅn nh·∫≠n d·ªØ li·ªáu 
 
Truy·ªÅn d·ªØ li·ªáu qua c·ªïng n·ªëi ti·∫øp RS232 ƒë∆∞·ª£c th·ª±c hi·ªán kh√¥ng ƒë·ªìng b·ªô. Do v·∫≠y, 
t·∫°i m·ªôt th·ªùi ƒëi·ªÉm ch·ªâ c√≥ m·ªôt bit ƒë∆∞·ª£c truy·ªÅn, d·∫°ng s√≥ng truy·ªÅn ƒë∆∞·ª£c m√¥ t·∫£ trong h√¨nh 
3.3 b√™n d∆∞·ªõi. 
 
 
 
 
 
 
  
B·ªô truy·ªÅn g·ª≠i m·ªôt bit b·∫Øt ƒë·∫ßu (Startbit) ƒë·ªÉ th√¥ng b√°o cho b·ªô nh·∫≠n bi·∫øt m·ªôt k√Ω t·ª± 
s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn trong l·∫ßn truy·ªÅn bit ti·∫øp theo. Bit n√†y lu√¥n b·∫Øt ƒë·∫ßu b·∫±ng m·ª©c 0. Ti·∫øp 
theo ƒë√≥ l√† c√°c bit d·ªØ li·ªáu (bit data) ƒë∆∞·ª£c g·ª≠i d∆∞·ªõi d·∫°ng m√£ ASCII (c√≥ th·ªÉ l√† 5, 6, 7 hay 
8 bit d·ªØ li·ªáu). Sau ƒë√≥ l√† m·ªôt Parity bit (ki·ªÉm tra bit ch·∫µn l·∫ª hay kh√¥ng) c√≥ th·ªÉ c√≥ ho·∫∑c 
kh√¥ng v√† cu·ªëi c√πng l√† bit d·ª´ng (Stopbit) c√≥ th·ªÉ l√† 1 hay 2 bit d·ª´ng, trong ƒë√≥ k√Ω hi·ªá 
LOW v√† HIGHT t∆∞∆°ng ·ª©ng v·ªõi m·ª©c 0 v√† 1. 
 
 
HIGHT 
Starbit 
  1        1       0        1        0        0       1        0 
 D0    D1     D2     D3     D4    D5    D6     D7 
-12v 
LOW 
+12V 
Stopbit 
H√¨nh 3.3. D·∫°ng s√≥ng truy·ªÅn d·ªØ li·ªáu theo chu·∫©n RS232 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             26 
ÔÄ´ T·ªëc ƒë·ªô Baud 
 
ƒê√¢y l√† m·ªôt tham s·ªë ƒë·∫∑c tr∆∞ng c·ªßa RS232. Tham s·ªë n√†y ch√≠nh l√† ƒë·∫∑c tr∆∞ng cho 
qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu qua c·ªïng n·ªëi ti·∫øp RS232. T·ªëc ƒë·ªô bit ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a l√† s·ªë bit 
truy·ªÅn ƒë∆∞·ª£c trong th·ªùi gian 1 gi√¢y. T·ªëc ƒë·ªô bit n√†y ph·∫£i ƒë∆∞·ª£c thi·∫øt l·∫≠p ·ªü b√™n ph√°t v√† b√™n 
nh·∫≠n ƒë·ªÅu ph·∫£i c√≥ t·ªëc ƒë·ªô nh∆∞ nhau (t·ªëc ƒë·ªô gi·ªØa vi ƒëi·ªÅu khi·ªÉn v√† m√°y t√≠nh ph·∫£i chung 
nhau 1 t·ªëc ƒë·ªô truy·ªÅn bit). 
 
Ngo√†i t·ªëc ƒë·ªô bit c√≤n m·ªôt tham s·ªë ƒë·ªÉ m√¥ t·∫£ t·ªëc ƒë·ªô n·ªØa l√† t·ªëc ƒë·ªô Baud. T·ªëc ƒë·ªô 
Baud li√™n quan ƒë·∫øn t·ªëc ƒë·ªô m√† ph·∫ßn t·ª≠ m√£ h√≥a d·ªØ li·ªáu ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ di·ªÖn t·∫£ bit ƒë∆∞·ª£c 
truy·ªÅn c√≤n t·ªëc ƒë·ªô bit th√¨ ph·∫£n √°nh t·ªëc ƒë·ªô th·ª±c t·∫ø m√† c√°c bit ƒë∆∞·ª£c truy·ªÅn. V√¨ m·ªôt ph·∫ßn t·ª≠ 
b√°o hi·ªáu s·ª± m√£ h√≥a m·ªôt bit n√™n khi ƒë√≥ hai t·ªëc ƒë·ªô bit v√† t·ªëc ƒë·ªô baud ph·∫£i ƒë·ªìng nh·∫•t. 
 
M·ªôt s·ªë t·ªëc ƒë·ªô baud th∆∞·ªùng d√πng: 50, 75, ‚Ä¶1200, 2400,‚Ä¶115200‚Ä¶Trong thi·∫øt 
b·ªã h·ªç th∆∞·ªùng d√πng t·ªëc ƒë·ªô l√† 19200. Khi s·ª≠ d·ª•ng chu·∫©n n·ªëi ti·∫øp RS232 th√¨ y√™u c·∫ßu khi 
s·ª≠ d·ª•ng chu·∫©n l√† th·ªùi gian chuy·ªÉn m·ª©c logic kh√¥ng  v∆∞·ª£t qu√° 4% th·ªùi gian truy·ªÅn 1 bit. 
Do v·∫≠y, n·∫øu t·ªëc ƒë·ªô bit c√†ng cao th√¨ th·ªùi gian truy·ªÅn 1 bit c√†ng nh·ªè v√† th·ªùi gian chuy·ªÉn 
m·ª©c logic c√†ng ph·∫£i nh·ªè. ƒêi·ªÅu n√†y l√†m gi·∫£m t·ªëc ƒë·ªô Baud v√† kho·∫£ng c√°ch truy·ªÅn.  
ÔÄ´ Bit ch·∫µn l·∫ª hay Parity Bit 
 
ƒê√¢y l√† bit ki·ªÉm tra l·ªói tr√™n ƒë∆∞·ªùng truy·ªÅn. Th·ª±c ch·∫•t c·ªßa qu√° tr√¨nh ki·ªÉm tra l·ªói khi 
truy·ªÅn d·ªØ li·ªáu l√† b·ªï xung th√™m d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn ƒë·ªÉ t√¨m ra ho·∫∑c s·ª≠a m·ªôt s·ªë l·ªói trong 
qu√° tr√¨nh truy·ªÅn. Do ƒë√≥ trong chu·∫©n RS232 s·ª≠ s·ª•ng m·ªôt k·ªπ thu·∫≠t ki·ªÉm tra ch·∫µn l·∫ª. 
 
M·ªôt bit ch·∫µn l·∫ª ƒë∆∞·ª£c b·ªï sung v√†o d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn ƒë·ªÉ cho th·∫•y s·ªë l∆∞·ª£ng c√°c 
bit ‚Äú1‚Äù ƒë∆∞·ª£c g·ª≠i trong khung l√† ch·∫µn hay l·∫ª. 
 
M·ªôt Parity bit ch·ªâ c√≥ th·ªÉ t√¨m ta m·ªôt s·ªë l·∫ª c√°c l·ªói ch·∫≥ng h·∫°n nh∆∞ 1, 3, 5, 7, 9,‚Ä¶ 
N·∫øu nh∆∞ m·ªôt bit ch·∫µn b·ªã m·∫Øc l·ªói th√¨ Parity bit s·∫Ω tr√πng gi√° tr·ªã v·ªõi tr∆∞·ªùng h·ª£p kh√¥ng m·∫Øc 
l·ªói v√¨ th·∫ø kh√¥ng ph√°t hi·ªán ra l·ªói. Do ƒë√≥ trong k·ªπ thu·∫≠t h√≥a l·ªói n√†y kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng 
trong tr∆∞·ªùng h·ª£p c√≥ kh·∫£ nƒÉng m·ªôt v√†i bit b·ªã m·∫Øc l·ªói. 
ÔÅ∂ Gi·ªõi thi·ªáu IC Max232  
 
Max232 l√† IC chuy√™n d√πng cho giao ti·∫øp gi·ªØa RS232 v√† thi·∫øt b·ªã ngo·∫°i vi. Max232 
l√† IC c·ªßa h√£ng Maxim. ƒê√¢y l√† IC ch·∫°y ·ªïn ƒë·ªãnh v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn trong c√°c m·∫°ch 
giao ti·∫øp chu·∫©n RS232. Ch√∫ng c√≥ nhi·ªám v·ª• chuy·ªÉn ƒë·ªïi m·ª©c qua l·∫°i gi·ªØa t√≠n hi·ªáu TTL 
v√† RS232.  M·ªói ƒë·∫ßu truy·ªÅn ra v√† c·ªïng nh·∫≠n t√≠n hi·ªáu ƒë·ªÅu ƒë∆∞·ª£c b·∫£o v·ªá ch·ªëng l·∫°i s·ª± ph√≥ng 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             27 
tƒ©nh ƒëi·ªán. Ngo√†i ra Max232 c√≤n ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi ngu·ªìn +5V cung c·∫•p ngu·ªìn c√¥ng su·∫•t 
nh·ªè. 
  
 
 
 
 
 
IC Max232 c√≥ hai b·ªô ƒë·ªám truy·ªÅn v√† hai b·ªô ƒë·ªám nh·∫≠n nh∆∞ m√¥ t·∫£ trong h√¨nh 3.4. 
Nguy√™n l√Ω ho·∫°t ƒë·ªông c·ªßa IC: Max232 l√† IC l√°i ƒëi·ªán √°p, c√≥ nhi·ªám v·ª• t∆∞∆°ng th√≠ch ƒëi·ªán √°p 
TTL c·ªßa vi ƒëi·ªÅu khi·ªÉn. B·ªüi v√¨ chu·∫©n RS232 kh√¥ng t∆∞∆°ng th√≠ch v·ªõi m·ª©c logic TTL, do 
v·∫≠y n√≥ y√™u c·∫ßu m·ªôt b·ªô ƒëi·ªÅu khi·ªÉn ƒë∆∞·ªùng truy·ªÅn ƒë·ªÉ ƒë·ªïi m·ª©c ƒëi·ªán √°p RS232 v·ªÅ c√°c m·ª©c 
TTL v√† ng∆∞·ª£c l·∫°i. IC Max232 s·∫Ω li√™n k·∫øt gi·ªØa vi ƒëi·ªÅu khi·ªÉn v√† c·ªïng Com c·ªßa m√°y t√≠nh, 
t·ª´ ƒë√≥ t·∫°o c·∫ßu n·ªëi cho vi·ªác truy·ªÅn d·ªØ li·ªáu gi·ªØa vi ƒëi·ªÅu khi·ªÉn v√† m√°y t√≠nh, s∆° ƒë·ªì k·∫øt n·ªëi 
ƒë∆∞·ª£c m√¥ t·∫£ nh∆∞ h√¨nh 3.5 b√™n d∆∞·ªõi. 
 
 
 
 
 
 
 
 
 
b. Kh·ªëi ƒëi·ªÅu khi·ªÉn v√† hi·ªÉn th·ªã 
ÔÅ∂ Gi·ªõi thi·ªáu PIC 16F887 
C√≥ r·∫•t nhi·ªÅu lo·∫°i vi ƒëi·ªÅu khi·ªÉn c√≥ th·ªÉ d√πng trong m·∫°ch ƒëi·ªÅu khi·ªÉn nh∆∞: AVR, 
AT89, PIC,‚Ä¶Trong ƒë·ªÅ t√†i s·ª≠ d·ª•ng vi ƒëi·ªÅu khi·ªÉn PIC 16F887 v√¨ d·ªÖ l·∫≠p tr√¨nh v√† ph·ªï bi·∫øn, 
n√≥ ch·ªãu ƒë∆∞·ª£c ƒëi·ªán √°p 5V, v√† d√≤ng t·ªëi ƒëa l√† 300mA [7]. L√†m nhi·ªám v·ª• giao ti·∫øp v·ªõi m√°y 
t√≠nh qua c·ªïng COM DB-9 ƒë·ªÉ l·∫•y d·ªØ li·ªáu t·ª´ kh·ªëi x·ª≠ l√Ω ƒë·ªÉ ƒëi·ªÅm khi·ªÉn ƒë√®n led. 
 
H√¨nh 3.4. IC Max232 [6] 
H√¨nh 3.5. S∆° ƒë·ªì k·∫øt n·ªëi gi·ªØa c·ªïng COM v√†  IC Max232 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             28 
Vi ƒëi·ªÅu khi·ªÉn PIC 16F887: 
PIC 16F887 l√† m·ªôt lo·∫°i vi ƒëi·ªÅu khi·ªÉn c·ªßa h√£ng Microchip ƒë∆∞·ª£c t√≠ch h·ª£p nhi·ªÅu 
ch·ª©c nƒÉng nh∆∞ ADC, ng·∫Øt, counter, PWM,‚Ä¶ƒë·ªìng th·ªùi h·ªó tr·ª£ nhi·ªÅu chu·∫©n giao ti·∫øp 
truy·ªÅn d·ªØ li·ªáu nh∆∞ UART, bus 1 wire, I2C‚Ä¶trong ƒë·ªÅ n√†y s·ª≠ d·ª•ng UART. 
ƒê·∫∑c ƒëi·ªÉm th·ª±c thi t·ªëc ƒë·ªô cao c·ªßa PIC l√†: 
ÔÇß C√≥ 35 l·ªánh ƒë∆°n. 
ÔÇß Th·ªùi gian th·ª±c hi·ªán t·∫•t c·∫£ c√°c l·ªánh l√† 1 chu k√¨ m√°y, ngo·∫°i tr·ª´ l·ªánh r·∫Ω nh√°nh l√† 2. 
ÔÇß T·ªëc ƒë·ªô ho·∫°t ƒë·ªông. 
ÔÇ∑ Ng√µ v√†o xung clock c√≥ t·∫ßn s·ªë 20MHz. 
ÔÇ∑ Chu k√¨ l·ªánh th·ª±c hi·ªán l·ªánh l√† 200ns. 
ÔÇß C√≥ nhi·ªÅu ngu·ªìn ng·∫Øt. 
ÔÇß C√≥ 3 ki·ªÉu ƒë·ªãnh ƒë·ªãa ch·ªâ tr·ª±c ti·∫øp, gi√°n ti·∫øp v√† t·ª©c th·ªùi. 
Vi ƒëi·ªÅu khi·ªÉn PIC16F887 c√≥ 40 ch√¢n trong ƒë√≥ c√≥ 35 I/O ƒë·ªÉ k·∫øt n·ªëi v·ªõi ngo·∫°i vi, 
c√≥ th·ªÉ nh·∫≠n d√≤ng v√† c·∫•p d√≤ng t·ªõi 25mA [7]. ƒêi·ªán √°p ho·∫°t ƒë·ªông t·ª´ 2V ƒë·∫øn 5.5V. B·ªô nh·ªõ 
c·ªßa PIC16F887 c√≥ 3 b·ªô nh·ªõ Flash 8192 words, SRAM 368 bytes, EEPROM 256 bytes.   
ÔÇß  S∆° ƒë·ªì ch√¢n 
 
 
 
 
 
 
ÔÇß Ch·ª©c nƒÉng t·ª´ng ch√¢n 
 
 
35 IO ƒë∆∞·ª£c chia ra l√†m 5 Port: Port A, Port B, Port C, Port D, Port E ƒë·ªÅ t√†i n√†y 
ch·ªâ s·ª≠ d·ª•ng Port A v√† Port C :  
ÔÅ∂ Port A 
 
 
C√≥ 8 pin I/O, ƒë√¢y l√† c√°c ch√¢n hai chi·ªÅu, nghƒ©a l√† c√≥ th·ªÉ xu·∫•t v√† nh·∫≠p ƒë∆∞·ª£c. Ch·ª©c 
nƒÉng I/O n√†y ƒë∆∞·ª£c ƒëi·ªÅu khi·ªÉn b·ªüi thanh ghi TRISA. Mu·ªën x√°c l·∫≠p ch·ª©c nƒÉng c·ªßa m·ªôt 
ch√¢n trong Port A l√† input, ta set bit ƒëi·ªÅu khi·ªÉn t∆∞∆°ng ·ª©ng v·ªõi ch√¢n ƒë√≥ trong thanh ghi 
H√¨nh 3.6. S∆° ƒë·ªì ch√¢n vi ƒëi·ªÅu khi·ªÉn PIC16F887 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             29 
TRISA v√† ng∆∞·ª£c l·∫°i, mu·ªën x√°c l·∫≠p ch·ª©c nƒÉng c·ªßa m·ªôt ch√¢n trong Port A l√† output, ta 
clear  bit ƒëi·ªÅu khi·ªÉn t∆∞∆°ng ·ª©ng v·ªõi ch√¢n ƒë√≥ trong thanh ghi TRISA.  
 
R/W-x        R/W-x       R/W-x      R/W-x       R/W-x       R/W-x      R/W-x      R/W-x       
RA7 
RA6 
   RA5 
     RA4      RA3 
RA2 
RA1 
   RA0 
Bit 7                                                                                                                      bit 0 
 
 
 
R/W-x        R/W-x       R/W-x      R/W-x       R/W-x       R/W-x      R/W-x      R/W-x       
TRISA7 TRISA6 TRISA5 TRISA4 TRISA3 TRISA2 TRISA1 
TRISA0 
Bit 7                                                                                                                       bit 0 
 
ÔÅ∂ Port C 
 
Port C g·ªìm 8 pin I/O (RC0 ‚Äì RC7). Thanh ghi ƒëi·ªÅu khi·ªÉn xu·∫•t nh·∫≠p t∆∞∆°ng ·ª©ng l√† 
TRISC, c√°ch x√°c l·∫≠p v√†o ra t∆∞∆°ng t·ª± nh∆∞ Port A. B√™n c·∫°nh ƒë√≥ Port C c√≤n ch·ª©a c√°c ch√¢n 
ch·ª©c nƒÉng c·ªßa b·ªô so s√°nh, b·ªô timer1, b·ªô PWM v√† c√°c chu·∫©n giao ti·∫øp n·ªëi ti·∫øp I2C,  
SPI, SSP, USART. 
ÔÅ∂ S∆° ƒë·ªì k·∫øt n·ªói gi·ªØa vi ƒëi·ªÅu khi·ªÉn v√† led ƒë∆°n 
  
 
 
 
 
 
 
 
H√¨nh 3.7. Thanh ghi Port A 
H√¨nh 3.8. Thanh ghi Tris A 
H√¨nh 3.9. S∆° ƒë·ªì k·∫øt n·ªëi vi ƒëi·ªÅu khi·ªÉn v·ªõi led ƒë∆°n 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             30 
 
Theo nh∆∞ m√¥ t·∫£ c·ªßa h√¨nh 3.9, l√† 5 led t·ª´ D1 ƒë·∫øn D5 ƒë∆∞·ª£c k·∫øt n·ªëi t∆∞∆°ng ·ª©ng v·ªõi 
RA0 ƒë·∫øn RA4 c·ªßa Port A th√¥ng qua ƒëi·ªán tr·ªü 330 ohm ƒë·ªÉ h·∫°n d√≤ng cho led.  
 
Tra Datasheet PIC 16F887 ta ƒë∆∞·ª£c : 
 
{ùêºùëâƒêùêæ= 330ùëöùê¥, ùëâ
ùëâƒêùêæ= 5ùëâ
ùêºùêøùëíùëë= 10ùëöùê¥, ùëâ
ùêøùëíùëë= 2ùëâ       =>      R = 
ùëâùëâƒêùêæ‚àíùëâùêøùëíùëë
ùêºùêøùëíùëë
=
5‚àí2
10ùë•10‚àí3 = 300 ohm         (2.8) 
 
T·ª´ k·∫øt qu·∫£ t√≠nh to√°n tr√™n : ch·ªçn R = 330 ohm 
c. 
  Kh·ªëi ngu·ªìn 
 
T·ªïng d√≤ng c·∫ßn th·∫øt cho m·∫°ch l√† : 
 
232
max
I
I
I
led
n
vidieukhie
ÔÄ´
ÔÄ´
= 300 + 6x10 + 10 = 370mA < 1A 
 
D·ª±a v√†o m·ª©c d√≤ng ƒëi·ªán v√† ƒëi·ªán √°p s·ª≠ d·ª•ng ·ªü c√°c kh·ªëi tr√™n. Ta ch·ªçn ngu·ªìn v√†o 
cho m·∫°ch l√† 5V/1A, qua c√°c t·ª• l·ªçc C5, C6 ƒë·ªÉ ·ªïn ƒë·ªãnh d√≤ng ƒëi·ªán ra kh√¥ng b·ªã g·ª£n s√≥ng, 
m·∫°ch s·ª≠ d·ª•ng diode D7 d√πng ƒë·ªÉ ch·ªëng m·∫Øc sai c·ª±c. 
 
M·∫°ch s·ª≠ d·ª•ng ngu·ªìn ngo√†i l√† ngu·ªìn ch·ªânh l∆∞u DC 9V, t·∫ßn s·ªë 50Hz, tuy nhi√™n ƒë·ªÉ 
ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng c·ªßa ngu·ªìn, ƒëi·ªán √°p ƒë∆∞·ª£c san ph·∫≥ng, h·∫°n ch·∫ø s·ª± nh·∫•p nh√¥ ta v·∫´n l·∫Øp 
th√™m v√†o m·∫°ch c√°c t·ª• c√≥ ƒëi·ªán dung l·ªõn ƒë·ªÉ l·ªçc ngu·ªìn. 
Ch·ªçn ƒë·ªô g·ª£n s√≥ng sau ch·ªânh l∆∞u: ùêæ
ùëîùë†= 5% = 0,05  
Chu k·ª≥ ch·ªânh l∆∞u: ùëá
ùê∂ùêø=  
1
ùëìùê∂ùêø = 
1
2ùë•50 = 0,01 s 
 
 
 
         (2.9) 
ƒêi·ªán tr·ªü t·∫£i t∆∞∆°ng ƒë∆∞∆°ng: R =
ùëà
ùêº= 
5
1 = 5 ohm 
 
 
 
       (2.10) 
Khi ƒë√≥ ta ƒë∆∞·ª£c: ùê∂ùêø = 
ùëáùê∂ùêø
3ùëÖùêæùëîùë† = 
0,01
3.5.0,05 = 0,013F 
 
        (2.11) 
V√† ƒëi·ªán √°p ƒëi qua t·ª• l√† 9V 
V·∫≠y ta ch·ªçn t·ª• l·ªçc : 1000uF/ 25V 
 
Ngo√†i ra ƒë·ªÉ l·ªçc nhi·ªÖu cao t·∫ßn ta m·∫Øc th√™m t·ª• C7, C8 l√† c√°c t·ª• 100nF. 
ÔÅ∂ IC 7805  
ƒê·ªÉ ·ªïn ƒë·ªãnh ƒëi·ªán √°p ngu·ªìn ·ªü ƒë√¢y d√πng IC7805 nh∆∞ h√¨nh 3.10 ƒë·ªÉ ·ªïn ƒë·ªãnh ƒëi·ªán √°p 5V 
cho m·∫°ch. 
IC 7805 c√≥ 3 ch√¢n : 
ÔÇ∑ Ch√¢n 1 : ch√¢n IN 
  
 
 
ÔÇ∑ Ch√¢n 2 : ch√¢n GND 
ÔÇ∑ Ch√¢n 3 : ch√¢n OUT 
H√¨nh 3.10. IC ·ªïn √°p 7805 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             31 
 
Ng√µ ra OUT lu√¥n ·ªïn ƒë·ªãnh ·ªü ƒëi·ªán √°p 5V d√π ƒëi·ªán √°p t·ª´ ngu·ªìn cung c·∫•p c√≥ thay ƒë·ªïi 
trong gi·ªõi h·∫°n cho ph√©p. IC n√†y th∆∞·ªùng d√πng ƒë·ªÉ b·∫£o v·ªá nh·ªØng m·∫°ch ho·∫°t ƒë·ªông ·ªü m·ª©c 
ƒëi·ªán √°p 5V (c√°c lo·∫°i IC th∆∞·ªùng ho·∫°t ƒë·ªông ·ªü m·ª©c ƒëi·ªán √°p). N·∫øu ngu·ªìn ƒëi·ªán c√≥ s·ª± c·ªë ƒë·ªôt 
ng·ªôt, ƒëi·ªán √°p tƒÉng cao th√¨ m·∫°ch v·∫´n ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh nh·ªù c√≥ IC 7805 v·∫´n gi·ªØ ƒë∆∞·ª£c 
ƒëi·ªán √°p ng√µ ra OUT 5V kh√¥ng ƒë·ªïi [8], s∆° ƒë·ªì k·∫øt n·ªëi ƒë∆∞·ª£c m√¥ t·∫£ nh∆∞ h√¨nh 3.11 b√™n d∆∞·ªõi.
 
 
 
 
 
 
 
 
ÔÅ∂ Thi·∫øt k·∫ø n√∫t Reset 
B√¨nh th∆∞·ªùng n√∫t Reset ·ªü tr·∫°ng th√°i th∆∞·ªùng h·ªü, khi t√°c ƒë·ªông n√∫t Reset c√°c led 
trong m·∫°ch s·∫Ω nh·∫•p nh√°y 2 l·∫ßn, khi ƒë√≥ to√†n b·ªô m·∫°ch ƒëi·ªÅu khi·ªÉn ƒë∆∞·ª£c Reset, s∆° ƒë·ªì k·∫øt 
n·ªëi nh∆∞ h√¨nh 3.12 b√™n d∆∞·ªõi. 
 
 
 
 
 
 
 
T√≠nh to√°n thi·∫øt k·∫ø n√∫t Reset: 
 R7 = 
ùëâùê∂ùê∂‚àíùëâùêøùê∏ùê∑
ùêºùêøùê∏ùê∑
=
5‚àí2
10ùëöùê¥ = 300 => ch·ªçn R7 = 330 ohm  
 
      (2.12) 
Chon R6 = 10k,  ta c√≥ ùëá=  ùëÖùê∂ =>  C=
1
ùëÖùëì= 
1
10ùêæ.2.50 = 1uF   
      (2.13) 
 
 
 
H√¨nh 3.11. S∆° ƒë·ªì nguy√™n l√Ω m·∫°ch ngu·ªìn 
H√¨nh 3.12. S∆° ƒë·ªì n√∫t nh·∫•n Reset giao ti·∫øp    v·ªõi 
PIC16F887 
CH∆Ø∆†NG 3: T√çNH TO√ÅN V√Ä THI·∫æT K·∫æ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             32 
3.3.3. S∆° ƒë·ªì nguy√™n l√Ω c·ªßa to√†n m·∫°ch 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Ho·∫°t ƒë·ªông c·ªßa m·∫°ch: T√≠n hi·ªáu t·ª´ PC ƒëi xu·ªëng, th√¥ng qua c·ªïng COM DB-09, qua 
Max232 ƒë·ªÉ chuy·ªÉn ƒë·ªïi m·ª©c t√≠n hi·ªáu gi·ªØa TTL v√† RS232 sau ƒë√≥ ƒë∆∞a v√†o 2 ch√¢n TX v√† 
RX c·ªßa vi ƒëi·ªÅu khi·ªÉn. Vi ƒëi·ªÅu khi·ªÉn nh·∫≠n t√≠n hi·ªáu ƒëem ƒëi x·ª≠ l√Ω v√† xu·∫•t ra Port A ƒë·ªÉ ƒëi·ªÅu 
khi·ªÉn s√°ng t·∫Øt led. M·∫°ch c√≤n ƒë∆∞·ª£c thi·∫øt k·∫ø n√∫t nh·∫•n Reset d√πng ƒë·ªÉ reset l·∫°i m·∫°ch. 
 
 
H√¨nh 3.13. S∆° ƒë·ªì nguy√™n l√Ω to√†n m·∫°ch ƒëi·ªÅu khi·ªÉn 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             33 
Ch∆∞∆°ng 4. THI C√îNG H·ªÜ TH·ªêNG 
4.1. GI·ªöI THI·ªÜU.  
 
Ph·∫ßn l·ªõn c√¥ng vi·ªác ƒë∆∞·ª£c th·ª±c hi·ªán tr√™n m√°y t√≠nh v·ªõi s·ª± h·ªó tr·ª£ c·ªßa c√°c ph·∫ßn m·ªÅm 
v√† c√¥ng c·ª•. Do ƒë√≥, nh√≥m ch·ªâ thi c√¥ng m·∫°ch giao ti·∫øp, x·ª≠ l√Ω t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn (g·ªçi t·∫Øt 
l√† m·∫°ch ƒëi·ªÅu khi·ªÉn). D√πng LED ƒë∆°n ƒë·ªÉ gi·∫£ l·∫≠p t·∫£i ‚Äì thi·∫øt b·ªã c·∫ßn ƒëi·ªÅu khi·ªÉn. Th√¥ng qua 
vi·ªác b·∫≠t/t·∫Øt ƒë√®n LED c√≥ th·ªÉ quan s√°t ƒë∆∞·ª£c qu√° tr√¨nh ƒëi·ªÅu khi·ªÉn c√°c thi·∫øt b·ªã. M·∫°ch ƒëi·ªÅu 
khi·ªÉn n√†y ƒë∆∞·ª£c l·∫Øp k√≠n v√†o h·ªôp nh·∫±m b·∫£o v·ªá v√† tƒÉng t√≠nh th·∫´m mƒ©. 
4.2. THI C√îNG H·ªÜ TH·ªêNG 
4.2.1.  Thi c√¥ng bo m·∫°ch. 
 
V√¨ m·∫°ch ƒëi·ªán kh√° ƒë∆°n gi·∫£n n√™n nh√≥m quy·∫øt ƒë·ªãnh s·ª≠ d·ª•ng ph·∫ßn m·ªÅm Proteus c·ªßa 
h√£ng Labcenter d√πng ƒë·ªÉ v·∫Ω s∆° ƒë·ªì nguy√™n l√Ω, m√¥ ph·ªèng v√† thi·∫øt k·∫ø m·∫°ch ƒëi·ªán, g√≥i n√†y 
g·ªìm c√≥:  
ÔÇß ISIS d√πng ƒë·ªÉ v·∫Ω s∆° ƒë·ªì nguy√™n l√Ω v√† ch·∫°y m√¥ ph·ªèng m·∫°ch ƒëi·ªán. 
ÔÇß ARES d√πng ƒë·ªÉ thi·∫øt k·∫ø m·∫°ch in. 
B·∫£ng 4.1. Danh s√°ch linh ki·ªán s·ª≠ d·ª•ng trong m·∫°ch ƒëi·ªÅu khi·ªÉn. 
STT 
K√Ω hi·ªáu 
T√™n linh ki·ªán 
S·ªë l∆∞·ª£ng 
Ghi ch√∫ 
1 
U1 
PIC16F887 
1 
Lo·∫°i ch√¢n c·∫Øm 
2 
U2 
MAX232 
1 
Lo·∫°i ch√¢n c·∫Øm 
3 
J2 
COM DB-9 
1 
Lo·∫°i h√†n tr√™n board 
4 
R1, R2, R4,R5,R6,R7 ƒêi·ªán tr·ªü 330 Ohm 
6 
Lo·∫°i ¬º W 
5 
R3 
ƒêi·ªán tr·ªü 10 K 
1 
Lo·∫°i ¬º W 
6 
C5, C6 
T·ª• ƒëi·ªán 1000 uF 25V 
2 
T·ª• h√≥a, ph√¢n c·ª±c 
7 
C7, C8 
T·ª• ƒëi·ªán 100 nF 
4 
T·ª• g·ªëm 
8 
D1, ‚Ä¶, D6 
LED si√™u s√°ng 
6 
Lo·∫°i 5mm, 2V 
9 
BTN1 
N√∫t nh·∫•n 
1 
Lo·∫°i vu√¥ng, 4 ch√¢n 
10 
U3 
IC ·ªïn √°p 7805 
1 
Lo·∫°i ch√¢n c·∫Øm 
11 
D7 
Diode ch·ªânh l∆∞u 1A 
1 
Lo·∫°i ch√¢n c·∫Øm 
 
 
 
 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             34 
ÔÅ∂ S∆° ƒë·ªì m·∫°ch in l·ªõp d∆∞·ªõi: 
 
 
 
 
 
 
 
 
ÔÅ∂ S∆° ƒë·ªì v·ªã tr√≠ linh ki·ªán: 
 
 
 
 
 
 
 
 
4.2.2. L·∫Øp r√°p v√† ki·ªÉm tra 
D·ª±a v√†o b·∫£ng 4.1 v√† v·ªã tr√≠ l·∫Øp r√°p linh ki·ªán trong h√¨nh 4.2 v√† xem k·∫øt h·ª£p 
h√¨nh 4.3, ti·∫øn h√†nh l·∫Øp t·ª´ng linh ki·ªán v√†o bo m·∫°ch sau ƒë√≥ h√†n ch√¨ c·ªë ƒë·ªãnh ch√¢n 
linh ki·ªán. C·ª© nh∆∞ v·∫≠y th·ª±c hi·ªán ƒë·∫øn khi m·∫°ch ƒë∆∞·ª£c g·∫Øn ƒë·∫ßy ƒë·ªß linh ki·ªán nh∆∞ h√¨nh 
H√¨nh 4.1. M·∫°ch in l·ªõp d∆∞·ªõi 
H√¨nh 4.2. S∆° ƒë·ªì b·ªë tr√≠ linh ki·ªán 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             35 
4.3, r·ªìi d√πng VOM ƒë·ªÉ ki·ªÉm tra m·∫°ch sau khi h√†n c√≥ b·ªã h·ªü hay ng·∫Øn m·∫°ch kh√¥ng, 
sau ƒë√≥ s·∫µn s√†ng ch·∫°y th·ª≠ nghi·ªám cho l·∫ßn ƒë·∫ßu ti√™n.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 4.4 l√† ·∫£nh ch·ª•p c·ªßa m·∫°ch ƒëi·ªÅu khi·ªÉn ƒë∆∞·ª£c thi c√¥ng th·ª±c t·∫ø. M·∫°ch sau 
khi ho√†n th√†nh ph·∫£i ƒë·∫£m b·∫£o kh√¥ng c√≥ linh ki·ªán n√†o b·ªã d∆∞ th·ª´a ho·∫∑c l·∫Øp sai, c√°c 
m·ªëi h√†n ph·∫£i k√≠n, kh√¥ng tr√†n sang n∆°i kh√°c. 
H√¨nh 4.3. M√¥ h√¨nh trong kh√¥ng gian 3 chi·ªÅu c·ªßa m·∫°ch ƒëi·ªÅu khi·ªÉn 
H√¨nh 4.4. M·∫°ch thi c√¥ng th·ª±c t·∫ø 
5 LED b√°o 
t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn 
H√†ng r√†o m·ªü r·ªông 
k·∫øt n·ªëi 
Tr·ªü h·∫°n d√≤ng 
cho LED  
H√†ng r√†o th·ª≠ 
t√≠n hi·ªáu Rx, Tx  
IC MAX232 
C·ªïng COM 
LED ch·ªâ th·ªã 
ngu·ªìn 
N√∫t reset 
PIC16F887 
IC 7805 
C·∫∑p t·ª• 100nF 
Gi·∫Øc c·∫Øm ngu·ªìn 
Diode ch·ªânh l∆∞u 
C·∫∑p t·ª• 1000uF 
IC MAX232 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             36 
4.3. ƒê√ìNG G√ìI V√Ä THI C√îNG M√î H√åNH 
4.3.1.  
ƒê√≥ng g√≥i b·ªô ƒëi·ªÅu khi·ªÉn 
 
 
 
 
 
 
 
 
 
M·∫°ch ƒëi·ªÅu khi·ªÉn ƒë∆∞·ª£c ƒë√≥ng g√≥i trong v·ªè h·ªôp ch·∫•t li·ªáu mi-ca ƒë·ªÉ tr√°nh nh·ªØng va 
ƒë·∫≠p t·ª´ b√™n ngo√†i, b·∫£o v·ªá nh·ªØng linh ki·ªán b√™n trong nh∆∞ h√¨nh 4.5. 
4.3.2. K·∫øt n·ªëi c√°c th√†nh ph·∫ßn th√†nh m·ªôt h·ªá th·ªëng ho√†n ch·ªânh 
 
 
 
 
 
 
 
 
 
 
Quy tr√¨nh l·∫Øp r√°p c√°c th√†nh ph·∫ßn ƒë·ªÉ ƒë∆∞·ª£c m·ªôt h·ªá th·ªëng ho√†n ch·ªânh xem trong quy 
tr√¨nh l·∫Øp r√°p ·ªü ph·∫ßn ‚Äúh∆∞·ªõng d·∫´n s·ª≠ d·ª•ng‚Äù. Sau khi l·∫Øp r√°p c√°c b·ªô ph·∫≠n l·∫°i v·ªõi nhau ta 
ƒë∆∞·ª£c m·ªôt h·ªá th·ªëng ho√†n ch·ªânh nh∆∞ h√¨nh 4.6. 
H√¨nh 4.6. H·ªá th·ªëng ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ ch·ªâ 
tay th√¥ng qua x·ª≠ l√Ω ·∫£nh 
Ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng 
M·∫°ch ƒëi·ªÅu khi·ªÉn 
webcam 
H√¨nh 4.5. M·∫°ch ƒëi·ªÅu khi·ªÉn ƒë∆∞·ª£c ƒë√≥ng h·ªôp b·∫£o v·ªá 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             37 
4.4. L·∫¨P TR√åNH H·ªÜ TH·ªêNG 
4.4.1. L∆∞u ƒë·ªì gi·∫£i thu·∫≠t 
ÔÅ∂ L∆∞u ƒë·ªì gi·∫£i thu·∫≠t cho to√†n h·ªá th·ªëng ƒëi·ªÅu khi·ªÉn v√† nh·∫≠n d·∫°ng c·ª≠ ch·ªâ 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Nh∆∞ h√¨nh 4.7 ·ªü tr√™n m√¥ t·∫£ ho·∫°t ƒë·ªông c·ªßa to√†n h·ªá th·ªëng ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ 
ch·ªâ tay, l∆∞u ƒë·ªì g·ªìm ba kh·ªëi ch√≠nh, kh·ªëi thu ·∫£nh, kh·ªëi x·ª≠ l√Ω v√† kh·ªëi xu·∫•t t√≠n hi·ªáu ƒëi·ªÅu 
khi·ªÉn. ·∫¢nh thu v√†o sau ƒë√≥ ƒëem ƒëi x·ª≠ l√Ω, x·ª≠ l√Ω xong ti·∫øn h√†nh xu·∫•t t√≠n hi·ªáu xu·ªëng m·∫°ch 
ƒëi·ªÅu khi·ªÉn. 
Thu ·∫£nh v√†o 
X·ª≠ l√Ω ·∫£nh 
K·∫øt lu·∫≠n ‚Äì 
Xu·∫•t t√≠n hi·ªáu 
ƒëi·ªÅu khi·ªÉn 
 
H√¨nh 4.7. L∆∞u ƒë·ªì cho 
to√†n h·ªá th·ªëng 
 
ƒê·ªçc ·∫£nh 
L·ªçc m√†u da 
X√≥a 
khu√¥n m·∫∑t 
ƒê√∫ng 
Sai 
T√°ch v√πng ch·ª©a b√†n 
tay- Nh·ªã ph√¢n h√≥a  
 
T√¨m tr·ªçng t√¢m 
X√≥a b·ªè 
l√≤ng b√†n tay 
G·∫Øn nh√£n ‚Äì 
ƒë·∫øm v√πng ch·ªçn 
Kh·ª≠ nhi·ªÖu 
 
K·∫øt lu·∫≠n s·ªë ng√≥n tay 
C√≥ 
khu√¥n m·∫∑t 
 
H√¨nh 4.8. L∆∞u ƒë·ªì gi·∫£i thu·∫≠t kh·ªëi x·ª≠ l√Ω ·∫£nh 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             38 
Ho·∫°t ƒë·ªông c·ªßa l∆∞u ƒë·ªì ( h√¨nh 4.8): ƒê·∫ßu ti√™n ƒë·ªçc ·∫£nh c√≥ s·∫µn trong trong th∆∞ vi·ªán c·ªßa 
m√°y t√≠nh ho·∫∑c ·∫£nh thu v√†o t·ª´ webcam, sau ƒë√≥ ƒëem ƒëi nh·∫≠n d·∫°ng khu√¥n m·∫∑t, n·∫øu ph√°t 
hi·ªán c√≥ khu√¥n m·∫∑t th√¨ ti·∫øn h√†nh x√≥a khu√¥n m·∫∑t, kh√¥ng c√≥ khu√¥n m·∫∑t qua b∆∞·ªõc k·∫ø ti·∫øp 
l√† l·ªçc m√†u da b·∫±ng c√°ch s·ª≠ d·ª•ng kh√¥ng gian m√†u YCbCr, sau khi l·ªçc m√†u da ta x√°c ƒë·ªãnh 
v√πng da ch·ª©a c√°nh tay v√† c·∫Øt l·∫•y v√πng ·∫£nh ch·ªâ ch·ª©a b√†n tay, r·ªìi ti·∫øp t·ª•c nh·ªã ph√¢n h√≥a v√† 
kh·ª≠ nhi·ªÖu ·∫£nh v·ª´a thu ƒë∆∞·ª£c b·∫±ng b·ªô l·ªçc trung v·ªã. Sau ƒë√≥ t√¨m tr·ªçng t√¢m c·ªßa b√†n tay v√† 
t√≠nh kho·∫£ng c√°ch t·ª´ tr·ªçng t√¢m ƒë·∫øn bi√™n g·∫ßn nh·∫•t ƒë·ªÉ x√≥a b·ªè l√≤ng b√†n tay, sau ƒë√≥ l·∫•y ·∫£nh 
ch·ªâ ch·ª©a b√†n tay tr·ª´ ƒëi ·∫£nh c√≥ l√≤ng b√†n tay b·ªã x√≥a, l√∫c ƒë√≥ ta thu ƒë∆∞·ª£c ·∫£nh ch·ªâ ch·ª©a nh·ªØng 
ng√≥n tay, cu·ªëi c√πng ti·∫øn h√†nh g·∫Øn nh√£n v√† ƒë·∫øm s·ªë v√πng da, c√≥ bao nhi√™u v√πng da l√† c√≥ 
b·∫•y nhi√™u ng√≥n tay. 
M·∫°ch ƒëi·ªán ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ nh·∫≠n t√≠n hi·ªáu t·ª´ m√°y t√≠nh, x·ª≠ l√Ω, ƒëi·ªÅu khi·ªÉn s√°ng ho·∫∑c 
t·∫Øt LED theo ch·ªâ ƒë·ªãnh. Khi ƒë∆∞·ª£c c·∫•p ngu·ªìn, c·∫£ 5 LED s·∫Ω nh·∫•p nh√°y 2 l·∫ßn sau ƒë√≥ t·∫Øt h·∫≥n 
ƒë·ªÉ ki·ªÉm tra LED v√† b√°o hi·ªáu m·∫°ch s·∫µn s√†ng ho·∫°t ƒë·ªông. Trong ch∆∞∆°ng tr√¨nh ch√≠nh ch·ªâ 
cho s√°ng ho·∫∑c t·∫Øt LED theo m√£ l·ªánh g·ª≠i xu·ªëng t·ª´ m√°y t√≠nh, ch·ªâ nh·∫≠n d·ªØ li·ªáu khi n√†o c√≥ 
ng·∫Øt truy·ªÅn t√≠n hi·ªáu t√°c ƒë·ªông. L∆∞u ƒë·ªì gi·∫£i th·∫≠t ƒë∆∞·ª£c m√¥ t·∫£ trong h√¨nh 4.9 v√† 4.10. 
ÔÅ∂ L∆∞u ƒë·ªì gi·∫£i thu·∫≠t m·∫°ch ƒëi·ªÅu khi·ªÉn: 
 
 
 
 
 
 
 
 
 
Ch∆∞∆°ng tr√¨nh ch√≠nh ch·ªâ vi·ªác ki·ªÉm tra xem bi·∫øn k c√≥ thay ƒë·ªïi hay kh√¥ng, d·ª±a v√†o 
gi√° tr·ªã m√† k ƒëang c√≥ ƒë·ªÉ s√°ng ho·∫∑c t·∫Øt LED ngo√†i ra kh√¥ng l√†m g√¨ th√™m. Ch∆∞∆°ng tr√¨nh 
ng·∫Øt nh·∫≠n d·ªØ li·ªáu ch·ªâ ƒë∆∞·ª£c g·ªçi khi c√≥ ng·∫Øt truy·ªÅn th√¥ng t√°c ƒë·ªông. L√∫c n√†y ch∆∞∆°ng tr√¨nh 
B·∫Øt ƒë·∫ßu 
C·∫•u h√¨nh cho PIC 
Nh·∫•p nh√°y LED 2 l·∫ßn 
Ki·ªÉm tra bi·∫øn nh·ªõ k, 
s√°ng ho·∫∑c t·∫Øt LED 
d·ª±a v√†o bi·∫øn k 
H√¨nh 4.9. L∆∞u ƒë·ªì ch∆∞∆°ng tr√¨nh 
ch√≠nh m·∫°ch ƒëi·ªÅu khi·ªÉn 
Ng·∫Øt truy·ªÅn d·ªØ li·ªáu 
Nh·∫≠n d·ªØ li·ªáu, 
ghi v√†o bi·∫øn nh·ªõ k 
X√≥a b·ªô nh·ªõ ƒë·ªám 
nh·∫≠n d·ªØ li·ªáu 
Tho√°t kh·ªèi ng·∫Øt 
H√¨nh 4.10. L∆∞u ƒë·ªì ng·∫Øt 
truy·ªÅn th√¥ng nh·∫≠n d·ªØ li·ªáu 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             39 
s·∫Ω t·∫°m d·ª´ng ƒëo·∫°n l·ªánh ƒëang x·ª≠ l√Ω r·ªìi nh·∫£y v√†o ng·∫Øt, nh·∫≠n k√Ω t·ª± truy·ªÅn xu·ªëng t·ª´ m√°y 
t√≠nh, ghi v√†o bi·∫øn k sau ƒë√≥ x√≥a b·ªô ƒë·ªám nh·∫≠n d·ªØ li·ªáu v√† tho√°t kh·ªèi ng·∫Øt, ti·∫øp t·ª•c ch·∫°y 
ch∆∞∆°ng tr√¨nh t·∫°i v·ªã tr√≠ t·∫°m d·ª´ng l√∫c tr∆∞·ªõc. 
4.4.2. Ph·∫ßn m·ªÅm l·∫≠p tr√¨nh cho m√°y t√≠nh 
Matlab l√† m·ªôt ph·∫ßn m·ªÅm l·ªõn trong lƒ©nh v·ª±c to√°n s·ªë, vi·∫øt t·∫Øt t·ª´ MATrix 
LABoration, ƒë∆∞·ª£c thi·∫øt k·∫ø b·ªüi c√¥ng ty MathWorks. Matlab th·ª±c hi·ªán tr√™n c∆° s·ªü ch√≠nh 
l√† ph√©p t√≠nh vector v√† ma tr·∫≠n: cho ph√©p t√≠nh to√°n s·ªë v·ªõi ma tr·∫≠n, v·∫Ω ƒë·ªì th·ªã h√†m s·ªë hay 
bi·ªÉu ƒë·ªì th√¥ng tin, th·ª±c hi·ªán thu·∫≠t to√°n, t·∫°o c√°c giao di·ªán ng∆∞·ªùi d√πng v√† li√™n k·∫øt v·ªõi 
nh·ªØng ch∆∞∆°ng tr√¨nh m√°y t√≠nh vi·∫øt tr√™n nhi·ªÅu ng√¥n ng·ªØ l·∫≠p tr√¨nh kh√°c. 
 
 
 
 
Vi·ªác t·∫£i v·ªÅ, c√†i ƒë·∫∑t v√† m·ªü kh√≥a s·∫£n ph·∫©m c≈©ng t∆∞∆°ng t·ª± nh∆∞ CCS, ng∆∞·ªùi d√πng 
c·∫ßn v√†o trang ch·ªß c·ªßa h√£ng t·∫°i ƒë·ªãa ch·ªâ https://mathworks.com t√¨m mua phi√™n b·∫£n ph√π 
h·ª£p ho·∫∑c s·ª≠ d·ª•ng phi√™n b·∫£n mi·ªÖn ph√≠ d√†nh ri√™ng cho sinh vi√™n, nghi√™n c·ª©u sinh b·∫±ng 
c√°ch t·∫°o m·ªôt t√†i kho·∫£n v√† ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin theo y√™u c·∫ßu c·ªßa Matwork. C√°c 
b∆∞·ªõc ti·∫øp theo l√†m t∆∞∆°ng t·ª± nh∆∞ ph·∫ßn c√†i ƒë·∫∑t CCS. 
ÔÅ∂ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng ph·∫ßn m·ªÅm Matlab phi√™n b·∫£n 2013.a. Giao di√™n l√†m vi·ªác 
c·ªßa Matlab nh∆∞ h√¨nh 4.12.  
 
 
 
 
 
 
 
H√¨nh 4.11. Bi·ªÉu t∆∞·ª£ng Matlab tr√™n m√†n h√¨nh l√†m vi·ªác 
H√¨nh 4.12. C·ª≠a s·ªï l√†m vi·ªác c·ªßa Matlab 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             40 
 
 
 
 
 
 
 
 
 
 
H√¨nh 4.13: C·ª≠a s·ªï l√†m vi·ªác c·ªßa Matlab, trong ph·∫°m vi l√†m vi·ªác n√†y ch·ª©a c√°c v√πng 
ƒë∆∞·ª£c quy ƒë·ªãnh nh∆∞ sau: 
ÔÄ≠ V√πng ch·ª©a c√°c tab, thanh c√¥ng c·ª•, c√°c ph√≠m t·∫Øt tr√¨nh ƒëi·ªÅu khi·ªÉn m·∫∑c ƒë·ªãnh c·ªßa 
ph·∫ßn m·ªÅm. 
ÔÄ≠ C·ª≠a s·ªï l·ªánh console: nh·∫≠p c√°c m√£ l·ªánh c·ªßa ch∆∞∆°ng tr√¨nh. C√°c l·ªánh n√†y ƒë∆∞·ª£c x√¢y 
d·ª±ng s·∫µn nh·∫±m gi·∫£i quy·∫øt m·ªôt nhi·ªám v·ª• nh·∫•t ƒë·ªãnh. 
ÔÄ≠ V√πng th∆∞ m·ª•c hi·ªán h√†nh: cho bi·∫øt ng∆∞·ªùi d√πng ƒëang l√†m vi·ªác v·ªõi t·∫≠p tin/th∆∞ m·ª•c 
ƒë∆∞·ª£c l∆∞u tr·ªØ ·ªü ƒë√¢u trong ·ªï ƒëƒ©a. 
ÔÄ≠ V√πng Workspace: N∆°i hi·ªÉn th·ªã vi·ªác kh·ªüi t·∫°o, l∆∞u gi·ªØ c√°c bi·∫øn, v√πng nh·ªõ khi ch·∫°y 
ch∆∞∆°ng tr√¨nh. 
ÔÄ≠ V√πng Command History: Ghi l·∫°i l·ªãch s·ª≠ c√°c thao t√°c ƒë√£ th·ª±c thi k·ªÉ t·ª´ l√∫c kh·ªüi 
ch·∫°y ph·∫ßn m·ªÅm. 
H√¨nh 4.13: C·ª≠a s·ªï so·∫°n th·∫£o v√† ch·∫°y code. Matlab cung c·∫•p m√¥i tr∆∞·ªùng so·∫°n th·∫£o 
r·∫•t chuy√™n nghi·ªáp, c√°c c√¥ng c·ª• h·ªó tr·ª£ so·∫°n th·∫£o kh√° ƒë·∫ßy ƒë·ªß. T·∫°i ƒë√¢y, sau khi vi·∫øt code 
ho√†n t·∫•t, c√≥ th·ªÉ k√≠ch chu·ªôt v√†o bi·ªÉu t∆∞·ª£ng ‚ÄúRun‚Äù (ph√≠m t·∫Øt F5) ƒë·ªÉ th·ª±c thi code. Khi 
ch·∫°y code, c√°c qu√° tr√¨nh, th√¥ng b√°o, k·∫øt qu·∫£ s·∫Ω ƒë∆∞·ª£c ghi l√™n c·ª≠a s·ªï l·ªánh console. N·∫øu 
ch∆∞∆°ng tr√¨nh ch·∫°y ƒë√∫ng s·∫Ω kh√¥ng c√≥ l·ªói n√†o ƒë∆∞·ª£c hi·ªÉn th·ªã, n·∫øu v√¨ m·ªôt l√Ω do n√†o ƒë√≥ v√≠ 
H√¨nh 4.13. C·ª≠a s·ªï so·∫°n th·∫£o code 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             41 
d·ª• ch∆∞∆°ng tr√¨nh vi·∫øt sai ho·∫∑c c√≥ l·ªói ph√°t sinh khi ch·∫°y code, s·∫Ω c√≥ th√¥ng b√°o l·ªói m√†u ƒë·ªè 
hi·ªán ra k√®m theo g·ª£i √Ω kh·∫Øc ph·ª•c (n·∫øu c√≥). 
 
 
 
 
 
 
 
H√¨nh 4.14 m√¥ t·∫£ m·ªôt th√¥ng b√°o l·ªói xu·∫•t hi·ªán ngay khi ch·∫°y m·ªôt ch∆∞∆°ng tr√¨nh c√≥ 
l·ªói b√™n trong n√≥. K√®m theo th√¥ng b√°o l·ªói l√† g·ª£i √Ω kh·∫Øc ph·ª•c v·ªÅ m·∫∑t c√∫ ph√°p. Trong 
tr∆∞·ªùng h·ª£p n√†y, ch∆∞∆°ng tr√¨nh ‚Äúhanddetection_ok‚Äù b·ªã l·ªói ·ªü ƒë√¢u ƒë√≥ g·∫ßn d√≤ng th·ª© 35 trong 
code ƒë∆∞·ª£c ƒë√°nh d·∫•u. 
4.5. L·∫¨P TR√åNH M√î PH·ªéNG 
4.5.1. M√¥ ph·ªèng h·ªá th·ªëng tr√™n m√°y t√≠nh 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 4.14. Xu·∫•t hi·ªán th√¥ng b√°o l·ªói khi code b·ªã sai 
H√¨nh 4.15. Kh·ªüi ch·∫°y, li√™n k·∫øt c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             42 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Vi·ªác m√¥ ph·ªèng ho·∫°t ƒë·ªông c·ªßa h·ªá th·ªëng tr√™n m√°y t√≠nh kh√° d·ªÖ d√†ng, ch·ªâ vi·ªác li√™n 
k·∫øt c√°c ph·∫ßn m·ªÅm l·∫°i v·ªõi nhau sao cho ch√∫ng c√≥ th·ªÉ ‚Äúth·∫•y‚Äù nhau l√† ƒë∆∞·ª£c, vi·ªác c·∫•p ngu·ªìn 
cho m·∫°ch s·∫Ω do ph·∫ßn m·ªÅm ƒë·∫£m nhi·ªám. H√¨nh 4.15 ƒë·∫øn 4.17 cho th·∫•y vi·ªác ch·∫°y m√¥ ph·ªèng 
h·ªá th·ªëng tr√™n m√°y t√≠nh.  
Nh√¨n v√†o h√¨nh 4.17, c√≥ th·ªÉ th·∫•y giao di·ªán ng∆∞·ªùi d√πng ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ nh·∫≠n ·∫£nh 
v√† x·ª≠ l√Ω, xu·∫•t t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn qua m·∫°ch ƒëi·ªán trong ph·∫ßn m·ªÅm Proteus b·∫≠t ho·∫∑c t·∫Øt 
LED. M·ªôt c·ª≠a s·ªï t√™n Virtual Terminal ƒë∆∞·ª£c th√™m v√†o ƒë·ªÉ ng∆∞·ªùi d√πng bi·∫øt l·ªãch s·ª≠ t√≠n 
hi·ªáu ƒë√£ truy·ªÅn xu·ªëng trong qu√° tr√¨nh l√†m vi·ªác. 
 
H√¨nh 4.16. Ch·∫°y m√¥ ph·ªèng h·ªá th·ªëng v·ªõi ·∫£nh ch·ª©a 1 ng√≥n tay 
H√¨nh 4.17. Ch·∫°y m√¥ ph·ªèng h·ªá th·ªëng v·ªõi ·∫£nh ch·ª©a 4 ng√≥n tay 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             43 
4.5.2. K·∫øt qu·∫£ ch·∫°y th·ª±c t·∫ø 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
To√†n b·ªô h·ªá th·ªëng l√†m vi·ªác ·ªïn ƒë·ªãnh, t·ªëc ƒë·ªô ƒë√°p ·ª©ng kh√° nhanh. Trong h√¨nh 4.18 
l√† m·ªôt v√≠ d·ª• khi ch∆∞∆°ng tr√¨nh x·ª≠ l√Ω v·ªõi ·∫£nh c√≥ s·∫µn trong m√°y t√≠nh. H√¨nh 4.19 l√† ·∫£nh ch·ª•p 
khi h·ªá th·ªëng ƒëang l√†m vi·ªác v·ªõi ·∫£nh thu t·ª≠ webcam. 
4.6. VI·∫æT T√ÄI LI·ªÜU H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG, THAO T√ÅC 
4.6.1. H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng 
ƒê·ªÉ tr√°nh nh·ªØng l·ªói sai khi s·ª≠ d·ª•ng ch∆∞∆°ng tr√¨nh v√† ƒë·∫£m b·∫£o an to√†n cho ng∆∞·ªùi ho·∫∑c 
thi·∫øt b·ªã khi v·∫≠n h√†nh h·ªá th·ªëng, y√™u c·∫ßu ƒë·ªçc k·ªπ h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng sau. 
H√¨nh 4.18. Ch·∫°y th·ª±c t·∫ø v·ªõi ·∫£nh tƒ©nh 
H√¨nh 4.19. Ch·∫°y th·ª±c t·∫ø v·ªõi ·∫£nh thu t·ª´ webcam 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             44 
1. C·∫•p ngu·ªìn cho h·ªá th·ªëng l√†m vi·ªác:  
H·ªá th·ªëng g·ªìm c√≥ 3 th√†nh ph·∫ßn ch√≠nh: webcam, m√°y t√≠nh, bo m·∫°ch ƒëi·ªÅu khi·ªÉn m·ªói 
th√†nh ph·∫ßn ho·∫°t ƒë·ªông ·ªü m·ªói c·∫•p ƒëi·ªán √°p v√† ƒëi·ªÅu ki·ªán l√†m vi·ªác kh√°c nhau. C·∫ßn cung c·∫•p 
ngu·ªìn ƒëi·ªán ƒë√∫ng theo c·∫•p ƒëi·ªán √°p y√™u c·∫ßu c·ªßa t·ª´ng b·ªô ph·∫≠n: 
ÔÇ∑ Webcam: Ngu·ªìn 5V ‚Äì 500mA. C√≥ th·ªÉ d√πng ngu·ªìn t·ª´ c·ªïng USB c·ªßa m√°y 
t√≠nh ƒë·ªÉ s·ª≠ d·ª•ng.  
ÔÇ∑ M·∫°ch ƒëi·ªÅu khi·ªÉn: Ngu·ªìn 9V ‚Äì 1A. 
2. K·∫øt n·ªëi c√°c th√†nh ph·∫ßn l·∫°i v·ªõi nhau: 
 Vi·ªác k·∫øt n·ªëi c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng n√™n theo tr√¨nh t·ª± nh∆∞ sau: k·∫øt n·ªëi m·∫°ch 
ƒëi·ªÅu khi·ªÉn v·ªõi c·ªïng COM tr√™n m√°y t√≠nh. Tr∆∞·ªùng h·ª£p m√°y t√≠nh kh√¥ng c√≥ s·∫µn c·ªïng COM-
DB9 th√¨ c√≥ th·ªÉ d√πng c√°p chuy·ªÉn ƒë·ªïi ‚ÄúUSB to RS232‚Äù ƒë·ªÉ c√≥ c·ªïng COM-DB9 [9]. Sau 
ƒë√≥ k·∫øt n·ªëi webcam v·ªõi m√°y t√≠nh qua c·ªïng USB. Xem h√¨nh 4.20 v√† 4.21 ƒë·ªÉ bi·∫øt c√°ch k·∫øt 
n·ªëi gi·ªØa c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng. 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 4.20. K·∫øt n·ªëi webcam v·ªõi m√°y t√≠nh qua c·ªïng USB 
H√¨nh 4.21. K·∫øt n·ªëi m·∫°ch ƒëi·ªÅu khi·ªÅn v·ªõi m√°y t√≠nh 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             45 
3. Kh·ªüi ƒë·ªông ch∆∞∆°ng tr√¨nh x·ª≠ l√Ω: 
Ch∆∞∆°ng tr√¨nh ch∆∞a ƒë∆∞·ª£c ƒë√≥ng g√≥i ƒë·ªÉ tr·ªü th√†nh m·ªôt ph·∫ßn m·ªÅm c√≥ th·ªÉ ch·∫°y ƒë·ªôc l·∫≠p 
m√† ph·∫£i d·ª±a v√†o ph·∫ßn m·ªÅm Matlab ƒë·ªÉ c√≥ m√¥i tr∆∞·ªùng l√†m vi·ªác. Trong Matlab, t√¨m ƒë·∫øn 
th∆∞ m·ª•c ch·ª©a ch∆∞∆°ng tr√¨nh x·ª≠ l√Ω ‚ÄúGUI‚Äù k√©o th·∫£ ch∆∞∆°ng tr√¨nh n√†y v√†o v√πng l·ªánh 
‚Äúconsole‚Äù ho·∫∑c chu·ªôt ph·∫£i ch·ªçn ‚ÄúRun‚Äù ho·∫∑c nh·∫•n ph√≠m t·∫Øt ‚ÄúF9‚Äù ƒë·ªÉ ch·∫°y ch∆∞∆°ng tr√¨nh. 
4. C√°c ph√≠m ch·ª©c nƒÉng tr√™n giao di·ªán:  
Tr√™n giao di·ªán ng∆∞·ªùi d√πng c√≥ c√°c n√∫t b·∫•m m·ªói n√∫t b·∫•m mang m·ªôt ch·ª©c nƒÉng nh·∫•t 
ƒë·ªãnh ƒë∆∞·ª£c quy ƒë·ªãnh trong b·∫£ng 4.2. 
B·∫£ng 4.2 M√¥ t·∫£ c√°c ph√≠m ch·ª©c nƒÉng trong giao di·ªán ƒëi·ªÅu khi·ªÉn. 
STT 
T√™n n√∫t b·∫•m 
Ch·ª©c nƒÉng 
1 
Disk 
M·ªü c·ª≠a s·ªï ch·ªçn ·∫£nh ƒë·∫ßu v√†o cho qu√° tr√¨nh x·ª≠ l√Ω. 
2 
Video 
Ch·∫°y ch∆∞∆°ng tr√¨nh v·ªõi webcam k·∫øt n·ªëi trong h·ªá 
th·ªëng. 
3 
Stop video 
D·ª´ng ch·∫ø ƒë·ªô ch·∫°y t·ª± ƒë·ªông. 
4 
Process 
Ch·∫°y ch∆∞∆°ng tr√¨nh. 
5 
Show 
Hi·ªán qu√° tr√¨nh x·ª≠ l√Ω d∆∞·ªõi d·∫°ng c√°c ·∫£nh k·∫øt qu·∫£ 
c·ªßa t·ª´ng giai ƒëo·∫°n. 
6 
Restart 
Kh·ªüi ƒë·ªông l·∫°i to√†n b·ªô ch∆∞∆°ng tr√¨nh. 
7 
About 
Hi·ªán th√¥ng tin t√°c gi·∫£ v√† ch∆∞∆°ng tr√¨nh. 
8 
Exit 
Tho√°t v√† ƒë√≥ng ch∆∞∆°ng tr√¨nh. 
 
5. L·ª±a ch·ªçn ch·∫ø ƒë·ªô l√†m vi·ªác: C√≥ 2 ch·∫ø ƒë·ªô l√†m vi·ªác c·ªßa h·ªá th·ªëng:  
ÔÅ∂ X·ª≠ l√Ω v·ªõi ·∫£nh c√≥ s·∫µn: Ng∆∞·ªùi d√πng ch·ªçn t·ª´ng ·∫£nh c√≥ s·∫µn trong c∆° s·ªü d·ªØ li·ªáu trong 
m√°y t√≠nh ƒë·ªÉ ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng. Theo c√°ch n√†y, ng∆∞·ªùi d√πng c·∫ßn th·ª±c hi·ªán l·∫ßn l∆∞·ª£t 
c√°c thao t√°c sau: 
B∆∞·ªõc 1: T·ª´ giao di·ªán ch√≠nh c·ªßa ph·∫ßn m·ªÅm, b·∫•m ch·ªçn v√†o n√∫t b·∫•m ‚ÄúDisk‚Äù, 
ch∆∞∆°ng tr√¨nh s·∫Ω m·ªü ra m·ªôt c·ª≠a s·ªï m·ªõi cho ph√©p truy c·∫≠p ƒë·∫øn c√°c t·∫≠p tin, th∆∞ m·ª•c c√≥ s·∫µn 
trong m√°y t√≠nh.  
 
 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             46 
 
 
 
 
 
 
Ng∆∞·ªùi d√πng s·∫Ω ƒëi·ªÅu h∆∞·ªõng ƒë·∫øn ·∫£nh c·∫ßn x·ª≠ l√Ω, ch·ªçn m·ªü ·∫£nh (h√¨nh 4.22). Ch∆∞∆°ng 
tr√¨nh s·∫Ω ƒë·ªçc ·∫£nh v√†o v√† hi·ªÉn th·ªã l√™n v√πng ·∫£nh ƒëang ch·ªù x·ª≠ l√Ω ‚ÄúOriginal Image‚Äù nh∆∞ h√¨nh 
4.23. 
 
 
 
 
 
 
B∆∞·ªõc 2: B·∫•m ch·ªçn v√†o n√∫t ‚ÄúProcess‚Äù ƒë·ªÉ ch∆∞∆°ng tr√¨nh t·ª± ƒë·ªông nh·∫≠n d·∫°ng ·∫£nh ƒë√£ 
ch·ªçn. Sau khi x·ª≠ l√Ω xong, ch∆∞∆°ng tr√¨nh s·∫Ω hi·ªÉn th·ªã m·ªôt ·∫£nh ƒëen tr·∫Øng ch·ª©a c√°c v√πng 
ng√≥n tay ·ªü v√πng ‚ÄúResult Image‚Äù (h√¨nh 4.24) v√† b·∫≠t s√°ng m·ªôt ƒë√®n LED ·ªü m·ªôt ng√µ ra 
t∆∞∆°ng ·ª©ng v·ªõi s·ªë ng√≥n tay, ƒë·ªìng th·ªùi c≈©ng g·ª≠i m·ªôt t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn ra c·ªïng giao ti·∫øp 
COM-DB9. M·∫°ch giao ti·∫øp - ƒëi·ªÅu khi·ªÉn b√™n ngo√†i s·∫Ω nh·∫≠n t√≠n hi·ªáu n√†y v√† b·∫≠t s√°ng LED 
ƒë√∫ng theo th·ª© t·ª± tr√™n ng√µ ra ‚ÄúOUTPUT‚Äù c·ªßa ph·∫ßn m·ªÅm. 
 
 
 
 
 
 
 
H√¨nh 4.22. C·ª≠a s·ªï ch·ªçn ·∫£nh c·∫ßn x·ª≠ l√Ω 
H√¨nh 4.23. ·∫¢nh ƒëang ch·ªù ƒë·ªÉ x·ª≠ l√Ω 
H√¨nh 4.24. K·∫øt qu·∫£ x·ª≠ l√Ω ·∫£nh ƒë√£ ch·ªçn 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             47 
B∆∞·ªõc 3: B∆∞·ªõc n√†y mang t√≠nh t√πy ch·ªçn. N·∫øu mu·ªën bi·∫øt qu√° tr√¨nh ·∫£nh ƒë∆∞·ª£c x·ª≠ l√Ω qua 
c√°c c√¥ng ƒëo·∫°n trong ch∆∞∆°ng tr√¨nh, ng∆∞·ªùi d√πng c√≥ th·ªÉ ch·ªçn v√†o n√∫t ‚ÄúShow‚Äù ƒë·ªÉ xem th√™m 
2 b∆∞·ªõc trung gian trong qu√° tr√¨nh nh·∫≠n d·∫°ng. 
B∆∞·ªõc 4: L·∫∑p l·∫°i thao t√°c t·ª´ b∆∞·ªõc 1 trong ch·ªâ d·∫´n n√†y ƒë·ªÉ l√†m vi·ªác v·ªõi m·ªôt ·∫£nh kh√°c 
c√≥ s·∫µn trong m√°y. 
ÔÅ∂ X·ª≠ l√Ω v·ªõi ·∫£nh thu tr·ª±c ti·∫øp t·ª´ webcam: Ch∆∞∆°ng tr√¨nh s·∫Ω t·ª± ƒë·ªông thu c·ª≠ ch·ªâ tay 
c·ªßa ng∆∞·ªùi d√πng th√¥ng qua webcam. K·∫øt qu·∫£ x·ª≠ l√Ω ƒë∆∞·ª£c t·ª± ƒë·ªông c·∫≠p nh·∫≠t li√™n t·ª•c theo 
th·ªùi gian. C√°c thao t√°c khi l√†m vi·ªác ·ªü ch·∫ø ƒë·ªô n√†y: 
B∆∞·ªõc 1: B·∫•m ch·ªçn n√∫t ‚ÄúVideo‚Äù tr√™n giao di·ªán, ƒë·ª£i ch∆∞∆°ng tr√¨nh c·∫•u h√¨nh m·ªôt ch√∫t, 
khi c√≥ ·∫£nh xu·∫•t hi·ªán ·ªü khung ‚ÄúOriginal image‚Äù th√¨ ch∆∞∆°ng tr√¨nh ƒë√£ s·∫µn s√†ng thu ·∫£nh t·ª´ 
webcam.  
B∆∞·ªõc 2: ƒê∆∞a tay ra tr∆∞·ªõc webcam v√† thay ƒë·ªïi c·ª≠ ch·ªâ tay ƒë·ªÉ ch∆∞∆°ng tr√¨nh nh·∫≠n 
bi·∫øt. C√°c y·∫øu t·ªë v·ªÅ kho·∫£ng c√°ch, ƒë·ªô s√°ng n∆°i l√†m vi·ªác c·∫ßn ƒë∆∞·ª£c ƒë·∫£m b·∫£o theo y√™u c·∫ßu 
k√®m theo. Xem h√¨nh 4.41. 
 
 
 
 
 
 
B∆∞·ªõc 3: B·∫•m ch·ªçn v√†o n√∫t ‚ÄúStop video‚Äù ho·∫∑c ph√≠m t·∫Øt l√† ‚Äúq‚Äù tr√™n b√†n ph√≠m ƒë·ªÉ tho√°t 
ch∆∞∆°ng tr√¨nh thu ·∫£nh t·ª´ webcam. 
B∆∞·ªõc 4: L·∫∑p l·∫°i t·ª´ b∆∞·ªõc 1 trong ch·ªâ d·∫´n n√†y ƒë·ªÉ b·∫Øt ƒë·∫ßu m·ªôt qu√° tr√¨nh m·ªõi. 
Ch√∫ √Ω: Ph·∫£i t·∫Øt ch·ª©c nƒÉng webcam tr∆∞·ªõc r·ªìi m·ªõi th·ª±c hi·ªán c√°c t√≠nh nƒÉng kh√°c, n·∫øu 
kh√¥ng ch∆∞∆°ng tr√¨nh s·∫Ω b·ªã l·ªói, ph·∫£i kh·ªüi ƒë·ªông l·∫°i ch∆∞∆°ng tr√¨nh m·ªõi c√≥ th·ªÉ ti·∫øp t·ª•c. 
 
H√¨nh 4.25. Thu ·∫£nh t·ª´ webcam 
v√† x·ª≠ l√Ω 
Ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng 
LED ch·ªâ th·ªã tr√™n m·∫°ch ƒëi·ªÅu khi·ªÉn 
Webcam 
Tay ng∆∞·ªùi 
d√πng 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             48 
6. D·ª´ng ho·∫∑c tho√°t ch∆∞∆°ng tr√¨nh: 
Khi ƒëang ch·∫°y ch∆∞∆°ng tr√¨nh ·ªü ch·∫ø ƒë·ªô thu ·∫£nh t·ª´ webcam, b·∫•m ch·ªçn ‚ÄúStop video‚Äù 
ƒë·ªÉ d·ª´ng ch∆∞∆°ng tr√¨nh. B·∫•m v√†o ‚ÄúExit‚Äù ƒë·ªÉ tho√°t ch∆∞∆°ng tr√¨nh ho√†n to√†n. 
7. C√°c quy t·∫Øc an to√†n kh√°c: 
 Khi h·ªá th·ªëng ƒë√£ ƒë∆∞·ª£c c·∫•p ƒëi·ªán, kh√¥ng t·ª± √Ω ch·∫°m v√†o nh·ªØng v√πng kim lo·∫°i nghi 
ng·ªù c√≥ ƒëi·ªán ƒë·ªÉ tr√°nh tai n·∫°n ƒëi·ªán gi·∫≠t. Kh√¥ng ƒë·ªÉ m·∫°ch l√†m vi·ªác trong m√¥i tr∆∞·ªùng ·∫©m 
∆∞·ªõt ho·∫∑c nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng v∆∞·ª£t qu√° 60 ƒë·ªô C. 
8. B·∫£ng tra c·ª©u l·ªói:  
Cung c·∫•p ngho ng∆∞·ªùi d√πng m·ªôt s·ªë l·ªói k·ªπ thu·∫≠t c√≥ th·ªÉ x·∫£y ra v·ªõi h·ªá th·ªëng v√† c√°ch 
chu·∫©n ƒëo√°n kh·∫Øc ph·ª•c. 
B·∫£ng 4.3 B·∫£ng  tra c·ª©u l·ªói nhanh c·ªßa h·ªá th·ªëng 
STT 
M√¥ t·∫£ l·ªói  
Nguy√™n nh√¢n 
Kh·∫Øc ph·ª•c 
1 
ƒê√®n b√°o ngu·ªìn 
m·∫°ch ƒëi·ªÅu khi·ªÉn 
kh√¥ng s√°ng. 
- Ngu·ªìn cung c·∫•p b·ªã h·ªèng, 
m·∫•t √°p, √°p ngu·ªìn d∆∞·ªõi 5V. 
- Kh√¥ng c√≥ ngu·ªìn. 
- Xem l·∫°i d√¢y d·∫´n 
- Thay ngu·ªìn m·ªõi 
2 
5 LED ch·ªâ th·ªã kh√¥ng 
nh·∫•p nh√°y khi kh·ªüi 
ƒë·ªông. 
(LED ch·ªâ th·ªã ngu·ªìn 
b√°o s√°ng) 
- Vi ƒëi·ªÅu khi·ªÉn ch∆∞a n·∫°p 
ch∆∞∆°ng tr√¨nh, b·ªã treo reset; 
- Ch·∫øt VƒêK. 
- N·∫°p l·∫°i ch∆∞∆°ng 
tr√¨nh, ki·ªÉm tra m·∫°ch 
reset. 
- Thay VƒêK 
3 
Kh√¥ng giao ti·∫øp 
ƒë∆∞·ª£c v·ªõi m√°y t√≠nh. 
- L·ªèng c√°p n·ªëi ho·∫∑c c√°p b·ªã 
ƒë·ª©t. 
- C·ªë ƒë·ªãnh ƒë·∫ßu c·∫Øm 
c√°p. 
- Thay c√°p m·ªõi. 
4 
M√°y t√≠nh kh√¥ng 
ch·ª•p ƒë∆∞·ª£c ·∫£nh t·ª´ 
webcam. 
- Ch∆∞a c√≥ webcam 
- Webcam ch∆∞a nh·∫≠n 
driver, m·∫•t ngu·ªìn. 
- Ki·ªÉm tra k·∫øt n·ªëi t·ªõi 
webcam. 
- C√†i driver cho m√°y. 
 
4.6.2. Quy tr√¨nh v·∫≠n h√†nh h·ªá th·ªëng.  
ƒê·ªÉ thu·∫≠n ti·ªán cho ng∆∞·ªùi s·ª≠ d·ª•ng b∆∞·ªõc ƒë·∫ßu c√≥ th·ªÉ l√†m quen v·ªõi h·ªá th·ªëng nh·∫≠n d·∫°ng 
c·ª≠ ch·ªâ tay n√†y, c√≥ th·ªÉ d·ª±a v√†o l∆∞u ƒë·ªì quy tr√¨nh v·∫≠n h√†nh h·ªá th·ªëng ·ªü h√¨nh 4.26. 
 
 
 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             49 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
ÔÅ∂ 
M√¥ t·∫£ ho·∫°t ƒë·ªông c·ªßa l∆∞u ƒë·ªì: 
ÔÄ≠ 
K·∫øt n·ªëi c√°c th√†nh ph·∫ßn, c·∫•p ngu·ªìn cho h·ªá th·ªëng: Vi·ªác k·∫øt n·ªëi c√°c th√†nh 
ph·∫ßn ƒë·ªÉ ƒë∆∞·ª£c m·ªôt h·ªá th·ªëng ho√†n ch·ªânh xem trong ‚Äúh∆∞·ªõng d·∫´n s·ª≠ d·ª•ng‚Äù. ƒê·∫£m b·∫£o 
r·∫±ng ch·ªâ c·∫•p ngu·ªìn cho h·ªá th·ªëng sau khi ƒë√£ l·∫Øp r√°p c√°c b·ªô ph·∫≠n l·∫°i v·ªõi nhau. T√≠nh 
t·ª´ khi c·∫•p ngu·ªìn cho h·ªá th·ªëng, LED ch·ªâ th·ªã ngu·ªìn m√†u ƒë·ªè s·∫Ω b·∫≠t s√°ng b√°o hi·ªáu 
m·∫°ch ƒë√£ nh·∫≠n ngu·ªìn. C√πng l√∫c ƒë√≥ c·∫£ 5 LED ch·ªâ th·ªã s·∫Ω nh·∫•p nh√°y 2 l·∫ßn ƒë·ªÉ ki·ªÉm 
tra t√¨nh tr·∫°ng c·ªßa m·∫°ch ƒëi·ªán, n·∫øu kh√¥ng c√≥ l·ªói g√¨ x·∫£y ra trong qu√° tr√¨nh n√†y th√¨ c·∫£ 
5 LED s·∫Ω t·∫Øt b√°o hi·ªáu m·∫°ch s·∫µn s√†ng l√†m vi·ªác. 
ÔÄ≠ 
Kh·ªüi ch·∫°y ch∆∞∆°ng tr√¨nh tr√™n m√°y t√≠nh, ch·ªçn ch·∫ø ƒë·ªô l√†m vi·ªác: Nh∆∞ ƒë√£ 
tr√¨nh b√†y trong ‚Äúh∆∞·ªõng d·∫´n d·ª≠ d·ª•ng‚Äù, ch∆∞∆°ng tr√¨nh c√≥ 2 ch·∫ø ƒë·ªô l√†m vi·ªác, t√πy nhu 
c·∫ßu s·ª≠ d·ª•ng m√† ng∆∞·ªùi d√πng ch·ªçn l·ª±a cho ph√π h·ª£p. N·∫øu ch·ªçn ·∫£nh trong m√°y th√¨ 
K·∫øt n·ªëi c√°c th√†nh ph·∫ßn trong h·ªá th·ªëng 
C·∫•p ngu·ªìn cho h·ªá th·ªëng 
Kh·ªüi ch·∫°y ch∆∞∆°ng tr√¨nh tr√™n m√°y t√≠nh 
L·ª±a ch·ªçn ch·∫ø ƒë·ªô l√†m vi·ªác 
ƒê∆∞a tay v√†o v√πng ch·ª•p ·∫£nh c·ªßa webcam 
ƒêi·ªÅu khi·ªÉn b·∫±ng c√°ch thay ƒë·ªïi c·ª≠ ch·ªâ tay 
D·ª´ng ch∆∞∆°ng tr√¨nh, 
T·∫Øt v√† tho√°t ch∆∞∆°ng tr√¨nh 
Ch·ªçn ·∫£nh c·∫ßn x·ª≠ l√Ω 
Xem k·∫øt qu·∫£ 
X·ª≠ l√Ω ·∫£nh tƒ©nh 
Thu ·∫£nh t·ª´ webcam 
webcam 
C√≤n l√†m vi·ªác 
Ng·∫Øt ngu·ªìn ƒëi·ªán kh·ªèi h·ªá th·ªëng 
H√¨nh 4.26. L∆∞u ƒë·ªì v·∫≠n h√†nh h·ªá th·ªëng nh·∫≠n d·∫°ng c·ª≠ ch·ªâ tay, 
ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã 
CH∆Ø∆†NG 4: THI C√îNG H·ªÜ TH·ªêNG 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             50 
thao t√°c n√†y ph·∫£i l·∫∑p ƒëi l·∫∑p l·∫°i m·ªôt c√°ch th·ªß c√¥ng trong khi vi·ªác x·ª≠ l√Ω v·ªõi ·∫£nh t·ª´ 
webcam s·∫Ω l√†m vi·ªác li√™n t·ª•c ƒë·∫øn khi ng∆∞·ªùi d√πng t·∫Øt t√≠nh nƒÉng n√†y. 
ÔÄ≠ 
Xem k·∫øt qu·∫£: K·∫øt qu·∫£ ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n m√†n h√¨nh m√†y t√≠nh v√† tr√™n m·∫°ch 
ƒëi·ªÅu khi·ªÉn, ng∆∞·ªùi d√πng d·ª±a v√†o  ƒë√≥ ƒë·ªÉ ƒë∆∞a ra quy·∫øt ƒë·ªãnh ph√π h·ª£p. V√≠ d·ª• khi mu·ªën 
s√°ng LED th·ª© nh·∫•t, ng∆∞·ªùi d√πng ch·ªçn ·∫£nh c√≥ m·ªôt ng√≥n tay cho ch∆∞∆°ng tr√¨nh x·ª≠ 
l√Ω. K·∫øt qu·∫£ sau x·ª≠ l√Ω l√† LED ·ªü v·ªã tr√≠ s·ªë 1 s·∫Ω b·∫≠t s√°ng, tr√™n m√†n h√¨nh c≈©ng hi·ªán ·∫£nh 
sau nh·∫≠n d·∫°ng.  
ÔÄ≠ 
D·ª´ng, t·∫Øt v√† tho√°t ch∆∞∆°ng tr√¨nh: Khi kh√¥ng l√†m vi·ªác v·ªõi h·ªá th·ªëng, ng∆∞·ªùi 
d√πng c·∫ßn t·∫Øt ph·ªÅn m·ªÅm v√† tho√°t kh·ªèi ch∆∞∆°ng tr√¨nh. Trong tr∆∞·ªùng h·ª£p kh√¥ng l√†m 
vi·ªác v·ªõi h·ªá th·ªëng trong m·ªôt th·ªùi gian d√†i, ng·∫Øt h·∫≥n ngu·ªìn ƒëi·ªán ra kh·ªèi h·ªá th·ªëng 
b·∫±ng c√°ch r√∫t ph√≠ch ngu·ªìn ra kh·ªèi ·ªï ƒëi·ªán.
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             51 
Ch∆∞∆°ng 5. K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
5.1. K·∫æT QU·∫¢ X·ª¨ L√ù ·∫¢NH 
ÔÅ∂ B·ªô l·ªçc ·∫£nh. 
Khi thu th·∫≠p v√† l√†m vi·ªác v·ªõi ·∫£nh s·ªë, ƒëi·ªÅu quan tr·ªçng l√† ph·∫£i lo·∫°i b·ªè ƒë∆∞·ª£c c√°c nhi·ªÖu 
kh√¥ng mong mu·ªën xu·∫•t hi·ªán trong ·∫£nh. T√πy v√†o lo·∫°i nhi·ªÖu m√† √°p d·ª•ng c√°c b·ªô l·ªçc th√≠ch 
h·ª£p ƒë·ªÉ lo·∫°i b·ªè t·ªëi ƒëa nh·ªØng ·∫£nh h∆∞·ªüng x·∫•u m√† nhi·ªÖu ƒë√≥ t√°c ƒë·ªông l√™n ·∫£nh x·ª≠ l√Ω.  
 
 
 
 
 
 
 
 
 
H√¨nh 5.1 m√¥ t·∫£ m·ªôt ·∫£nh nh·ªã ph√¢n b·ªã nhi·ªÖu t√°c ƒë·ªông l√†m xu·∫•t hi·ªán ng·∫´u nhi√™n c√°c 
ƒëi·ªÉm tr·∫Øng, ƒëen kh·∫Øp ·∫£nh. V·ªõi lo·∫°i nhi·ªÖu n√†y, c√≥ th·ªÉ d√πng b·ªô l·ªçc trung v·ªã ƒë·ªÉ kh·ª≠ nhi·ªÖu 
v√† thu ƒë∆∞·ª£c ·∫£nh c√≥ ch·∫•t l∆∞·ª£ng t·ªët h∆°n nh∆∞ h√¨nh 5.1b. 
ÔÅ∂ Qu√° tr√¨nh h·ªá th·ªëng x·ª≠ l√Ω m·ªôt ·∫£nh g·ªìm c√°c b∆∞·ªõc sau 
ƒê·∫ßu ti√™n, l·∫•y ·∫£nh t·ª´ th∆∞ vi·ªán tr√™n m√°y t√≠nh ho·∫∑c ·∫£nh thu tr·ª±c ti·∫øp t·ª´ Webcam, v√≠ 
d·ª• nh∆∞ h√¨nh 5.2 b√™n d∆∞·ªõi l√† ·∫£nh c√≥ c·∫£ khu√¥n m·∫∑t v√† b√†n tay. 
 
 
 
 
 
 
 
 
H√¨nh 5.1. ·∫¢nh tr∆∞·ªõc v√† sau khi l·ªçc trung v·ªã 
a. ·∫¢nh b·ªã nhi·ªÖu mu·ªëi ti√™u  
b. ·∫¢nh sau khi kh·ª≠ nhi·ªÖu  
H√¨nh 5.2. H√¨nh ·∫£nh thu v√†o t·ª´ webcam 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             52 
 
Sau khi l·∫•y ·∫£nh v√†o, n·∫øu kh√¥ng c√≥ khu√¥n m·∫∑t ng∆∞·ªùi th√¨ ch∆∞∆°ng tr√¨nh s·∫Ω chuy·ªÉn 
sang b∆∞·ªõc ti·∫øp theo ƒë·ªÉ x·ª≠ l√Ω. N·∫øu ph√°t hi·ªán khu√¥n m·∫∑t ng∆∞·ªùi trong ·∫£nh , khi ƒë√≥ ch∆∞∆°ng 
tr√¨nh s·∫Ω d·ª±a v√†o k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa v·ªã tr√≠ v√† di·ªán t√≠ch khu√¥n m·∫∑t ƒë·ªÉ t√¥ ƒëen ph·∫ßn di·ªán t√≠ch 
ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† khu√¥n m·∫∑t nh∆∞ h√¨nh 5.3 b√™n d∆∞·ªõi, sau ƒë√≥ chuy·ªÉn sang b∆∞·ªõc k·∫ø ti·∫øp. 
 
 
 
 
 
 
Sau khi lo·∫°i b·ªè ƒë∆∞·ª£c khu√¥n m·∫∑t c√≥ trong ·∫£nh, ·∫£nh s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi sang kh√¥ng 
gian m√†u YCbCr ƒë·ªÉ ph√¢n t√°ch m√†u da, k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa qu√° tr√¨nh n√†y s·∫Ω ƒë∆∞·ª£c m·ªôt ·∫£nh 
nh·ªã ph√¢n ch·ªâ ch·ª©a nh·ªØng v√πng ƒë∆∞·ª£c xem l√† m√†u da (nh·ªØng ƒëi·ªÉm ·∫£nh m√†u tr·∫Øng) nh∆∞ 
h√¨nh 5.4. Tuy nhi√™n ·∫£nh c√≥ th·ªÉ c√≥ nhi·ªÅu v√πng kh√¥ng ph·∫£i m√†u da th·∫≠t do m·ªôt s·ªë ƒë·ªì v·∫≠t 
c√≥ m√†u g·∫ßn gi·ªëng v·ªõi m√†u da ng∆∞·ªùi c≈©ng b·ªã gi·ªØ l·∫°i trong qu√° tr√¨nh tr√≠ch l·ªçc m√†u da. 
 
  
 
 
 
  
 
 
Gi·∫£i ph√°p ƒë∆∞a ra ƒë·ªÉ kh·∫Øc ph·ª•c v·∫•n ƒë·ªÅ lo·∫°i b·ªè c√°c v√πng kh√¥ng mong mu·ªën xu·∫•t 
hi·ªán trong ·∫£nh kh√¥ng ph·∫£i da ƒë·ªÉ thu ƒë∆∞·ª£c ch√≠nh x√°c v√πng da ch·ª©a b√†n tay (xem h√¨nh 
5.5) b·∫±ng c√°ch t√≠nh t·ªïng di·ªán t√≠ch c√°c ƒëi·ªÉm ·∫£nh l√† m√†u da trong ·∫£nh. Sau ƒë√≥ ta ch·ªâ gi·ªØ 
l·∫°i v√πng n√†o ch·ª©a t·ªïng di·ªán t√≠ch ƒëi·ªÉm ·∫£nh l·ªõn nh·∫•t v√† xem ƒë√≥ l√† v√πng ch·ª©a b√†n tay. 
 
 
 
 
 
 
H√¨nh 5.3. ·∫¢nh sau khi ƒë∆∞·ª£c lo·∫°i b·ªè khu√¥n m·∫∑t 
H√¨nh 5.4. ·∫¢nh sau khi l·ªçc m√†u da 
H√¨nh 5.5. ·∫¢nh ch·ªâ ch·ª©a v√πng da tay 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             53 
 
Sau khi x√°c ƒë·ªãnh ƒë∆∞·ª£c b√†n tay, ti·∫øn h√†nh ph√°t hi·ªán v√† c·∫Øt v√πng ·∫£nh ch·ªâ ch·ª©a b√†n 
tay v√¨ ·∫£nh thu v√†o c√≥ th·ªÉ c√≥ m·ªôt ph·∫ßn c√°nh tay c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng, do ƒë√≥ c·∫ßn lo·∫°i b·ªè ƒëi 
ph·∫ßn c√°nh tay n√†y ƒë·ªÉ vi·ªác nh·∫≠n d·∫°ng v·ªÅ sau ƒë∆∞·ª£c chu·∫©n x√°c. K·∫øt qu·∫£ ta ƒë∆∞·ª£c m·ªôt ·∫£nh 
ch·ªâ ch·ª©a b√†n tay t·ª´ c·ªï tay ƒë·∫øn ng√≥n tay nh∆∞ trong h√¨nh 5.6. 
 
 
 
 
 
 
 
 
 
 
T·ª´ ·∫£nh tr√™n ti·∫øn h√†nh t√¨m tr·ªçng t√¢m c·ªßa b√†n tay, sau ƒë√≥ t√≠nh kho·∫£ng c√°ch ng·∫Øn 
nh·∫•t t·ª´ tr·ªçng t√¢m ƒë√≥ ƒë·∫øn ƒë∆∞·ªùng bi√™n c·ªßa b√†n tay (nh∆∞ h√¨nh 5.7). 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
R·ªìi th·ª±c hi·ªán li√™n ti·∫øp 2 ph√©p co ·∫£nh v√† gi√£n ·∫£nh ƒë·ªÉ lo·∫°i b·ªè c√°c ph·∫ßn nh√¥ ra nh∆∞ng 
v·∫´n gi·ªØ ƒë∆∞·ª£c c·∫•u tr√∫c c·ªßa ·∫£nh, k·∫øt qu·∫£ tr·∫£ v·ªÅ ch·ªâ gi·ªØ l·∫°i v√πng l√≤ng b√†n tay nh∆∞ h√¨nh 5.8. 
H√¨nh 5.6. K·∫øt qu·∫£ sau khi c·∫Øt l·∫•y b√†n tay 
(Cx, Cy) 
x 
y 
O 
(x,y
) 
H√¨nh 5.7. T√≠nh kho·∫£ng c√°ch t·ª´ tr·ªçng t√¢m ƒë·∫øn bi√™n b√†n tay 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             54 
 
 
 
 
 
 
 
 
Cu·ªëi c√πng, ƒë·ªÉ ƒë·∫øm ƒë∆∞·ª£c s·ªë ng√≥n tay c·ªßa b√†n tay, ta ti·∫øn h√†nh l·∫•y ·∫£nh ch·ªâ ch·ª©a b√†n 
tay tr·ª´ ƒëi ·∫£nh ƒë√£ qua ph√©p gi√£n ·∫£nh v√† co ·∫£nh, c√°c v√πng n√†y s·∫Ω ch·ª©a c√°c ng√≥n tay v√† c·∫£ 
nh·ªØng v√πng nh·∫•p nh√¥ do s·ª± sai kh√°c gi·ªØa 2 ·∫£nh trong qu√° tr√¨nh x·ª≠ l√Ω nh∆∞ h√¨nh 5.9a, ƒë·ªÉ 
x√≥a b·ªè nh·ªØng v√πng th·ª´a n√†y ta l√†m theo c√°ch ƒë√£ th·ª±c hi·ªán tr∆∞·ªõc ƒë√≥: t√≠nh t·ªïng di·ªán t√≠ch 
c√°c ƒëi·ªÉm ·∫£nh m√†u tr·∫Øng, ch·ªâ gi·ªØ l·∫°i nh·ªØng v√πng c√≥ t·ªïng di·ªán t√≠ch l·ªõn h∆°n 10% c·ªßa t·ªïng 
n√†y. Khi ƒë√≥ k·∫øt qu·∫£ tr·∫£ v·ªÅ ·∫£nh s·∫Ω ƒë∆∞·ª£c lo·∫°i b·ªè ƒëi nh·ªØng v√πng th·ª´a kh√¥ng mong mu·ªën 
v√† ch·ªâ gi·ªØ l·∫°i nh·ªØng ng√≥n tay nh∆∞ trong h√¨nh 5.9b. Vi·ªác t√¨m v√† ƒë·∫øm c√≥ bao nhi√™u v√πng 
ph√¢n bi·ªát trong ·∫£nh s·∫Ω gi√∫p ch√∫ng ta bi·∫øt ƒë∆∞·ª£c c√≥ bao nhi√™u ng√≥n tay, nh∆∞ trong h√¨nh 
5.9b l√† 5 ng√≥n tay.  
 
 
 
 
 
 
 
 
 
 
 
5.2. ƒê√ÅNH GI√Å H·ªÜ TH·ªêNG 
 
Sau khi ho√†n t·∫•t qu√° tr√¨nh nghi√™n c·ª©u, h·ªá th·ªëng ƒë√£ ho·∫°t ƒë·ªông v√† ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u 
ban ƒë·∫ßu ƒë·ªÅ ra. Nh·∫≠n d·∫°ng ƒë∆∞·ª£c 5 c·ª≠ ch·ªâ b√†n tay, nh·∫≠n d·∫°ng c·∫£ ·∫£nh tƒ©nh v√† ·∫£nh thu v√†o 
t·ª´ webcam, tuy nhi√™n mu·ªën cho ra k·∫øt qu·∫£ nh·∫≠n d·∫°ng ch√≠nh x√°c cao, ·∫£nh thu v√†o ph·∫£i 
th·ªèa c√°c y√™u c·∫ßu b√™n d∆∞·ªõi. 
H√¨nh 5.8. K·∫øt qu·∫£ thu ƒë∆∞·ª£c sau hai ph√©p gi√£n ·∫£nh v√† co ·∫£nh 
H√¨nh 5.9. K·∫øt qu·∫£ cu·ªëi c√πng sau khi nh·∫≠n d·∫°ng 
a. ·∫¢nh sau khi tr·ª´ 
b. ·∫¢nh ch·ªâ ch·ª©a 
c√°c v√πng ng√≥n tay 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             55 
 
 
 
 
 
 
 
 
 
 
Nh∆∞ trong h√¨nh 5.10, minh h·ªça v·ªÅ kho·∫£ng c√°ch gi·ªØa b√†n tay v√† webcam, m·ªôt ·∫£nh 
thu v√†o ƒë∆∞·ª£c xem l√† th·ªèa ƒëi·ªÅu ki·ªán v·ªÅ kho·∫£ng c√°ch th√¨ b√†n tay ph·∫£i n·∫±m tr·ªçn trong 
khung ·∫£nh, v√† kho·∫£ng c√°ch t·ªëi ƒëa gi·ªØa b√†n tay v√† Webcam kh√¥ng qu√° 50cm. N·∫øu kho·∫£ng 
c√°ch l·ªõn h∆°n 50cm th√¨ ·∫£nh nh·∫≠n d·∫°ng s·∫Ω b·ªã l·ªói nh∆∞ h√¨nh 5.11b. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 5.10. Minh h·ªça v·ªÅ kho·∫£ng c√°ch gi·ªØa tay v√† webcam 
a. Kho·∫£ng c√°ch g·∫ßn <50cm 
b. Kho·∫£ng c√°ch xa 1m 
a. Nh·∫≠n d·∫°ng ·∫£nh ·ªü kho·∫£ng c√°ch <50cm 
b. Nh·∫≠n d·∫°ng ·∫£nh ·ªü kho·∫£ng c√°ch xa >50cm 
H√¨nh 5.11. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·ªü kho·∫£ng c√°ch xa v√† g·∫ßn 
H√¨nh 5.12. Minh h·ªça v·ªÅ ƒëi·ªÅu ki·ªán chi·∫øu s√°ng kh√°c nhau 
b. ·∫¢nh ch·ª•p khi thi·∫øu 
√°nh s√°ng 
b. ·∫¢nh ch·ª•p khi b·ªã ch√≥i 
n·∫Øng 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             56 
 
Khi thu ·∫£nh v√†o c≈©ng ph·∫£i quan t√¢m ƒë·∫øn ƒë·ªô s√°ng c·ªßa ·∫£nh, ·∫£nh thu v√†o ph·∫£i c√≥ ƒë·ªô 
s√°ng v·ª´a ph·∫£i, kh√¥ng ƒë∆∞·ª£c ch√≥i qu√° ho·∫∑c m·ªù qu√° nh∆∞ h√¨nh 5.12. ·∫¢nh thu v√†o ch√≥i ho·∫∑c 
m·ªù qu√° th√¨ h·ªá th·ªëng nh·∫≠n d·∫°ng m√†u da c√≥ th·ªÉ sai, d·∫´n ƒë·∫øn k·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh kh√¥ng 
ch√≠nh x√°c nh∆∞ trong h√¨nh 5.13 b√™n d∆∞·ªõi.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
a. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh trong ƒëi·ªÅu ki·ªán thi·∫øu √°nh s√°ng 
H√¨nh 5.13. K·∫øt qu·∫£ nh·∫≠n d·∫°ng trong ƒëi·ªÅu ki·ªán chi·∫øu s√°ng kh√°c nhau 
c. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh trong ƒëi·ªÅu ki·ªán chi·∫øu s√°ng th√≠ch h·ª£p 
b. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh trong ƒëi·ªÅu ki·ªán ch√≥i n·∫Øng 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             57 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Mu·ªën cho ·∫£nh nh·∫≠n di·ªán c√≥ ƒë·ªô ch√≠nh x√°c cao, ·∫£nh thu v√†o c≈©ng ph·∫£i ƒë·∫£m b·∫£o ƒë·ªô 
m·ªü gi·ªØa c√°c ng√≥n tay ph·∫£i r√µ r√†ng nh∆∞ h√¨nh 5.14, b√™n c·∫°nh ƒë√≥ g√≥c ch·ª•p b√†n tay c≈©ng 
kh√¥ng k√©m ph·∫ßn quan tr·ªçng, b√†n tay ph·∫£i ƒë∆∞·ª£c ch·ª•p ch√≠nh di·ªán theo ph∆∞∆°ng th·∫≥ng ƒë·ª©ng 
v√† ƒë·∫ßu c√°c ng√≥n tay ph·∫£i h∆∞·ªõng l√™n, tay c√≥ th·ªÉ nghi√™ng l·ªách m·ªôt g√≥c kh√¥ng qu√° 30¬∞ 
theo ph∆∞∆°ng th·∫≥ng ƒë·ª©ng, b√†n tay kh√¥ng ƒë∆∞·ª£c ng·∫£ ng·ª≠a ho·∫∑c s·∫•p xu·ªëng nh∆∞ h√¨nh 5.15. 
 
 
 
 
 
 
 
 
 
 
a. Sai 
H√¨nh 5.14. Minh h·ªça v·ªÅ ƒë·ªô m·ªü gi·ªØa c√°c ng√≥n 
tay 
b. ƒê√∫ng 
H√¨nh 5.16. K·∫øt qu·∫£ nh·∫≠n d·∫°ng ·∫£nh v·ªÅ ƒë·ªô m·ªü gi·ªØa c√°c ng√≥n tay 
b. ƒê√∫ng 
a. Sai 
H√¨nh 5.15. Minh h·ªça v·ªÅ g√≥c ch·ª•p c·ªßa b√†n tay 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             58 
 
H√¨nh 5.16 ·ªü tr√™n minh h·ªça v·ªÅ kh·∫£ nƒÉng nh·∫≠n d·∫°ng ch√≠nh x√°c khi ƒë·ªô m·ªü gi·ªØa c√°c 
ng√≥n tay r√µ r√†ng (nh∆∞ h√¨nh 5.16b), v√† nh·∫≠n d·∫°ng sai khi c√°c ng√≥n tay c·ªßa b√†n tay kh√©p 
l·∫°i v·ªõi nhau (nh∆∞ h√¨nh 5.16a). 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
a. Minh h·ªça v·ªÅ b√†n tay s·∫•p 
b. Minh h·ªça v·ªÅ b√†n tay nghi√™ng m·ªôt g√≥c qu√° 30¬∞  
H√¨nh 5.17. K·∫øt qu·∫£ nh·∫≠n d·∫°ng c√°c tr∆∞·ªùng h·ª£p g√≥c ch·ª•p kh√°c nhau 
c. Minh h·ªça v·ªÅ b√†n tay ng·ª≠a 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             59 
 
 
T∆∞∆°ng t·ª± trong h√¨nh 5.17, v√≠ d·ª• minh h·ªça v·ªÅ k·∫øt qu·∫£ c√°c tr∆∞·ªùng h·ª£p nh·∫≠n d·∫°ng sai 
khi b√†n tay s·∫•p (xem h√¨nh a), b√†n tay nghi√™ng qu√° 30¬∞ (xem h√¨nh b) v√† b√†n tay ng·ª≠a 
(xem h√¨nh c). 
 
Ngo√†i ra, ·∫£nh ch·ª•p b·ªã nh√≤e do rung tay hay l·∫•y n√©t sai, ·∫£nh c√≥ m√†u n·ªÅn gi·ªëng v·ªõi 
m√†u da, ·∫£nh c√≥ b√†n tay che m·ªôt ph·∫ßn, ho·∫∑c che b·ªüi khu√¥n m·∫∑t nh∆∞ h√¨nh 5.18 ƒë·ªÅu cho 
k·∫øt qu·∫£ nh·∫≠n d·∫°ng kh√¥ng ch√≠nh x√°c nh∆∞ h√¨nh 5.19. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 5.18. Minh h·ªça v·ªÅ ·∫£nh m·ªù, ·∫£nh c√≥ b√†n tay che m·ªôt ph·∫ßn 
khu√¥n m·∫∑t 
H√¨nh a. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi ·∫£nh ch·ª•p b·ªã nh√≤e 
H√¨nh b. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi b√†n tay ƒë√® 
l√™n khu√¥n m·∫∑t 
H√¨nh 5.19. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi ·∫£nh ch·ª•p b·ªã nh√≤e v√† b√†n tay ch·∫°m v√†o 
khu√¥n m·∫∑t 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             60 
 
 
 
 
 
 
 
 
 
 
 
V√† y·∫øu t·ªë cu·ªëi c√πng l√†m k·∫øt qu·∫£ nh·∫≠n d·∫°ng sai l√† do khi co b√†n tay l·∫°i ph·∫£i h·∫°n 
ch·∫ø t·ªëi ƒëa c√°c v√πng nh·∫•p nh√¥ do c√°c ng√≥n tay g√¢y ra (nh∆∞ h√¨nh 5.20a), v√¨ c√°c kh·ªõp tay 
nh√¥ cao qu√° h·ªá th·ªëng nh·∫≠n d·∫°ng s·∫Ω hi·ªÉu ƒë√≥ l√† m·ªôt ng√≥n tay v√† ƒë·∫øm lu√¥n d·∫´n ƒë·∫øn k·∫øt 
qu·∫£ cho ra b·ªã sai. 
 
 
 
 
 
 
 
 
 
 
 
H√¨nh 2.21 ·ªü tr√™n cho th·∫•y k·∫øt qu·∫£ nh·∫≠n d·∫°ng s·∫Ω ch√≠nh x√°c cao khi h·∫°n ch·∫ø s·ª± nh·∫•p 
nh√¥ c·ªßa c√°c ng√≥n tay. 
 
 
 
 
a. Sai 
b. ƒê√∫ng 
H√¨nh 5.20. Minh h·ªça v·ªÅ ƒë·ªô nh·∫•p nh√¥ c·ªßa c√°c ng√≥n tay khi co l·∫°i 
H√¨nh 5.21. K·∫øt qu·∫£ nh·∫≠n d·∫°ng khi h·∫°n ch·∫ø nh·∫•p nh√¥ c·ªßa 
ng√≥n tay 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             61 
5.3. K·∫æT QU·∫¢ TH·ªêNG K√ä 
 
V·ªõi m·ªói c·ª≠ ch·ªâ tay, nh√≥m ch·ªçn ra 50 ·∫£nh ƒë·ªÉ ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng. K·∫øt qu·∫£ 
ch·∫°y ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c ghi l·∫°i trong b·∫£ng 5.1: 
B·∫£ng 5.1. K·∫øt qu·∫£ ch·∫°y ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng ·∫£nh 
C·ª≠ ch·ªâ tay 
·∫¢nh m·∫´u 
S·ªë ·∫£nh th·ª≠ 
X√°c su·∫•t nh·∫≠n 
d·∫°ng th√†nh c√¥ng 
1 ng√≥n tay 
 
 
 
 
 
 
50 
94 % 
2 ng√≥n tay 
 
 
 
 
 
50 
94 % 
3 ng√≥n tay 
 
 
 
 
 
 
50 
96 % 
4 ng√≥n tay 
 
 
 
 
 
 
50 
96 % 
CH∆Ø∆†NG 5: K·∫æT QU·∫¢_NH·∫¨N X√âT_ƒê√ÅNH GI√Å 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             62 
5 ng√≥n tay 
 
 
 
 
 
 
50 
98 % 
B√†n tay co (n·∫Øm tay) 
 
 
 
 
 
 
50 
94 % 
 
K·∫øt qu·∫£ trong b·∫£ng 5.1 cho th·∫•y: Gi·∫£i th·∫≠t m√† ƒë·ªì √°n n√†y x√¢y d·ª±ng tuy kh√° ƒë∆°n 
gi·∫£n nh∆∞ng c√≥ kh·∫£ nƒÉng ph√°t hi·ªán c√°c c·ª≠ ch·ªâ tay v·ªõi ƒë·ªô ch√≠nh x√°c r·∫•t cao (h∆°n 94%). 
L·∫•y c·ª≠ ch·ªâ b√†n tay x√≤e 3 ng√≥n l√†m v√≠ d·ª•, ƒë·ªô ch√≠nh x√°c c·ªßa ch∆∞∆°ng tr√¨nh v·ªõi c·ª≠ ch·ªâ n√†y 
l√† 48 ·∫£nh ƒë√∫ng trong t·ªïng s·ªë 50 ·∫£nh th·ª≠ nghi·ªám. Trong khi ƒë√≥, v·ªõi c·ª≠ ch·ªâ tay x√≤e nƒÉm 
ng√≥n th√¨ ƒë·ªô ch√≠nh x√°c l√† 98% b·ªüi khi x√≤e nƒÉm ng√≥n th√¨ c√°c ƒëi·ªÉm nh·∫•p nh√¥ c·ªßa c√°c kh·ªõp 
ng√≥n tay s·∫Ω h·∫°n ch·∫ø t·ªõi m·ª©c t·ªëi thi·ªÉu.  
Do ƒë√≥ c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c ƒëi·ªÉm ƒë·∫∑c bi·ªát c·ªßa gi·∫£i thu·∫≠t n√†y l√† ·ªü t√≠nh ƒë∆°n gi·∫£n c·ªßa 
n√≥. Ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c vi·∫øt kh√° ng·∫Øn g·ªçn, kh√¥ng qu√° ph·ª©c t·∫°p nh∆∞ng v·∫´n ƒë·∫°t ƒë∆∞·ª£c hi·ªáu 
qu·∫£ c·ªßa b√†i to√°n ‚Äúnh·∫≠n d·∫°ng ch·ª≠ ch·ªâ b√†n tay‚Äù. Nh∆∞ng c≈©ng th·∫•y ƒë∆∞·ª£c m·ªôt h·∫°n ch·∫ø c·ªßa 
h∆∞·ªõng ƒëi n√†y l√† trong ·∫£nh c·∫ßn x·ª≠ l√Ω ph·∫£i c√≥ s·ª± x·∫•t hi·ªán c·ªßa b√†n tay, n·∫øu kh√¥ng ch∆∞∆°ng 
tr√¨nh s·∫Ω nh·∫≠n d·∫°ng sai. 
C≈©ng ch√∫ √Ω r·∫±ng c√°c ·∫£nh ƒë∆∞·ª£c gi·ªõi thi·ªáu trong c·ªôt ·∫£nh m·∫´u ·ªü b·∫£ng 5.1 l√† nh·ªØng 
·∫£nh ƒë∆∞·ª£c xem l√† l√Ω t∆∞·ªüng. Trong th·ª±c t·∫ø ƒë·ªÉ ch∆∞∆°ng tr√¨nh l√†m vi·ªác ƒë√∫ng v√† cho hi·ªáu qu·∫£ 
nh∆∞ ƒë√£ tr√¨nh b√†y th√¨ ch·∫•t l∆∞·ª£ng ·∫£nh thu v√†o ph·∫£i ƒë·∫£m b·∫£o c√°c ƒëi·ªÅu ki·ªán ƒë·∫∑t ra ·ªü ph·∫ßn 
gi·ªõi thi·ªáu c·ªßa ƒë·ªì √°n n√†y. 
 
 
CH∆Ø∆†NG 6: K·∫æT LU·∫¨N V√Ä H∆Ø·ªöNG PH√ÅT TRI·ªÇN 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             63 
Ch∆∞∆°ng 6. K·∫æT LU·∫¨N V√Ä H∆Ø·ªöNG PH√ÅT TRI·ªÇN 
6.1. K·∫æT LU·∫¨N 
Ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng c√≥ th·ªÉ tr√≠ch xu·∫•t ƒë∆∞·ª£c v√πng b√†n tay c√≥ trong ·∫£nh, ƒë·∫øm 
ƒë∆∞·ª£c s·ªë ng√≥n tay. 5 LED ch·ªâ th·ªã tr√™n m·∫°ch ƒëi·ªÅu khi·ªÉn ho·∫°t ƒë·ªông t·ªët theo l·ªánh ƒëi·ªÅu khi·ªÉn 
t·ª´ ch∆∞∆°ng tr√¨nh. H·ªá th·ªëng nh·∫≠n d·∫°ng ƒë∆∞·ª£c l·∫Øp r√°p theo ki·ªÉu t·ª´ng ph·∫ßn c√≥ th·ªÉ th√°o r·ªùi 
d·ªÖ d√†ng. Nh√≥m ƒë√£ x√¢y d·ª±ng th√†nh c√¥ng ch∆∞∆°ng tr√¨nh nh·∫≠n d·∫°ng tr√™n m√°y t√≠nh, h·ªá th·ªëng 
th·ª≠ nghi·ªám ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh, t·ªët nh∆∞ mong ƒë·ª£i. 
6.2. H∆Ø·ªöNG PH√ÅT TRI·ªÇN 
ƒê·ªÅ t√†i ‚Äúƒêi·ªÅu khi·ªÉn thi·∫øt b·ªã b·∫±ng c·ª≠ ch·ªâ tay th√¥ng qua x·ª≠ l√Ω ·∫£nh‚Äù l√† m·ªôt b∆∞·ªõc 
nghi√™n c·ª©u kh·ªüi ƒë·∫ßu cho nhi·ªÅu d·ª± √°n mang t√≠nh m·ªõi l·∫°. C√≥ th·ªÉ ph√°t tri·ªÉn th√†nh m√°y ch∆°i 
‚Äúo·∫≥n t√π x√¨‚Äù v·ªõi con ng∆∞·ªùi. Theo ƒë√≥, m√°y c√≥ kh·∫£ nƒÉng ch·ª•p l·∫°i c·ª≠ ch·ªâ tay c·ªßa ng∆∞·ªùi ch∆°i 
r·ªìi x·ª≠ l√Ω v√† tr·∫£ l·∫°i k·∫øt qu·∫£ sao cho c√≥ th·ªÉ ‚ÄúƒÉn‚Äù ƒë∆∞·ª£c ng∆∞·ªùi ch∆°i theo lu·∫≠t ch∆°i c·ªßa tr√≤ 
ch∆°i d√¢n gian n√†y. 
Ho·∫∑c ƒë·ªÅ t√†i c√≥ th·ªÉ m·ªü r·ªông h∆°n ƒë·ªÉ ƒë·∫øm ƒë∆∞·ª£c c√°c s·ªë ƒë·∫øm t·ª´ 0 t·ªõi 10 √°p d·ª•ng v√†o 
ph·∫ßn m·ªÅm h·ªçc ƒë·∫øm s·ªë cho c√°c em nh·ªè. Ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ ƒë∆∞a ra m·ªôt s·ªë ph√©p t√≠nh 
ƒë∆°n gi·∫£n (v√≠ d·ª• 1+1=?) v√† h·ªèi xem ƒë√°p s·ªë l√† bao nhi√™u? B·∫±ng vi·ªác ch·ª•p l·∫°i ·∫£nh b√†n tay 
c·ªßa b√©, qua x·ª≠ l√Ω, ph·∫ßn m·ªÅm s·∫Ω bi·∫øt b√© tr·∫£ l·ªùi ƒë√∫ng hay sai v√† hi·ªÉn th·ªã k·∫øt qu·∫£ l√™n m·ªôt 
m√†n h√¨nh  k√®m theo √¢m thanh ƒë·ªÉ k√≠ch th√≠ch b√© v·ª´a h·ªçc v·ª´a ch∆°i. 
 
 
 
 
 
 
 
 
 
 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             64 
T√ÄI LI·ªÜU THAM KH·∫¢O 
 
[1] Ram Pratap Sharma and Gyanendra K. Verma, ‚ÄúHuman Computer Interaction 
using Hand Gesture‚Äù, National Institute of  Technology Kurukshetra, 2015. 
[2] N. Dhruva, Sudhir Rao Rupanagudi, H.N. Neelkant Kashyap, ‚ÄúNovel 
Algorithm for Image Processing Based Hand Gesture Recognition and Its 
Application in Sucurity‚Äù, 2011.   
[3] Tr·∫ßn Thanh Vi√™n, ‚ÄúM·∫°ch ƒêi·ªÅu Khi·ªÉn Nhi·ªát ƒê·ªô‚Äù, ƒêH B√°ch Khoa - ƒêH ƒê√† 
N·∫µng, 2011. 
[4] Tr·∫ßn Ng·ªçc ThƒÉng v√† Tr·∫ßn Th√†nh Trung, ‚ÄúNh·∫≠n di·ªán c·ª≠ ch·ªâ b√†n tay‚Äù, ƒê·ªì √Ån 
T·ªët Nghi·ªáp ƒêH, Tr∆∞·ªùng ƒêH S∆∞ Ph·∫°m K·ªπ Thu·∫≠t Tp.HCM, 2013. 
[5] L√™ Vi·ªát D≈©ng, ‚ÄúNghi√™n c·ª©u k·ªπ thu·∫≠t nh·∫≠n d·∫°ng b√†n tay ng∆∞·ªùi‚Äù, lu·∫≠n vƒÉn 
th·∫°c sƒ©, H·ªçc Vi·ªán C√¥ng Ngh·ªá B∆∞u Ch√≠nh Vi·ªÖn Th√¥ng, 2013. 
[6] L√™ M·∫°nh Linh, ‚ÄúNh·∫≠n d·∫°ng c·ª≠ ch·ªâ b√†n tay ·ª©ng d·ª•ng trong ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã 
ƒëi·ªán gia d·ª•ng‚Äù, lu·∫≠n vƒÉn th·∫°c sƒ©, Tr∆∞·ªùng ƒê·∫°i h·ªçc C√¥ng ngh·ªá Th√¥ng Tin v√† Truy·ªÅn 
th√¥ng, 2015. 
[7] Nguy·ªÖn ƒê√¨nh Ph√∫, ‚ÄúGi√°o tr√¨nh vi x·ª≠ l√Ω II‚Äù, NXB ƒêH Qu·ªëc Gia Tp.HCM, 
2007. 
[8] L√™ Th·ªã Thu Th·∫£o, ‚Äúthi·∫øt k·∫ø m·∫°ch ngu·ªìn m·ªôt chi·ªÅu ·ªïn √°p c√≥ ƒëi·ªán √°p ra thay ƒë·ªïi 
(0-5V) 3A‚Äù, ƒê·ªì √°n 1. 
[9] D.Sparsha and G.Vandana, ‚ÄúRemote Controlled Metal Detecting Robot with 
Remote Image Transmission‚Äù, Sridevi Women‚Äôs Engineering College, 2010. 
 
 
 
 
 
 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             65 
PH·ª§ L·ª§C 
 
1. Ch∆∞∆°ng tr√¨nh ch√≠nh 
delete(gcf); 
close all; 
clear all; 
imaqreset; 
clc; 
f = figure; 
set(f,... 
    'Visible','off', ... 
    'name', 'DO AN TOT NGHIEP',... 
    'numbertitle','off', ... 
    'Color', [0.925 0.914 0.847],... 
    'position',[360,500,550,350]); 
set(f,'KeyPressFcn',@keyDownListener); 
set(f, 'KeyReleaseFcn', @keyUpListener); 
set(f,'CurrentCharacter','@'); % set to a dummy character 
%% ------- Device ID ------- 
htext1 = uicontrol('Style','text','String','OUTPUT',... 
'FontWeight', 'bold', ... 
'Position',[330,325,60,15],... 
'BackgroundColor',[0.9 0.9 0.9]); 
% -------------------------------------- 
out1 = uicontrol('Style','text','String','OUT1',... 
'FontWeight', 'bold', ... 
'Position',[226,254,40,15], ... 
'BackgroundColor',[0.9 0.9 0.9]); 
% -------------------------------------- 
out2 = uicontrol('Style','text','String','OUT2',... 
'FontWeight', 'bold', ... 
'Position',[282,254,40,15], ... 
'BackgroundColor',[0.9 0.9 0.9]); 
% -------------------------------------- 
out3 = uicontrol('Style','text','String','OUT3',... 
'FontWeight', 'bold', ... 
'Position',[338,254,40,15], ... 
'BackgroundColor',[0.9 0.9 0.9]); 
% -------------------------------------- 
out4 = uicontrol('Style','text','String','OUT4',... 
'FontWeight', 'bold', ... 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             66 
'Position',[395,254,40,15], ... 
'BackgroundColor',[0.9 0.9 0.9]); 
% -------------------------------------- 
out5 = uicontrol('Style','text','String','OUT5',... 
'FontWeight', 'bold', ... 
'Position',[450,254,40,15], ... 
'BackgroundColor',[0.9 0.9 0.9]); 
%% -------- ORIGINAL IMAGE ------------- 
horiginal_image = uipanel('Parent',f,'Title','Original Image',... 
'FontWeight', 'bold', ... 
'TitlePosition','centertop',... 
'Position',[.11 .54 .275 .43]); % x ->, y-^ w h 
%---------- RESULT IMAGE -------------- 
hresult_image = uipanel('Parent',f,'Title','Result Image',... 
'FontWeight', 'bold', ... 
'TitlePosition','centertop',... 
'Position',[.11 .1 .275 .43]); % x ->, y-^ w h 
% hpopup = uicontrol('Style','popupmenu',... 
% 'String',{'Huu Sang',... 
% 'Kim Chi'},... 
% 'Position',[300,300,200,25],... 
% 'Callback',{@popup_menu_Callback}); 
%% -------- PROGRAM AREA -------- 
pha = uipanel('Parent',f,'Title','Program',... 
'FontWeight', 'bold', ... 
'TitlePosition','centertop',... 
'Position',[.40 .29 .51 .4]); 
% ----------- SOURCE - PROCESS - SYS ----------- 
ph1 = uipanel('Parent',pha,'Title','Source',... 
'FontWeight', 'bold', ... 
'TitlePosition','centertop',... 
'Position',[.02 .05 .3 .9]); 
ph2 = uipanel('Parent',pha,'Title','Process',... 
'FontWeight', 'bold', ... 
'TitlePosition','centertop',... 
'Position',[.35 .05 .3 .9]); 
ph3 = uipanel('Parent',pha,'Title','System',... 
'FontWeight', 'bold', ...     
'TitlePosition','centertop',... 
'Position',[.68 .05 .3 .9]); 
%% --------- SOURCES ---------- 
hdisk = uicontrol(ph1,'Style','pushbutton','String','Disk',... 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             67 
'Position',[5 65 70 25],... 
'Callback','disk'); 
hvideo = uicontrol(ph1,'Style','pushbutton','String','Video',... 
'Position',[5 35 70 25],... 
'Callback','wait,webcam'); 
hsvideo = uicontrol(ph1,'Style','pushbutton','String','Stop Video',... 
'Position',[5 5 70 25],... 
'Callback','stopvideo'); 
%% -------- PROCESS --------- 
hprocess = uicontrol(ph2,'Style','pushbutton','String','Process',... 
'Position',[5,65,70,25],... 
'Callback','wait,processing'); 
hshow = uicontrol(ph2,'Style','pushbutton','String','Show',... 
'Position',[5,35,70,25],... 
'Callback','show'); 
%% --------- SYSTEM --------- 
hrestart = uicontrol(ph3,'Style','pushbutton', 'String','Restart',... 
'Position',[5,65,70,25],... 
'Callback','stopvideo,GUI'); 
habout = uicontrol(ph3,'Style','pushbutton','String','About',... 
'Position',[5,35,70,25],... 
'Callback','about'); 
hexit = uicontrol(ph3,'Style','pushbutton','String','Exit',... 
'Position',[5,5,70,25],... 
'Callback','thoat'); 
%% ---------- COMMUNICATION ------------ 
phb = uipanel('Parent',f,'Title','Communication',... 
'FontWeight', 'bold', ...     
'TitlePosition','centertop',... 
'Position',[.40 .1 .51 .15]); 
% ------------ BAURATE ------------- 
tb1 = uipanel(phb,'Title','Baud rate',... 
'FontWeight', 'bold', ...     
'TitlePosition','centertop',... 
'Position',[.02 0.1 .3 .9]); 
% -------------------------------------- 
hbaud_rate = uicontrol(tb1,'Style','text','String','9600',... 
'FontWeight', 'bold', ... 
'Position',[10 2 60 15]); 
%------------ PARITY ---------- 
tb2 = uipanel(phb,'Title','Parity',... 
'FontWeight', 'bold', ...     
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             68 
'TitlePosition','centertop',... 
'Position',[.35 .1 .3 .9]); 
% ------------------------------------- 
hparity = uicontrol(tb2,'Style','text','String','N',... 
'FontWeight', 'bold', ... 
'Position',[10 2 60 15]); 
%------------ DATA BIT ---------- 
tb3 = uipanel(phb,'Title','Data bits',... 
'FontWeight', 'bold', ...     
'TitlePosition','centertop',... 
'Position',[.68 .1 .3 .9]); 
% -------------------------------------- 
hdatabit = uicontrol(tb3,'Style','text','String','8',... 
'FontWeight', 'bold', ... 
'Position',[10 2 60 15]); 
%% -------------------------------------- 
align([htext1,pha,phb],'Center','None'); 
align([horiginal_image,hresult_image],'Center','None'); 
align([hdisk,hvideo,hsvideo],'Center','None'); 
align([hprocess,hshow],'Center','None'); 
align([hrestart,habout,hexit],'Center','None'); 
align([tb1,tb2,tb3],'Center','None'); 
align([hbaud_rate,hparity,hdatabit],'Center','None'); 
set([f,htext1,pha,phb,ph1,ph2,ph3,... 
horiginal_image,hresult_image, ... 
hdisk,hvideo,hsvideo,hprocess,hshow,hrestart,habout,hexit,... 
tb1,tb2,tb3,... 
out1,out2,out3,out4,out5,... 
hbaud_rate,hparity,hdatabit],... 
'Units','normalized'); 
%% ------------ SHOW IMAGE ------------- 
subplot(4,6,[3 4 5 6], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\Devices\OFF.jpg','InitialMagnification','
fit'); 
subplot(4,6,[1 2 7 8], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\LOGO_HCMUTE.jpg', 
'InitialMagnification','fit'); 
subplot(4,6,[13 14 19 20], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\LOGO_HCMUTE.jpg', 
'InitialMagnification','fit'); 
%% ------- DISPLAY GUI ------------------ 
movegui(f,'center') 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             69 
set(f,'Visible','on'); 
%--------- End of file ------------ 
2. Ch∆∞∆°ng tr√¨nh con ƒë·ªçc ·∫£nh t·ª´ th∆∞ m·ª•c: DISK 
    [filename,pathname] = uigetfile({'*.jpg';'Image files';'All file'}); 
    y =[pathname, filename]; 
    b = imread(y); 
% goc anh goc 
        subplot(4,6,[1 2 7 8], 'replace'); 
        imshow(b) 
% hien anh goc 
    imwrite(b,'image.jpg'); 
3. Ch∆∞∆°ng tr√¨nh con thu ·∫£nh t·ª´ webcam: WEBCAM 
clear all; 
clc; 
%% --------- video config -------------- 
vid = videoinput('winvideo', 2, 'YUY2_640x480'); 
set(vid, 'FramesPerTrigger', Inf); 
set(vid, 'ReturnedColorspace', 'rgb') 
% set(vid,'TimerPeriod',0.5); 
vid.FrameGrabInterval = 3; 
start(vid); 
%% ------------------------------- 
while(1) 
img_orig = getsnapshot(vid); 
img_orig = imresize(img_orig, 0.5); 
img_orig = img_orig(1:end,end:-1:1,:); 
height = size(img_orig,1); 
width = size(img_orig,2); 
bin = zeros(height,width); 
% ------ SHOW ORIGINAL IMAGE -------- 
subplot(4,6,[1 2 7 8], 'replace'); 
imshow(img_orig); % original image 
%% ---------- face detect -------------------- 
FDetect = vision.CascadeObjectDetector; 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             70 
BB = step(FDetect,img_orig); 
% hold on; 
if size(BB,1)~= 0 
    for i = 1:size(BB,1) 
%         rectangle('Position',BB(i,:),'LineWidth',1,'LineStyle','-','EdgeColor','r'); 
% ------------ remove face ------------- 
        RGB = insertShape(img_orig, 'FilledRectangle', BB(i, :),'Color', 
'black','Opacity', 1);  
    end 
    img_ycbcr = rgb2ycbcr(RGB); 
else 
    img_ycbcr = rgb2ycbcr(img_orig); 
end 
%% ---------------- Skin Detect ------------------------ 
%Convert the image from RGB to YCbCr 
%img_ycbcr = rgb2ycbcr(RGB); 
Cb = img_ycbcr(:,:,2); 
Cr = img_ycbcr(:,:,3); 
[r,bantay,v] = find(Cb>=77 & Cb<=127 & Cr>=133 & Cr<=173); 
numind = size(r,1); 
% ------- Mark Skin Pixels ---------- 
for i=1:numind 
%     out(r(i),bantay(i),:) = [0 0 255]; 
    bin(r(i),bantay(i)) = 1; 
end 
%-------------- loc nhieu ----------------- 
    bn = imfill(bin,'hole');%lap day lo trong 
    dientich = bwarea(bn); 
    bn=bwareaopen(bn,round(dientich*0.3));% loai bo vung c√≥ dien t√≠ch nho hon 
30% 
    bn = medfilt2(bn, [3 3]); %filtering 
    bantay=bn; 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             71 
%% --------------- hand extract ------------- 
 ya=sum(bantay,1);%tong theo cot  
 [cy, y]=max(ya);% c la tong pixel lon nhat, y la tri so cot max 
 xa=sum(bantay,2); 
 [cx, x]=max(xa); 
 tong=sum(bantay(x:height,:),2); 
for i=1:length(tong) 
    if tong(i)< 0.5*cx 
    break; 
    end 
end 
 y1= (i+x);% vi tri hang co tong so pixel trang nho nhat tu vi tri max o giua tinh 
xuong duoi 
for i=x:-1:1 % chay tu diem x max cho den vi tri ban dau,-1 bc nhay 
    if sum(bantay(i,:))==0 % xet tai vi tri hang cuoi cung 
    break; 
    end 
end 
y2=i; % hang tren cung 
for i=y:width 
    if sum(bin(:,i))==0 
    break; 
    end 
end 
x1=i; % cot phia ben phai cua ban tay 
for i=y:-1:1 
    if sum(bantay(:,i))==0 
    break 
    end 
end 
x2=i; 
h=y1-y2;% chieu cao  
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             72 
w=x1-x2;% chieu rong 
bantay1=imcrop(bantay,[x2 y2 w h]); 
out = imresize(bantay1,[h*2 h]); 
h = size(out,1); 
w = size(out,2); 
%---------------------------------------- 
out=imdilate(out,strel('diamond',4));% lam gian 
%se = strel('line',11,100); out = imdilate(out,se); 
%retain largest only 
res=out; 
cc=bwconncomp(res);% 
arr=(cellfun('length',cc.PixelIdxList)); 
newLabel=res;% 
if ~isempty(round(arr)) 
    msz=0; 
    for i=1:length(arr) 
        if msz<arr(i:i) 
            msz=arr(i:i); 
            index=i; 
        end 
    end 
    labels=labelmatrix(cc); 
    newLabel=(labels==index); 
    out=newLabel; 
end 
out=imfill(out,'holes'); 
stats=regionprops(out,'Centroid'); 
 
if ~isempty(stats) 
    cx=stats.Centroid(1); 
    cy=stats.Centroid(2); 
    %find the nearest countour point 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             73 
    boundary=bwboundaries(out); 
    minDist=2*h*w; 
    bImg=uint8(zeros(h,w));% 
    for i=1:length(boundary) 
        cell=boundary{i,1}; 
        for j=1:length(cell) 
            y=cell(j,1); 
            x=cell(j,2); 
            sqrDist=(cx-x)*(cx-x)+(cy-y)*(cy-y); 
            bImg(x,y)=255; 
            if(sqrDist<minDist) 
                minDist=sqrDist; 
            end 
        end 
    end 
    sed=strel('disk',round(sqrt(minDist)/2)); 
    final=imerode(out,sed); 
    final=imdilate(final,sed); 
    final=out-final; 
    final(:,1) = 0; final(:,end) = 0; 
    final(1,:) = 0; final(end,:) = 0; 
    dientich = bwarea(final); 
    final=bwareaopen(final,round(dientich*0.1));%  
 
final=imerode(final,strel('disk',5));% 
 [~,num]=bwlabel(final,8); 
%% -------- SHOW RESULT IMAGE ----------- 
    subplot(4,6,[13 14 19 20], 'replace'); 
    imshow(final); 
        subplot(4,6,[3 4 5 6], 'replace'); 
        if num ==0  
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             74 
     
imshow('F:\SPKT\DATN\CODE\Data\Devices\OFF.jpg','InitialMagnification','
fit'); 
    elseif num ==1  
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\1.jpg','InitialMagnification','fit')
; 
    elseif num ==2 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\2.jpg','InitialMagnification','fit')
;     
    elseif num ==3 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\3.jpg','InitialMagnification','fit')
;     
    elseif num ==4 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\4.jpg','InitialMagnification','fit')
;     
    elseif num ==5 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\5.jpg','InitialMagnification','fit')
;               
    else  
       
imshow('F:\SPKT\DATN\CODE\Data\Devices\error.jpg','InitialMagnification','
fit');  
    end 
else 
num=0; 
final = zeros(size(out)); 
subplot(4,6,[13 14 19 20], 'replace'); 
imshow(out); 
subplot(4,6,[3 4 5 6], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\Devices\error.jpg','InitialMagnification','
fit'); 
end 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             75 
% hold off; 
pause(0.001); 
%% ---------- check for keys & exit ------------------ 
  k=get(gcf,'CurrentCharacter'); 
  if k~='@' % has it changed from the dummy character? 
    set(gcf,'CurrentCharacter','@'); % reset the character 
    % now process the key as required 
    if k == 'q'  
        break;  
    end  
  end 
%% ------- COMMUNICATION --------- 
  run uart.m; 
end 
stop(vid); 
flushdata(vid); 
4. Ch∆∞∆°ng tr√¨nh con tho√°t kh·ªèi ch·∫ø ƒë·ªô webcam: STOP_VIDEO 
set(gcf,'CurrentCharacter','q'); % reset the character 
a = exist('vid', 'var');% co ton tai bien var ? 
if a==1 
    stop(vid); 
    flushdata(vid); 
end 
subplot(4,6,[1 2 7 8], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\LOGO_HCMUTE.jpg', 
'InitialMagnification','fit'); 
subplot(4,6,[13 14 19 20], 'replace'); 
imshow('F:\SPKT\DATN\CODE\Data\LOGO_HCMUTE.jpg', 
'InitialMagnification','fit'); 
5. Ch∆∞∆°ng tr√¨nh con x·ª≠ l√Ω ·∫£nh. 
clc; 
img_orig = imread('image.jpg'); 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             76 
img_orig = imresize(img_orig, 0.5); 
height = size(img_orig,1); 
width = size(img_orig,2); 
%Initialize the output images 
bin = zeros(height,width); 
%---------- face detect -------------------- 
FDetect = vision.CascadeObjectDetector; 
BB = step(FDetect,img_orig); 
hold on; 
if size(BB,1)~= 0 
    for i = 1:size(BB,1) 
       rectangle('Position',BB(i,:),'LineWidth',1,'LineStyle','-','EdgeColor','r'); 
        %------------ remove face --------------------- 
        RGB = insertShape(img_orig, 'FilledRectangle', BB(i, :),'Color', 
'black','Opacity', 1);  
    end 
    img_ycbcr = rgb2ycbcr(RGB); 
else 
    img_ycbcr = rgb2ycbcr(img_orig); 
end 
%----------------------------------------------- 
%---------------- Detect Skin----------------------------------- 
%Convert the image from RGB to YCbCr 
Cb = img_ycbcr(:,:,2); 
Cr = img_ycbcr(:,:,3); 
[r,bantay,v] = find(Cb>=77 & Cb<=127 & Cr>=133 & Cr<=173); 
numind = size(r,1); 
%Mark Skin Pixels 
for i=1:numind 
%     out(r(i),bantay(i),:) = [0 0 255]; 
    bin(r(i),bantay(i)) = 1; 
end 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             77 
%-------------- loc nhieu ----------------- 
    bn = imfill(bin,'hole');%lap day lo trong 
    dientich = bwarea(bn); 
    bn=bwareaopen(bn,round(dientich*0.3));% loai bo vung c√≥ dien t√≠ch nho hon 
30% 
    bn = medfilt2(bn, [3 3]); %filtering 
    bantay=bn; 
%------------------------------------------- 
%--------------- tach ban tay --------------------------------- 
 ya=sum(bantay,1);%tong theo cot  
 [cy, y]=max(ya);% c la tong pixel lon nhat, y la tri so cot max 
 xa=sum(bantay,2); 
 [cx, x]=max(xa); 
 tong=sum(bantay(x:height,:),2); 
for i=1:length(tong) 
    if tong(i)< 0.5*cx 
    break; 
    end 
end 
 y1= (i+x);% vi tri hang co tong so pixel trang nho nhat tu vi tri max o giua tinh 
xuong duoi 
for i=x:-1:1 % chay tu diem x max cho den vi tri ban dau,-1 bc nhay 
    if sum(bantay(i,:))==0 % xet tai vi tri hang cuoi cung 
    break; 
    end 
end 
y2=i; % hang tren cung 
for i=y:width 
    if sum(bin(:,i))==0 
    break; 
    end 
end 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             78 
x1=i; % cot phia ben phai cua ban tay 
for i=y:-1:1 
    if sum(bantay(:,i))==0 
    break 
    end 
end 
x2=i; 
h=y1-y2;% chieu cao  
w=x1-x2;% chieu rong 
bantay1=imcrop(bantay,[x2 y2 w h]); 
out = imresize(bantay1,[h*2 h]); 
% out = bantay1; 
h = size(out,1); 
w = size(out,2); 
%---------------------------------------- 
%filtering 
% out=im2bw(out); 
%out=bwareaopen(out,100); 
out=imdilate(out,strel('diamond',4));% lam gian 
%se = strel('line',11,100); out = imdilate(out,se); 
%retain largest only 
res=out; 
cc=bwconncomp(res); 
arr=(cellfun(@numel,cc.PixelIdxList)); 
newLabel=res; 
if ~isempty(round(arr)) 
    msz=0; 
    for i=1:length(arr) 
        if msz<arr(i:i) 
            msz=arr(i:i); 
            index=i; 
        end 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             79 
    end 
    labels=labelmatrix(cc); 
    newLabel=(labels==index); 
    out=newLabel; 
end 
out=imfill(out,'holes'); 
stats=regionprops(out,'Centroid'); 
if ~isempty(stats) 
    cx=stats.Centroid(1); 
    cy=stats.Centroid(2); 
    %find the nearest countour point 
    boundary=bwboundaries(out); 
    minDist=2*h*w; 
%     mx=cx; 
%     my=cy; 
    bImg=uint8(zeros(h,w));% 
 
    for i=1:length(boundary) 
        cell=boundary{i,1}; 
        for j=1:length(cell) 
            y=cell(j,1); 
            x=cell(j,2); 
            sqrDist=(cx-x)*(cx-x)+(cy-y)*(cy-y); 
            bImg(x,y)=255; 
            if(sqrDist<minDist) 
                minDist=sqrDist; 
%                 mx=x; 
%                 my=y; 
            end 
        end 
    end 
    sed=strel('disk',round(sqrt(minDist)/2)); 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             80 
    final=imerode(out,sed); 
    final=imdilate(final,sed); 
    final=out-final; 
    final(:,1) = 0; final(:,end) = 0; 
    final(1,:) = 0;  
    %final(end,:) = 0; 
    final=imclearborder(final); 
%     final=bwareaopen(final,100); 
    dientich = bwarea(final); 
    final=bwareaopen(final,round(dientich*0.08));%  
 
final=imerode(final,strel('disk',5));% 
%     final = medfilt2(final, [3 3]); %filtering 
%     final = bwareaopen(final,80); %keep only areas >= 60 pixels 
    [~,num]=bwlabel(final,8); 
    subplot(4,6,[13 14 19 20], 'replace'); 
    imshow(final); 
    subplot(4,6,[3 4 5 6], 'replace');  
    if num ==0 
  
imshow('F:\SPKT\DATN\CODE\Data\Devices\OFF.jpg','InitialMagnification','
fit'); 
    elseif num ==1  
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\1.jpg','InitialMagnification','fit')
; 
    elseif num ==2 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\2.jpg','InitialMagnification','fit')
;     
    elseif num ==3 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\3.jpg','InitialMagnification','fit')
;     
    elseif num ==4 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             81 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\4.jpg','InitialMagnification','fit')
;     
    elseif num ==5 
        
imshow('F:\SPKT\DATN\CODE\Data\Devices\5.jpg','InitialMagnification','fit')
;               
    else  
         
imshow('F:\SPKT\DATN\CODE\Data\Devices\error.jpg','InitialMagnification','
fit');  
    end 
else 
    num=0; 
    final = zeros(size(out)); 
    subplot(4,6,[13 14 19 20], 'replace'); 
    imshow(out); 
    subplot(4,6,[3 4 5 6], 'replace'); 
  
imshow('F:\SPKT\DATN\CODE\Data\Devices\OFF.jpg','InitialMagnification','
fit'); 
end 
run uart.m; 
    %----------------------------------------------- 
hold off; 
6. Ch∆∞∆°ng tr√¨nh con hi·ªÉn th·ªã ·∫£nh qua c√°c giai ƒëo·∫°n x·ª≠ l√Ω 
I = img_orig; 
% I = imread('anhsudung.jpg'); 
I = double(I); 
im = zeros(size(I));  
 
im(:,:,1)=I(:,:,1).*bn;    
im(:,:,2)=I(:,:,2).*bn;  
im(:,:,3)=I(:,:,3).*bn;  
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             82 
figure; 
subplot(2,2,1, 'replace'); 
imshow(img_orig); 
title('Original Image'); 
subplot(2,2,2, 'replace'); 
imshow(uint8(im)); 
title('Skin Detection'); 
subplot(2,2,3, 'replace'); 
imshow(out); 
title('Hand Extraction'); 
subplot(2,2,4, 'replace'); 
imshow(final); 
title('Finger Extraction'); 
7. Ch∆∞∆°ng tr√¨nh con hi·ªÉn th·ªã th√¥ng tin t√°c gi·∫£ 
%---------- Tao figure ------------------- 
 
  
set(figure,'defaultuicontrolunit','normalized',... 
            'menubar','none',... 
            'name', 'About',... 
            'numbertitle', 'off', ... 
            'Color', [0.925 0.914 0.847],... 
            'position', [280 90 300 400],...  
            'visible','off'); 
do_an = uicontrol(gcf,... 
                'style', 'text',... 
                'string', '¬ß√• ¬∏n t√®t nghi√ñp',...  
                'position', [0.2 0.85 0.6 0.06],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 18,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]);          
de_tai = uicontrol(gcf,... 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             83 
                'style', 'text',... 
                'string', '¬ß√í t¬µi:',...  
                'position', [0.25 0.72 0.5 0.05],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]);     
ten_de_tai = uicontrol(gcf,... 
                'style', 'text',... 
                'string', {'¬ßi√íu khi√ín thi√ït b√û b¬ªng c√∂ ch√ò tay',... 
                'th¬´ng qua x√∂ l√Ω ¬∂nh'},...  
                'position', [0.04 0.6 0.9 0.1],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]);        
tac_gia = uicontrol(gcf,... 
                'style', 'text',... 
                'string', 'T¬∏c gi¬∂:',... 
                'position', [0.04 0.4 0.9 0.1],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]); 
             
sang = uicontrol(gcf,... 
                'style', 'text',... 
                'string', 'Nguy√în H√∑u S¬∏ng  12141191',... 
                'position', [0.05 0.34 0.9 0.1],... % x y w h 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             84 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]); 
        chi = uicontrol(gcf,... 
                'style', 'text',... 
                'string', 'T√µ Th√û Kim Chi  12141022',... 
                'position', [0.05 0.28 0.9 0.1],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]);   
            thoi_gian = uicontrol(gcf,... 
                'style', 'text',... 
                'string', '7/2016',...  
                'position', [0.04 0.02 0.9 0.1],... % x y w h 
                'fontname', '.vnTime',...  
                'fontsize', 12,... 
                'foregroundcolor', 'b',... 
                'fontweight', 'bold', ... 
                'background', [0.925 0.914 0.847]);              
       movegui(gcf,'center') 
set(gcf, 'visible','on'); 
clc; 
%--------------------------- 
8. Ch∆∞∆°ng tr√¨nh con tho√°t ch∆∞∆°ng tr√¨nh 
% THOAT 
button = questdlg('Do you want to exit program?', ... 
'Confirmation', 'Yes', 'No', 'Yes'); 
if strcmp(button,'Yes')  
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             85 
    close all; 
    clear all; 
    clc; 
end 
9. Ch∆∞∆°ng tr√¨nh con giao ti·∫øp COM-DB9 
    disp('Downloading data ...') 
    str = num2str(num); 
    com = serial('COM10','BaudRate',9600); 
    %----------------MO CONG COM ----------------- 
    fopen(com); 
    %--------------- TRUYEN DU LIEU -------------- 
    fprintf(com, '%c', str); 
    %--------------- DONG CONG TRUYEN------------- 
    fclose(com);  
    delete(com); 
    clear com; 
    disp('Download complete sucessfully!') 
10. 
Ch∆∞∆°ng tr√¨nh con cho bi·∫øt ti·∫øn ƒë·ªô th·ª±c hi·ªán 
wbar = waitbar(0,'Please wait...'); 
steps = 100; 
for n = 1:steps 
    % computations take place here 
    waitbar(n / steps) 
end 
close(wbar); 
 
11. 
 Ch∆∞∆°ng tr√¨nh m·∫°ch ƒëi·ªÅu khi·ªÉn. 
Code ch∆∞∆°ng tr√¨nh nh·∫≠n t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn t·ª´ ph·∫ßn m·ªÅm tr√™n m√°y t√≠nh, x·ª≠ l√Ω, ƒëi·ªÅu 
khi·ªÉn s√°ng ho·∫∑c t·∫Øt LED tr√™n m·∫°ch ƒë∆∞·ª£c tr√¨nh b√†y b√™n d∆∞·ªõi: 
#include <16f887.h> 
#FUSES INTRC_IO 
#use DELAY(clock=4M)  
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             86 
#use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8, stop=1)  
#include <string.h> 
unsigned char k; 
#int_RDA 
void RDA_isr(void)  
{ 
   k=fgetc(); 
   if(k != null) 
   clear_interrupt(int_RDA);   
} 
void main() 
{ 
   SET_TRIS_A(0x00); 
   OUTPUT_A(0xFF); 
   DELAY_MS(300); 
   OUTPUT_A(0x00); 
   DELAY_MS(200); 
   OUTPUT_A(0xFF); 
   DELAY_MS(300); 
   OUTPUT_A(0x00); 
   enable_interrupts(INT_RDA); 
   enable_interrupts(GLOBAL); 
   k='0'; 
   while(true) 
   { 
      if(k=='1')          OUTPUT_A(0x10) ;  // 0001 0000 
      else if(k == '2') OUTPUT_A(0x08) ;  // 0000 1000 
      else if(k == '3') OUTPUT_A(0x04) ;  // 0000 0100 
      else if(k == '4') OUTPUT_A(0x02) ;  // 0000 0010 
      else if(k == '5') OUTPUT_A(0x01) ;  // 0000 0001 
      else                   OUTPUT_A(0x00) ;  
   } 
} 
//----------- End of file ------------ 
 
B·ªò M√îN ƒêI·ªÜN T·ª¨ C√îNG NGHI·ªÜP                                                             87 
 
 
 
S
K
L
0
0
2
1
5
4
